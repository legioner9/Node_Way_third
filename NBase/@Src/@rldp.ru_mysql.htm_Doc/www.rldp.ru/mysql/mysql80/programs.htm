<html>
<head>
  <META NAME="Author" CONTENT="Alexey V. Pautov">
  <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=koi8-r">
  <title>Глава 5. Программы MySQL</title>
</head>

<body>
<script type="text/javascript">
nN = navigator.appName;
function fsearch(str)
{
  if (document.fform.myradio[0].checked) {
     open('../../../yandex.ru/sitesearch@text=' + str + '&site=' +
          document.location.hostname);
  } else {open('../../../yandex.ru/sitesearch@text=' + str);}
}

function MouseUpHandler(e)
{
  if (nN == 'Netscape' || nN == 'Opera') {
     if (document.getSelection()) {
        str = document.getSelection();
        newstr = str.replace(/\n+/g, ' ');
        str = newstr.replace(/\ +/g, ' ');
        if (str.length > 100) {
           var i;
           i = 0;
           str = str.slice(0, 100);
           i = str.lastIndexOf(' ');
           if (i > 0){str = str.slice(0, i);}
        }
        document.fform.strf.value = str;
     }
  } else if(nN == 'Microsoft Internet Explorer') {
    if (document.selection.createRange()) {
       var range = document.selection.createRange();
       var str = range.text;
    }
    if (str) {
       str = str.replace(/\ +/g, " ");
       document.fform.strf.value = str;
    }
  }
  return true;
}
if (window.Event) {document.captureEvents(Event.MOUSEUP);}
document.onmouseup = MouseUpHandler;
</script>

<center><table><tr><td><a href="../../default.htm">
<IMG SRC="../../img/b_book.gif" ALT="RussianLDP" HEIGHT=48 WIDTH=55
ALIGN=ABSCENTER></a></td>

<td><!--Rating@Mail.ru COUNTEr-->
<a target=_top href="../../../top.mail.ru/jump@from=1364238">
<img src="../../../d1.cd.b4.a1.top.list.ru/counter@id=1364238;t=230"
border=0 height=31 width=88 alt="Рейтинг@Mail.ru"/></a>
</td><!--/COUNTER-->

<td><!-- begin of Top100 code -->
<script id="top100Counter" type="text/javascript"
src="../../../cnt.rambler.ru/top100.jcn@1448139"></script>
<noscript><a href="../../../top100.rambler.ru/top100/default.htm">
<img src="../../../cnt.rambler.ru/top100.cnt@1448139" alt="Rambler's Top100"
width="81" height="63" border="0" /></a></noscript>
<!-- end of Top100 code --></td>

<td><!-- HotLog -->
<script type="text/javascript" language="javascript">
hotlog_js="1.0";
hotlog_r=""+Math.random()+"&s=525943&im=127&r="+escape(document.referrer)+
"&pg="+escape(window.location.href);
document.cookie="hotlog=1; path=/"; hotlog_r+="&c="+(document.cookie?"Y":"N");
</script>
<script type="text/javascript" language="javascript1.1">
hotlog_js="1.1";hotlog_r+="&j="+(navigator.javaEnabled()?"Y":"N")
</script>

<script type="text/javascript" language="javascript1.2">
hotlog_js="1.2";
hotlog_r+="&wh="+screen.width+'x'+screen.height+"&px="+
(((navigator.appName.substring(0,3)=="Mic"))?
screen.colorDepth:screen.pixelDepth)</script>

<script type="text/javascript" language="javascript1.3">
hotlog_js="1.3"</script>
<script type="text/javascript" language="javascript">
hotlog_r+="&js="+hotlog_js;
document.write("<a href='../../../click.hotlog.ru/@525943' target='_top'>
<img "+" src='http://hit27.hotlog.ru/cgi-bin/hotlog/count?"+
hotlog_r+"&' border=0 width=88 height=31 alt=HotLog><\/a>")</script>

<noscript>
<a href="../../../click.hotlog.ru/@525943" target="_top">
<img src="../../../hit27.hotlog.ru/cgi-bin/hotlog/count@s=525943&im=127"
border="0" width="88" height="31" alt="HotLog"></a></noscript></td>
<!-- /HotLog -->

<td><!--LiveInternet counter--><script type="text/javascript"><!--
document.write("<a href='../../../www.liveinternet.ru/click' "+
"target=_blank><img src='http://counter.yadro.ru/hit?t52.15;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";"+Math.random()+"' alt='' title='LiveInternet: показано число просмотров и"+
" посетителей за 24 часа' "+"border=0 width=88 height=31><\/a>")//-->
</script></td></tr>
<!--/LiveInternet-->

<tr><td><FONT SIZE=-1><b>WebMoney:&nbsp;</b><br>
WMZ Z294115950220&nbsp;<br>
WMR R409981405661&nbsp;<br>
WME E134003968233&nbsp;</FONT></td>

<td><FONT SIZE=-1><b>Visa&nbsp;</b><br>
4274 3200 2453 6495&nbsp;</FONT></td>
</tr></table></center>
<P><index><table><tr><td>

<h1><a name="programs"></a>Глава 5. Программы MySQL</h1>
<p>Эта глава обеспечивает краткий обзор программ командной строки MySQL,
обеспеченных Oracle Corporation. Это также обсуждает общий синтаксис для
того, чтобы определить опции, когда Вы выполняете эти программы.
У большинства программ есть опции, которые являются определенными для их
собственной работы, но синтаксис опции подобен для всех. Наконец, глава
обеспечивает более подробные описания отдельных программ, включая опции,
которые они признают.</p>

<h2><a name="programs-overview"></a>5.1. Обзор программ MySQL</h2>
<p>В установке MySQL есть много различных программ. Этот раздел обеспечивает
их краткий обзор. Более поздние разделы обеспечивают более подробное
описание. Описание каждой программы указывает на синтаксис
и опции, которые она поддерживает.</p>

<p>Большинство дистрибутивов MySQL включает все эти программы, за
исключением тех программ, которые являются определенными для платформы.
Например, скрипты запуска сервера не используются в Windows.
Исключение то, что дистрибутивы RPM более специализированы. Есть RPM для
сервера, другой для программ клиента и т.д. Если Вы, кажется, пропускаете
одну или более программ, см. <a href="install.htm">главу 2</a>, для
информации о типах дистрибутивов, и что они содержат. Может случиться так,
что у Вас есть дистрибутив, который не включает все программы, и Вы должны
установить дополнительный пакет.</p>

<p>Каждая программа MySQL берет много различных опций. Большинство программ
обеспечивает опцию <code>--help</code>, которую Вы можете использовать, чтобы
получить описание различных вариантов программы. Например, попробуйте
<a href="#mysql"><span><strong>mysql --help</strong></span></a>.
</p>

<p>Вы можете переопределить значения опции по умолчанию для программ MySQL,
определяя опции в командной строке или в файле опции. См.
<a href="#programs-using">раздел 5.2</a>.</p>

<p>Сервер MySQL, <a href="#mysqld"><span><strong>mysqld</strong>
</span></a>, является основной программой, которая делает большую часть
работы в установке MySQL. Сервер сопровождается несколькими связанными
скриптами, которые помогают Вам в запуске и остановке сервера:</p>

<ul><li><p>
<a href="#mysqld"><span><strong>mysqld</strong></span></a></p>
<p>Демон SQL (то есть, сервер MySQL). Чтобы использовать программы клиента,
<a href="#mysqld"><span><strong>mysqld</strong></span></a> должен
работать, потому что клиенты получают доступ к базам данных, соединяясь с
сервером. См. <a href="#mysqld">раздел 5.3.1</a>.</li>

<li><a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a></p>
<p>Скрипт запуска сервера. <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> пытается запустить
<a href="#mysqld"><span><strong>mysqld</strong></span></a>. См.
<a href="#mysqld-safe">раздел 5.3.2</a>.</li>

<li><a href="#mysql-server"><span><strong>mysql.server</strong>
</span></a></p>
<p>Другой скрипт запуска сервера. Этот скрипт используется на системах,
которые используют стиль System V для каталогов, содержащих скрипты, которые
запускают системные службы для особых уровней выполнения. Это вызывает
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>, чтобы запустить сервер MySQL. См.
<a href="#mysql-server">раздел 5.3.3</a>.</li>

<li><a href="#mysqld-multi"><span><strong>mysqld_multi</strong>
</span></a></p>
<p>Скрипт запуска сервера, который может запустить или остановить много
серверов, установленных в системе. См.
<a href="#mysqld-multi">раздел 5.3.4</a>.</p></li></ul>

<p>Несколько программ выполняют операции установки во
время установки MySQL:</p>
<ul><li><p><a href="#comp-err"><span><strong>comp_err</strong>
</span></a></p>
<p>Эта программа используется во время процессов сборки или установки MySQL.
Это собирает файлы сообщения об ошибке из исходных файлов. См.
<a href="#comp-err">раздел 5.4.1</a>.</li>

<li><a href="#mysql-secure-installation"><span><strong>
mysql_secure_installation</strong></span></a></p>
<p>Эта программа позволяет Вам улучшить безопасность своей
установки MySQL. См. <a href="#mysql-secure-installation">раздел
5.4.2</a>.</li>

<li><a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a></p>
<p>Эта программа создает сертификат SSL, ключевые файлы и файлы ключевой пары
RSA, требуемые, чтобы поддерживать безопасные соединения, если те файлы
отсутствуют. Файлы, создаваемые <a href="#mysql-ssl-rsa-setup">
<span><strong>mysql_ssl_rsa_setup</strong></span></a>,
могут использоваться для безопасных соединений, используя SSL или RSA. См.
<a href="#mysql-ssl-rsa-setup">раздел 5.4.3</a>.</li>

<li><a href="#mysql-tzinfo-to-sql"><span><strong>
mysql_tzinfo_to_sql</strong></span></a></p>
<p>Эта программа загружает таблицы часового пояса в базу данных
<code>mysql</code>, используя содержание базы данных <span class="firstterm">
zoneinfo</span> хост-системы (набор файлов, описывающих часовые пояса). См.
<a href="#mysql-tzinfo-to-sql">раздел 5.4.4</a>.</li>

<li><a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a></p>
<p>Эта программа используется после работы обновления MySQL.
Это проверяет таблицы на несовместимости и восстанавливает их в случае
необходимости, и обновляет таблицы привилегий с любыми изменениями, которые
были произведены в более новых версиях MySQL. См.
<a href="#mysql-upgrade">раздел 5.4.5</a>.</p></li></ul>

<p>Программы клиента MySQL, которые соединяются с сервером MySQL:</p>
<ul><li><p><a href="#mysql"><span><strong>mysql</strong>
</span></a></p>
<p>Инструмент командной строки для того, чтобы в интерактивном режиме
ввести запросы SQL или выполнить их из файла в пакетном режиме. См.
<a href="#mysql">раздел 5.5.1</a>.</li>

<li><a href="#mysqladmin"><span><strong>mysqladmin</strong>
</span></a></p>
<p>Клиент, который выполняет административные задачи, такие как создание или
удаление баз данных, перезагрузка таблиц, сброс таблиц на диск и повторное
открытие файлов системного журнала.
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> может также использоваться, чтобы получить версию, процесс и информацию
о статусе от сервера. См. <a href="#mysqladmin">раздел 5.5.2</a>.
</li>

<li><a href="#mysqlcheck"><span><strong>mysqlcheck</strong>
</span></a></p>
<p>Клиент табличного обслуживания, который проверяет, восстанавливает,
анализирует и оптимизирует таблицы. См.
<a href="#mysqlcheck">раздел 5.5.3</a>.</li>

<li><a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a></p>
<p>Клиент, который выводит базу данных MySQL в файл как SQL, текст или XML.
См. <a href="#mysqldump">раздел 5.5.4</a>.</li>

<li><a href="#mysqlimport"><span><strong>mysqlimport</strong>
</span></a></p>
<p>Клиент, который импортирует текстовые файлы в их соответствующие таблицы
через <a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>. См.
<a href="#mysqlimport">раздел 5.5.5</a>.</li>

<li><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a></p>
<p>Клиент, который выводит базу данных MySQL в файл как SQL. См.
<a href="#mysqlpump">раздел 5.5.6</a>.</li>

<li><a href="#mysqlshow"><span><strong>mysqlshow</strong></span>
</a></p>
<p>Клиент, который выводит на экран информацию о базах данных, таблицах,
столбцах и индексах. См. <a href="#mysqlshow">раздел 5.5.7</a>.
</li>

<li><a href="#mysqlslap"><span><strong>mysqlslap</strong></span>
</a></p>
<p>Клиент, который разработан, чтобы подражать загрузке клиента для сервера
MySQL и сообщить о синхронизации каждого этапа. Это работает, как будто
многократные клиенты получают доступ к серверу. См.
<a href="#mysqlslap">раздел 5.5.8</a>.</p></li></ul>

<p>Утилиты управления MySQL:</p>
<ul><li><p><a href="#innochecksum"><span><strong>innochecksum
</strong></span></a></p>
<p>Офлайновая утилита контрольной суммы файла <code>InnoDB</code>, см.
<a href="#innochecksum">раздел 5.6.2</a>.</li>

<li><a href="#myisam-ftdump"><span><strong>myisam_ftdump</strong>
</span></a></p>
<p>Утилита, которая выводит на экран информацию о полнотекстовом индексе в
таблице <code>MyISAM</code>, см.
<a href="#myisam-ftdump">раздел 5.6.3</a>.</li>

<li><a href="#myisamchk"><span><strong>myisamchk</strong></span>
</a></p>
<p>Утилита, чтобы описать, проверить, оптимизировать и отремонтировать
таблицы <code>MyISAM</code>, см. <a href="#myisamchk">раздел
5.6.4</a>.</li>

<li><a href="#myisamlog"><span><strong>myisamlog</strong></span>
</a></p>
<p>Утилита, которая обрабатывает содержание
файла системного журнала <code>MyISAM</code>. См.
<a href="#myisamlog">раздел 5.6.5</a>.</li>

<li><a href="#myisampack"><span><strong>myisampack</strong>
</span></a></p>
<p>Утилита, которая сжимает таблицы <code>MyISAM</code>,
чтобы произвести меньшие таблицы только для чтения. См.
<a href="#myisampack">раздел 5.6.6</a>.</li>

<li><a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a></p>
<p>Утилита, которая позволяет Вам сохранить параметры
аутентификации в безопасном, зашифрованном файле <code>.mylogin.cnf</code>.
См. <a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong>
</span></a></p>
<p>Утилита для того, чтобы считать запросы из двоичного журнала. Журнал
выполненных запросов, содержавшихся в двоичных файлах системного журнала,
может использоваться, чтобы помочь оправиться от катастрофического отказа.
См. <a href="#mysqlbinlog">раздел 5.6.8</a>.</li>

<li><a href="#mysqldumpslow"><span><strong>mysqldumpslow</strong>
</span></a></p>
<p>Утилита, чтобы читать и суммировать содержание медленного журнала запроса.
См. <a href="#mysqldumpslow">раздел 5.6.9</a>.</p></li></ul>

<p>Утилиты развития программы MySQL:</p>
<ul><li><p><a href="#mysql-config"><span><strong>mysql_config
</strong></span></a></p>
<p>Скрипт оболочки, который производит значения опции, необходимые,
собирая программы MySQL. См. <a href="#mysql-config">раздел
5.7.1</a>.</li>

<li><a href="#my-print-defaults"><span><strong>my_print_defaults
</strong></span></a></p>
<p>Утилита, которая показывает, какие опции присутствуют в группах опции
файлов опций. См. <a href="#my-print-defaults">раздел 5.7.2</a>.
</li>

<li><a href="#resolve-stack-dump"><span><strong>
resolve_stack_dump</strong></span></a></p>
<p>Утилита, которая решает числовой дамп трассировки стека к символам. См.
<a href="#resolve-stack-dump">раздел 5.7.3</a>.</p></li></ul>

<p>Разные дополнительные утилиты:</p>
<ul><li><p><a href="#lz4-decompress"><span><strong>lz4_decompress
</strong></span></a></p>
<p>Утилита, которая распаковывает вывод <a href="#mysqlpump">
<span><strong>mysqlpump</strong></span></a>, который создавался, используя
сжатие LZ4. См. <a href="#lz4-decompress">раздел 5.8.1</a>.</li>

<li><a href="#perror"><span><strong>perror</strong></span></a>
</p>
<p>Утилита, которая выводит на экран значение кодов ошибки MySQL или системы.
См. <a href="#perror">раздел 5.8.2</a>.</li>

<li><a href="#replace-utility"><span><strong>replace</strong>
</span></a></p>
<p>Утилита, которая выполняет строковую замену во входном тексте. См.
<a href="#replace-utility">раздел 5.8.3</a>.</li>

<li><a href="#resolveip"><span><strong>resolveip</strong></span>
</a></p>
<p>Утилита, которая приводит имя хоста к IP-адресу или наоборот. См.
<a href="#resolveip">раздел 5.8.4</a>.</li>

<li><a href="#zlib-decompress"><span><strong>zlib_decompress
</strong></span></a></p>
<p>Утилита, которая распаковывает вывод <a href="#mysqlpump">
<span><strong>mysqlpump</strong></span></a>, который создавался, используя
сжатие ZLIB. См. <a href="#zlib-decompress">раздел 5.8.5</a>.
</p></li></ul>

<p>Oracle Corporation также обеспечивает
<a href="workb.htm">MySQL Workbench</a> GUI, который используется, чтобы
управлять серверами MySQL и базами данных, создавать, выполнять и оценивать
запросы, мигрировать схемы и данные от других систем управления реляционной
базы данных для использования с MySQL. Дополнительные инструменты GUI
включают <a href="install.htm#windows-notifier">MySQL Notifier</a> и
<a href="../../../dev.mysql.com/doc/mysql-for-excel/en/default.htm" target="_top">
MySQL for Excel</a>.</p>

<p>Программы клиента MySQL, которые общаются с сервером, используя
библиотеку клиент-сервер, применяют следующие переменные окружения.</p>
<table border="1">
<thead><tr><th scope="col">Переменная</th><th scope="col">Смысл
</th></tr></thead>
<tbody><tr><td scope="row"><code>MYSQL_UNIX_PORT</code></td><td>
Файл сокета Unix по умолчанию используемый для соединений с
<code>localhost</code></td></tr>
<tr><td scope="row"><code>MYSQL_TCP_PORT</code></td><td>Номер
порта по умолчанию используемый для соединений TCP/IP</td></tr>
<tr><td scope="row"><code>MYSQL_PWD</code></td><td>
Пароль по умолчанию</td></tr>
<tr><td scope="row"><code>MYSQL_DEBUG</code></td><td>
Опции трассировки отладки</td></tr>
<tr><td scope="row"><code>TMPDIR</code></td><td>
Каталог, где создаются временные таблицы и файлы</td></tr></tbody></table>

<p>Для полного списка переменных окружения, используемых программами MySQL,
см. <a href="#environment-variables">раздел 5.9</a>.</p>
<p>Использование <code>MYSQL_PWD</code> опасно, см.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.</p>

<h2><a name="programs-using"></a>5.2. Использование программ MySQL</h2>
<h3><a name="invoking-programs"></a>5.2.1. Вызов программ MySQL</h3>
<p>Чтобы вызвать программу MySQL из командной строки (то есть, из
Вашей оболочки или командной строки), вводят название программы,
сопровождаемое любыми опциями или другими параметрами, которые должны
проинструктировать программу, что Вы хотите. Следующие команды показывают
некоторые примеры вызова программы. <code>shell&gt;</code>
представляет подсказку для Вашего интерпретатора команд, это не часть того,
что Вы вводите. Особая подсказка, которую Вы видите, зависит от Вашего
интерпретатора команд. Типичные подсказки <code>$</code> для
<span><strong>sh</strong></span>, <span><strong>ksh</strong></span> или
<span><strong>bash</strong></span>, <code>%</code> для
<span><strong>csh</strong></span> или <span><strong>tcsh</strong></span> и
<code>C:\&gt;</code> для Windows <span><strong>command.com</strong></span>
или <span><strong>cmd.exe</strong></span>.
<pre>
shell&gt; mysql --user=root test
shell&gt; mysqladmin extended-status variables
shell&gt; mysqlshow --help
shell&gt; mysqldump -u root personnel
</pre>

Параметры, которые начинаются с единственного или двойного тире
(<code>-</code>, <code>--</code>), задают опции программы. Опции, как
правило, указывают на тип соединения, которое программа должна сделать к
серверу, или определяют операционный режим. Синтаксис опций описан в
<a href="#program-options">разделе 5.2.3</a>.</p>

<p>Параметры не опции (параметры без ведущего тире) обеспечивают
дополнительную информацию программе. Например,
<a href="#mysql"><span><strong>mysql</strong></span></a>
интерпретирует первый параметр не опции как имя базы данных, таким образом,
команда <code>mysql --user=root test</code> указывает, что Вы хотите
использовать базу данных <code>test</code>.</p>

<p>Более поздние разделы, которые описывают отдельные программы, указывают,
какие опции программа поддерживает и значение
любых дополнительных параметров.</p>

<p>Некоторые опции характерны для многих программ. Наиболее часто
используемые из них <a href="#option_general_host"><code>
--host</code></a> (<code>-h</code>),
<a href="#option_general_user"><code>--user</code></a>
(<code>-u</code>) и <a href="#option_general_password"><code>
--password</code></a> (<code>-p</code>) определяют параметры соединения. Они
указывают на хост, где сервер MySQL работает, имя пользователя и пароль Вашей
учетной записи MySQL. Все программы клиента MySQL понимают эти опции,
они позволяют Вам определить с которым сервером соединиться и учетную запись,
чтобы использовать на том сервере. Другие опции соединения
<a href="#option_general_port"><code>--port</code></a>
(<code>-P</code>) определяет номер порта TCP/IP и
<a href="#option_general_socket"><code>--socket</code></a>
(<code>-S</code>) указывает файл сокета на Unix (или именованный канал в
Windows). См. <a href="#connecting">раздел 5.2.2</a>.</p>

<p>Вы можете счесть необходимым вызвать программы MySQL, используя путь для
каталога <code>bin</code>, в котором они установлены. Это, вероятно, будет
иметь место, если Вы получаете ошибку <span><span>program not found</span>
</span>, когда Вы пытаетесь выполнить программу MySQL из любого каталога
кроме <code>bin</code>. Чтобы сделать более удобным использование MySQL, Вы
можете добавить путь <code>bin</code> в переменную <code>PATH</code>.
Это позволяет Вам выполнить программу, вводя только ее имя.
Например, если <a href="#mysql"><span><strong>mysql</strong>
</span></a> установлена в <code>/usr/local/mysql/bin</code>,
Вы можете выполнить программу, вызывая это как
<a href="#mysql"><span><strong>mysql</strong></span></a>
и не надо вызвать это как
<span><strong>/usr/local/mysql/bin/mysql</strong></span>.</p>

<p>Консультируйтесь с документацией для своего интерпретатора
команд для инструкций по установке <code>PATH</code>.
Синтаксис для того, чтобы установить переменные окружения является
определенным для интерпретатора. См.
<a href="#setting-environment-variables">раздел 5.2.10</a>.
После изменения Вашего <code>PATH</code>, откройте новую консоль в Windows
или войдите в систему снова в Unix, чтобы установка вступила в силу.</p>

<h3><a name="connecting"></a>5.2.2. Соединение с сервером MySQL</h3>
<p>Этот раздел описывает, как установить соединение с сервером MySQL.
Для дополнительной информации, если Вы не способны соединиться, см.
<a href="security.htm#problems-connecting">раздел 7.2.8</a>.</p>

<p>Для программы клиента, чтобы быть в состоянии соединиться с сервером, надо
использовать надлежащие параметры соединения, такие как имя хоста
и имя пользователя и пароль Вашей учетной записи MySQL. У каждого параметра
соединения есть значение по умолчанию, но Вы можете переопределить их по мере
необходимости через использование опций программы, определенных в командной
строке или в файле опций.</p>

<p>Примеры здесь используют <a href="#mysql"><span><strong>
mysql</strong></span></a>, но принципы относятся к другим клиентам, таким как
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>,
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> или <a href="#mysqlshow"><span><strong>mysqlshow</strong>
</span></a>.</p>

<p>Эта команда вызывает <a href="#mysql"><span><strong>mysql
</strong></span></a> не определяя параметров соединения явно:
<pre>
shell&gt; mysql
</pre>
Поскольку нет никаких опций параметра, значения по умолчанию применяются:</p>

<ul><li><p>Имя хоста <code>localhost</code>. В Unix у этого есть особое
значение, как описано позже.</li>
<li>Имя пользователя значения по умолчанию <code>ODBC</code> в Windows или
Ваше имя для входа в систему в Unix.</li>

<li>Никакой пароль не посылают, если ни один из параметров
<code>-p</code> или <a href="#option_general_password"><code>
--password</code></a> не задан.</li>

<li>Для <a href="#mysql"><span><strong>mysql</strong></span></a>
первый параметр не опции взят в качестве названия базы данных значения по
умолчанию. Если нет такой опции, <a href="#mysql"><span><strong>
mysql</strong></span></a> не выбирает базу данных по умолчанию.</p></li></ul>

<p>Чтобы определить имя хоста и пользователя явно, так же как пароль,
укажите соответствующие опции в командной строке:
<pre>
shell&gt; mysql --host=localhost --user=myname --password=mypass mydb
shell&gt; mysql -h localhost -u myname -pmypass mydb
</pre>
Для опций пароля значение является дополнительным:</p>

<ul><li><p>Если Вы используете <code>-p</code> или
<a href="#option_general_password"><code>--password</code></a>
и определяете значение пароля, не должно быть <span><em>пробелов</em></span>
между <code>-p</code> или <a href="#option_general_password">
<code>--password=</code></a> и паролем после этого.</li>

<li>Если Вы используете <code>-p</code> или
<a href="#option_general_password"><code>--password</code></a>,
но не определяете значение пароля, программа клиента запрашивает Вас о
пароле. Пароль не выведен на экран, когда Вы вводите его.
Это более безопасно, чем предоставление пароля в командной строке.
Другие пользователи в Вашей системе могут быть в состоянии видеть пароль,
определенный в командной строке, выполняя такую команду, как <span><strong>ps
auxw</strong></span>. См. <a href="security.htm#password-security-user">
раздел 7.1.2.1</a>.</p></li></ul>

<p>Указание значение пароля в командной строке может быть угрозой
безопасности. Чтобы избежать этой проблемы, определите
<code>--password</code> или <code>-p</code> без любого значения пароля:
<pre>
shell&gt; mysql --host=localhost --user=myname --password mydb
shell&gt; mysql -h localhost -u myname -p mydb
</pre>

Когда у опции пароля нет никакого значения пароля, программа клиента
печатает подсказку и ждет ввода пароля. В этих примерах <code>mydb</code>
<span><em>не</em></span> интерпретируется как пароль, потому что это отделено
от предыдущей опции пароля пробелом.</p>

<p>На некоторых системах библиотека автоматически ограничивает пароль восемью
символами. Это проблема с системной библиотекой, не с MySQL. Внутренне у
MySQL нет никакого предела для длины пароля. Чтобы решить проблему,
измените свой пароль MySQL на значение, которое является восемью или меньшим
количеством символов или поместите Ваш пароль в файл опции.</p>

<p>В Unix программы MySQL особо обрабатывают имя хоста <code>localhost</code>
способом, который, вероятно, отличается от того, что Вы ожидаете по сравнению
с другими основанными на сети программами. Для соединений с
<code>localhost</code> программы MySQL пытаются соединиться с локальным
сервером при использовании файла сокета Unix. Это происходит даже если
<a href="#option_general_port"><code>--port</code></a> или
<code>-P</code> заданы, чтобы определить номер порта. Чтобы гарантировать,
что клиент делает соединение по TCP/IP с локальным сервером, надо
использовать <a href="#option_general_host"><code>--host</code>
</a> или <code>-h</code> и определить значение имени хоста
<code>127.0.0.1</code> или IP-адрес (или имя) локального сервера. Вы можете
также определить протокол соединения явно, даже для <code>localhost</code>,
опцией <a href="#option_general_protocol"><code>--protocol=TCP
</code>:
<pre>
shell&gt; mysql --host=127.0.0.1
shell&gt; mysql --protocol=TCP
</pre>

Опция <a href="#option_general_protocol"><code>--protocol</code>
</a> позволяет Вам установить особый тип соединения, даже когда другие опции
обычно принимали бы значение по умолчанию к некоторому другому протоколу.</p>

<p>Если сервер сконфигурирован, чтобы принять соединения IPv6, клиенты
могут соединиться по IPv6, используя
<a href="#option_general_host"><code>--host=::1</code></a>. См.
<a href="server.htm#ipv6-support">раздел 6.1.9</a>.</p>

<p>В Windows Вы можете вынудить клиента MySQL использовать соединение
именованного канала, определяя
<a href="#option_general_pipe"><code>--pipe</code></a> или
<a href="#option_general_protocol"><code>--protocol=PIPE</code>
</a> или точку (<code>.</code>) как имя хоста. Если соединения именованного
канала не включены, происходит ошибка. Используйте опцию
<a href="#option_general_socket"><code>--socket</code></a>,
чтобы определить название канала, если Вы не хотите использовать имя канала
значения по умолчанию.</p>

<p>Соединения с удаленными серверами всегда используют TCP/IP. Эта команда
соединяется с <code>remote.example.com</code> через порт о умолчанию (3306):
<pre>
shell&gt; mysql --host=remote.example.com
</pre>

Чтобы определить номер порта явно, используйте
<a href="#option_general_port"><code>--port</code></a> или
<code>-P</code>:
<pre>
shell&gt; mysql --host=remote.example.com --port=13306
</pre>

Вы можете определить номер порта для соединений с локальным сервером.
Однако, как обозначено ранее, соединения с
<code>localhost</code> в Unix будет использовать файл сокета по умолчанию.
Вы должны будете вызвать соединение TCP/IP как уже описано или любую опцию,
которая определяет, что номер порта будет проигнорирован.</p>

<p>Для этой команды программа использует файл сокета в Unix, опция
<a href="#option_general_port"><code>--port
</code></a> проигнорирована:
<pre>
shell&gt; mysql --port=13306 --host=localhost
</pre>

Чтобы заставить использовать номер порта,
вызовите программу любым из этих способов:
<pre>
shell&gt; mysql --port=13306 --host=127.0.0.1
shell&gt; mysql --port=13306 --protocol=TCP
</pre>

<p>Следующий список суммирует опции, которые могут использоваться, чтобы
управлять, как программы клиента соединяются с сервером:</p>
<ul><li><p><a name="option_general_host"></a>
<a href="#option_general_host"><code>--host=<em><code>
host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Хост, где сервер работает. Значение по умолчанию <code>localhost</code>.
</li>

<li><a name="option_general_password"></a>
<a href="#option_general_password"><code>--password[=<em><code>
pass_val</code></em>]</code></a>,
<code>-p[<em><code>pass_val</code></em>]</code></p>

<p>Пароль учетной записи MySQL. Как описано ранее, значение пароля является
дополнительным, но если дано, не должно быть
<span><em>пробелов</em></span> между <code>-p</code> или
<a href="#option_general_password"><code>--password=</code></a>
и паролем после этого. Значение по умолчанию: нет пароля.</li>

<li><a name="option_general_pipe"></a>
<a href="#option_general_pipe"><code>--pipe</code></a>,
<code>-W</code></p>

<p>В Windows соединитесь с сервером, используя именованный канал.
Сервер должен быть запущен с опцией
<a href="server.htm#option_mysqld_enable-named-pipe"><code>
--enable-named-pipe</code></a>, чтобы включить соединения по каналам.</li>

<li><a name="option_general_port"></a>
<a href="#option_general_port"><code>--port=<em><code>port_num
</code></em></code></a>, <code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта, чтобы использовать для соединений, сделанных, используя
TCP/IP. Значение по умолчанию 3306.</li>

<li><a name="option_general_protocol"></a>
<a href="#option_general_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Эта опция явно определяет протокол, чтобы использовать для того, чтобы
соединиться с сервером. Полезно, когда другие параметры соединения обычно
заставляли бы использоваться не тот протокол.
Например, соединения в Unix к <code>localhost</code>
сделаны, используя файл сокета Unix по умолчанию:
<pre>
shell&gt; mysql --host=localhost
</pre>

Чтобы вынудить соединение TCP/IP использоваться вместо этого, определите
<a href="#option_general_protocol"><code>--protocol</code></a>:
<pre>
shell&gt; mysql --host=localhost --protocol=TCP
</pre>

Следующая таблица показывает допустимые значения
<a href="#option_general_protocol"><code>--protocol</code></a>
и указывает на платформы, на которых может использоваться каждое значение.
Значения не являются чувствительными к регистру.</p>

<table border="1">
<thead><tr><th scope="col"><a href="#option_general_protocol">
Значение <code>--protocol</code></a></th><th scope="col">Протокол соединения
</th><th scope="col">Допустимые операционные системы</th></tr></thead>
<tbody><tr><td scope="row" align="left"><code>TCP</code></td>
<td align="left">Соединение TCP/IP с локальным или удаленным сервером</td>
<td align="left">Все</td></tr>
<tr><td scope="row" align="left"><code>SOCKET</code></td><td align="left">
Соединение файла сокета Unix с локальным сервером</td><td align="left">Unix
</td></tr>
<tr><td scope="row" align="left"><code>PIPE</code></td><td align="left">
Соединение именованного канала с локальным или удаленным сервером</td>
<td align="left">Windows</td></tr>
<tr><td scope="row" align="left"><code>MEMORY</code></td><td align="left">
Соединение совместно используемой памяти с локальным сервером</td>
<td align="left">Windows</td></tr></tbody></table></li>

<li><p><a name="option_general_shared-memory-base-name"></a>
<a href="#option_general_shared-memory-base-name"><code>
--shared-memory-base-name=<em><code>name</code></em></code></a></p>
<p>В Windows имя совместно используемой памяти для соединений, сделанных,
используя совместно используемую память для локального сервера. Значение по
умолчанию <code>MYSQL</code>. Имя совместно используемой памяти
является чувствительным к регистру.</p>

<p>Сервер должен быть запущен с опцией
<a href="server.htm#option_mysqld_shared-memory"><code>--shared-memory</code>
</a>, чтобы включить соединения совместно используемой памяти.</li>

<li><a name="option_general_socket"></a>
<a href="#option_general_socket"><code>--socket=<em><code>
file_name</code></em></code></a>,
<code>-S <em><code>file_name</code></em></code></p>

<p>В Unix имя файла сокета Unix, чтобы использовать для соединений,
сделанных, используя именованный канал для локального сервера. Имя файла
сокета Unix по умолчанию <code>/tmp/mysql.sock</code>.</p>

<p>В Windows это имя именованного канала, чтобы использовать для соединений с
локальным сервером. Имя канала Windows по умолчанию <code>MySQL</code>.
Имя канала не является чувствительным к регистру.</p>

<p>Сервер должен быть запущен с опцией
<a href="server.htm#option_mysqld_enable-named-pipe"><code>
--enable-named-pipe</code></a>, чтобы включить
соединения именованного канала.</li>

<li><code>--ssl*</code></p>
<p>Опции, которые начинаются на <a href="security.htm#option_general_ssl">
<code>--ssl</code></a>, используются для того, чтобы основать безопасное
соединение с сервером, используя SSL, если сервер сконфигурирован с
поддержкой SSL. Для деталей см.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a href="security.htm#option_general_tls-version"><code>
--tls-version=<em><code>protocol_list</code></em></code></a></p>
<p>Протоколы разрешены клиентом для зашифрованных соединений. Значение:
список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы по имени в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL.
Для деталей см. <a href="security.htm#secure-connection-protocols-ciphers">
раздел 7.4.3</a>.</li>

<li><a name="option_general_user"></a>
<a href="#option_general_user"><code>--user=<em><code>user_name
</code></em></code></a>, <code>-u <em><code>user_name</code></em></code></p>

<p>Имя пользователя учетной записи MySQL, которую Вы хотите использовать.
Имя пользователя по умолчанию <code>ODBC</code> в Windows или
Ваше имя для входа в систему в Unix.</p></li></ul>

<p>Возможно определить различные значения по умолчанию, которые будут
использоваться, когда Вы делаете соединение так, чтобы Вы не вводили их в
командную строку каждый раз, когда Вы вызываете программу клиента.
Это может быть сделано несколькими способами:</p>

<ul><li><p>Вы можете определить параметры соединения в секции
<code>[client]</code> файла опций. Соответствующий раздел файла мог бы быть
похожим на это:
<pre>
[client]
host=<em><code>host_name</code></em>
user=<em><code>user_name</code></em>
password=<em><code>your_pass</code></em>
</pre>
<a href="#option-files">Раздел 5.2.6</a>
обсуждает файлы опций.</li>

<li>Вы можете определить некоторые параметры соединения, используя переменные
окружения. Хост может быть определен для использования
<a href="#mysql"><span><strong>mysql</strong></span></a>
через <code>MYSQL_HOST</code>. Имя пользователя MySQL может быть определено,
используя <code>USER</code> (только в Windows).
Пароль может быть определен, используя <code>MYSQL_PWD</code>,
хотя это опасно: см. <a href="security.htm#password-security-user">раздел
7.1.2.1</a>. Для списка переменных см.
<a href="#environment-variables">раздел 5.9</a>.</p></li></ul>

<h3><a name="program-options"></a>5.2.3. Определение опций программы</h3>
<p>Есть несколько способов определить опции для программ MySQL:</p>
<ul><li><p>Перечислите опции в командной строке после названия программы.
Это характерно для опций, которые относятся к определенному вызову.</li>

<li>Перечислите опции в файле опции, который читает программа, когда она
запускается. Это характерно для опций, которые Вы хотите использовать каждый
раз, когда это работает.</li>

<li>Перечислите опции в переменных окружения (см.
<a href="#setting-environment-variables">раздел 5.2.10</a>).
Этот метод полезен для опций, которые Вы хотите применить каждый раз
выполнения программы. Практически, файлы опции используются с этой целью, но
<a href="server.htm#multiple-unix-servers">раздел 6.7.3</a>
обсуждает одну ситуацию, в которой переменные окружения могут быть очень
полезными. Это описывает удобный метод, который использует такие переменные,
чтобы определить номер порта TCP/IP и файл сокета Unix для сервера и
для программ клиента.</p></li></ul>

<p>Опции обработаны в таком порядке, что если опция определена многократно,
последнее возникновение имеет приоритет. Следующая команда заставляет
<a href="#mysql"><span><strong>mysql</strong></span></a>
соединяться с сервером на <code>localhost</code>:
<pre>
shell&gt; mysql -h example.com -h localhost
</pre>

Если есть конфликт или даны связанные опции, более поздние опции имеют
приоритет перед более ранними опциями. Следующая команда не выполняет
<a href="#mysql"><span><strong>mysql</strong></span></a> в
режиме <span><span>no column names</span></span>:
<pre>
shell&gt; mysql --column-names --skip-column-names
</pre>

<p>Программы MySQL определяют, какие опции даны сначала, просматривая
переменные окружения, затем обрабатывая файлы опции, а затем проверяя
командную строку. Это означает, что у переменных окружения есть самый
низкий приоритет и параметры командной строки самые важные.</p>

<p>Для сервера применяется одно исключение: файл опций
<span><strong>mysqld-auto.cnf</strong></span>
в каталоге данных обработан последним, таким образом, это имеет приоритет
даже перед параметрами командной строки.</p>

<p>Вы можете использовать в своих интересах способ, которым программы
MySQL обрабатывают опции, определяя значения опции по умолчанию для
программы в файле опции. Это позволяет Вам избежать вводить их каждый раз,
когда Вы выполняете программу, позволяя Вам переопределить значения по
умолчанию в случае необходимости при использовании
параметров командной строки.</p>

<h3><a name="command-line-options"></a>5.2.4.
Использование опций в командной строке</h3>
<p>Опции программы, определенные в командной строке,
следуют этим правилам:</p>

<ul><li><p>Опции даны после названия команды.</li>
<li>Параметр опции начинается с одного тире или двух тире, в зависимости от
того, является ли это краткой формой или длинной формой имени опции.
У многих опций есть краткие и подробные формы. Например,
<code>-?</code> и <code>--help</code> это краткая и длинная формы опции,
которая инструктирует программу MySQL выводить на экран
свое сообщение справки.</li>

<li>Имена опции являются чувствительными к регистру. <code>-v</code> и
<code>-V</code> являются законными и имеют различные значения. Это
соответствующие краткие формы опций <code>--verbose</code> и <code>--version
</code>.</li>

<li>Некоторые опции берут значение после имени опции. Например,
<code>-h localhost</code> или
<a href="#option_general_host"><code>--host=localhost</code></a>
задает имя хоста сервера MySQL программы клиента. Значение опции говорит
программе, на каком хосте работает сервер.</li>

<li>Для длинной опции, которая берет значение, отделите имя опции и значение
знаком <code>=</code>. Для короткой опции, которая берет значение, оно может
немедленно следовать за опцией или может быть пространство между ними:
<code>-hlocalhost</code> и <code>-h localhost</code> равнозначны.
Исключение: опция для того, чтобы определить Ваш пароль MySQL.
Эта опция может быть дана в подробной форме как
<a href="#option_general_password"><code>--password=<em><code>
pass_val</code></em></code></a> или
<a href="#option_general_password"><code>--password</code></a>.
В последнем случае (без пароля) программа запрашивает у Вас пароль. Опция
пароля также может быть дана в краткой форме как
<code>-p<em><code>pass_val</code></em></code> или <code>-p</code>.
Однако, для краткой формы, если значение пароля дано, оно должно
следовать за опцией без <span><em>пробелов</em></span>.
Причина этого состоит в том, что если пробел есть,
у программы нет никакого способа сказать, является ли следующим параметром
значение пароля или некоторый другой вид параметра.
Значит у следующих двух команд есть два абсолютно различных значения:
<pre>
shell&gt; mysql -ptest
shell&gt; mysql -p test
</pre>

Первая команда инструктирует <a href="#mysql"><span><strong>mysql
</strong></span></a> использовать значение пароля <code>test</code>,
но не определяет базы данных значения по умолчанию. Второе инструктирует
<a href="#mysql"><span><strong>mysql</strong></span></a>
запрашивать значение пароля и использовать <code>test</code> как базу
данных по умолчанию.</li>

<li>В пределах имен опции тире (<code>-</code>) и подчеркивание
(<code>_</code>) могут использоваться попеременно. Например,
<a href="server.htm#option_mysqld_skip-grant-tables"><code>
--skip-grant-tables</code></a> и
<a href="server.htm#option_mysqld_skip-grant-tables"><code>
--skip_grant_tables</code></a> равнозначны.
Однако, ведущие тире не могут быть даны как подчеркивания.</li>

<li>Для опций, которые берут числовое значение, оно может быть дано с
суффиксом <code>K</code>, <code>M</code> или <code>G</code>
(в любом регистре символов), чтобы указать на множитель 1024,
1024<sup>2</sup> или 1024<sup>3</sup>.
Например, следующая команда говорит
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> проверять с помощью ping-запросов сервер 1024 раза с паузой в
10 секунд между каждыми ping:
<pre>
shell&gt; mysqladmin --count=1K --sleep=10 ping
</pre></li></ul>

<p>Значения опции, которые содержат пробелы, должны быть заключены в
кавычки, когда даны в командной строке. Например,
<a href="#option_mysql_execute"><code>--execute</code></a>
(<code>-e</code>) может использоваться с <a href="#mysql"><span>
<strong>mysql</strong></span></a>, чтобы передать запросы SQL серверу.
Когда эта опция используется, <a href="#mysql"><span><strong>
mysql</strong></span></a> выполняет запросы в значении опции и выходит.
Запросы должны быть приложены в кавычках. Например, Вы можете использовать
следующую команду, чтобы получить список учетных записей пользователей:
<pre>
shell&gt; mysql -u root -p --execute="SELECT User, Host FROM mysql.user"
Enter password: <******
+------+-----------+
| User | Host      |
+------+-----------+
|      | gigan     |
| root | gigan     |
|      | localhost |
| jon  | localhost |
| root | localhost |
+------+-----------+
shell&gt;
</pre>
<p>Подробная форма (<a href="#option_mysql_execute"><code>
--execute</code></a>) сопровождается знаком <code>=</code>.</p>

<p>Если Вы хотите использовать заключенные в кавычки значения в пределах
запроса, то Вы должны будете выйти из внутренних кавычек или использовать
в пределах запроса тип кавычек, отличный от используемых, чтобы заключить
запрос в кавычки непосредственно. Способности Вашего процессора команд
диктуют Ваш выбор для того, можете ли Вы использовать одиночные или двойные
кавычки и синтаксис для того, чтобы выйти из символов кавычки. Например, Вы
можете использовать двойные кавычки вокруг запроса и одиночные кавычки для
каких-либо заключенных в кавычки значений в пределах запроса.</p>

<p>Многократные запросы SQL можно передать в значении опции в
командной строке, отделенной точками с запятой:
<pre>
shell&gt; mysql -u root -p -e "SELECT VERSION();SELECT NOW()"
Enter password: <******
+---------------------+
| VERSION()           |
+---------------------+
| 5.8.0-m17-debug-log |
+---------------------+
+---------------------+
| NOW()               |
+---------------------+
| 2015-11-05 20:00:20 |
+---------------------+
</pre>

<h3><a name="option-modifiers"></a>5.2.5. Модификаторы опции программы</h3>
<p>Некоторые опции управляют поведением, которое может быть включено или
выключено. Например, <a href="#mysql"><span><strong>mysql
</strong></span></a> понимает опцию
<a href="#option_mysql_column-names"><code>--column-names</code>
</a>, которая определяет, вывести ли на экран строку имен столбцов в начале
результатов запроса. По умолчанию эта опция включена. Однако, Вы можете
хотеть отключить это в некоторых случаях.</p>

<p>Чтобы отключить имена столбцов, Вы можете определить опцию, используя
любую из этих форм:
<pre>
--disable-column-names
--skip-column-names
--column-names=0
</pre>
Префиксы <code>--disable</code> и <code>--skip</code> и суффикс
<code>=0</code> все имеют тот же самый эффект: они выключают опцию.</p>

<p>Форма <span><span>enabled</span></span> опции может быть определена
любым из этих способов:
<pre>
--column-names
--enable-column-names
--column-names=1
</pre>

Значения <code>ON</code>, <code>TRUE</code>, <code>OFF</code> и
<code>FALSE</code> также признаны за булевы опции
(не чувствительны к регистру).</p>

<p>Если опция имеет префикс <code>--loose</code>, программа не выходит с
ошибкой, если она не признает опцию, а вместо этого
только выпускает предупреждение:
<pre>
shell&gt; mysql --loose-no-such-option
mysql: WARNING: unknown option '--loose-no-such-option'
</pre>

Префикс <code>--loose</code> может быть полезным, когда Вы выполняете
программы от многократных установок MySQL на той же самой машине и
перечисляете опции в файле опции. Опция, которая не может быть признана всеми
версиями, может быть дана, используя <code>--loose</code> (или
<code>loose</code> в файле опции). Версии программы, которые признают опцию,
обычно обрабатывают ее, и версии, которые не признают, выпускают
предупреждение и игнорируют это.</p>

<p>Префикс <code>--maximum</code> доступен только для
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
и разрешает установить предел в максимальное значение для системных
переменных сеанса программы клиента. Чтобы сделать это, используйте
<code>--maximum</code> с именем переменной. Например,
<code>--maximum-max_heap_table_size=32M</code> препятствует тому, чтобы любой
клиент применил табличный предел размера кучи больше, чем 32M.</p>

<p><code>--maximum</code> предназначен для использования с системными
переменными, у которых есть значение сеанса. Если применяется к системной
переменной, у которой есть только глобальное значение, ошибка происходит.
Например, с <code>--maximum-query_cache_size=4M</code>
сервер производит эту ошибку:
<pre>
Maximum value of 'query_cache_size' cannot be set
</pre>

<h3><a name="option-files"></a>5.2.6. Использование файлов опций</h3>
<p>Большинство программ MySQL может считать опции запуска из файлов опции.
Файлы опции обеспечивают удобный способ определить обычно используемые опции
так, чтобы они не были введены в командную строку каждый раз, когда
Вы выполняете программу.</p>

<p>Чтобы определить, читает ли программа файлы опции, вызовите ее с
<code>--help</code>. Для <a href="#mysqld"><span><strong>mysqld
</strong></span></a> используйте
<a href="server.htm#option_mysqld_verbose"><code>--verbose</code></a> и
<a href="server.htm#option_mysqld_help"><code>--help</code></a>.
Если файлы опции читаются, сообщение справки указывает, какие файлы она
ищет и какие группы опции признает.</p>

<p>Программа MySQL с <code>--no-defaults</code>
не читает файлов опции кроме <code>.mylogin.cnf</code>.</p>
<p>Сервер с отключенной переменной
<a href="server.htm#sysvar_persisted_globals_load"><code>
persisted_globals_load</code></a> не читает <code>mysqld-auto.cnf</code>.</p>

<p>Много файлов опции это файлы простого текста, создаваемые с использованием
любого текстового редактора. Исключения:</p>
<ul><li><p><code>.mylogin.cnf</code>, который содержит опции
входа в систему. Это зашифрованный файл, создаваемый
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>. См. <a href="#mysql-config-editor">раздел
5.6.7</a>. <span><span>login path</span></span> является группой опции,
которая разрешает только определенные опции: <code>host</code>,
<code>user</code>, <code>password</code>, <code>port</code> и
<code>socket</code>. Программы клиента определяют, который путь входа в
систему читать из <code>.mylogin.cnf</code> через
<a href="#option_general_login-path"><code>--login-path</code>
</a>.</p>

<p>Чтобы определить альтернативное имя файла пути входа в систему, установите
переменную окружения <code>MYSQL_TEST_LOGIN_FILE</code>.
Эта переменная используется тестовым скриптом
<span><strong>mysql-test-run.pl</strong></span>, но также признана
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> и клиентами MySQL, такими как
<a href="#mysql"><span><strong>mysql</strong></span></a>,
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> и т.д.</li>

<li>Файл <code>mysqld-auto.cnf</code> лежит в каталоге данных. Это файл
формата JSON содержит сохраненные системные настройки переменных. Это
создается сервером после выполнения <a href="sql.htm#set-variable"><code>SET
PERSIST</code></a>, см. <a href="sql.htm#set-variable">раздел 14.7.4.1</a>.
Управление <code>mysqld-auto.cnf</code> должно быть оставлено серверу и
не выполнено вручную.</p></li></ul>

<p>MySQL ищет файлы опции в порядке, описанном в следующем обсуждении, и
читает любой, который существует. Если файл опции, который Вы хотите
использовать, не существует, создайте его.</p>

<p>В Windows программы MySQL читают опции запуска из файлов, показанных в
следующей таблице, в указанном порядке (главные файлы считаны сначала, файлы,
читаемые позже, имеют приоритет).</p>

<a name="option-files-windows"></a><p><b>Таблица 5.1. Чтение файлов опций
на системах Windows</b></p>
<table border="1">
<thead><tr><th scope="col">Имя файла</th><th scope="col">Цель
</th></tr></thead>
<tbody><tr><td scope="row"><code><code>%PROGRAMDATA%</code>\MySQL\MySQL
Server 8.0\my.ini</code>, <code><code>%PROGRAMDATA%</code>\MySQL\MySQL
Server 8.0\my.cnf</code></td><td>Глобальные опции</td></tr>
<tr><td scope="row"><code><code>%WINDIR%</code>\my.ini</code>,
<code><code>%WINDIR%</code>\my.cnf</code></td><td>Глобальные опции</td></tr>
<tr><td scope="row"><code>C:\my.ini</code>, <code>C:\my.cnf</code></td>
<td>Глобальные опции</td></tr>
<tr><td scope="row"><code><em><code>BASEDIR</code></em>\my.ini</code>,
<code><em><code>BASEDIR</code></em>\my.cnf</code></td>
<td>Глобальные опции</td></tr>
<tr><td scope="row"><code>defaults-extra-file</code></td>
<td>Файл, определенный с
<a href="#option_general_defaults-extra-file"><code>
--defaults-extra-file</code></a>, если есть</td></tr>
<tr><td scope="row"><code><code>%APPDATA%</code>\MySQL\.mylogin.cnf</code>
</td><td>Опции пути входа в систему (только клиенты)</td></tr>
<tr><td scope="row"><code><em><code>DATADIR</code></em>\mysqld-auto.cnf
</code></td><td>Опции, сохраненные с <a href="sql.htm#set-variable"><code>SET
PERSIST</code></a> (только для сервера)</td></tr></tbody></table>

<p>В предыдущей таблице <code>%PROGRAMDATA%</code>
представляет каталог файловой системы, который содержит данные
приложения для всех пользователей хоста. Этот путь по умолчанию
<code>C:\ProgramData</code> в Microsoft Windows Vista и выше или
<code>C:\Documents and Settings\All Users\Application Data</code>
в старых версиях Microsoft Windows.</p>

<p><code>%WINDIR%</code> представляет местоположение Вашего каталога
Windows. Это обычно <code>C:\WINDOWS</code>.
Используйте следующую команду, чтобы определить точное местоположение:
<pre>
C:\&gt; echo %WINDIR%
</pre>

<code>%APPDATA%</code> представляет значение каталога данных приложений
Windows. Используйте следующую команду, чтобы
определить точное местоположение:
<pre>
C:\&gt; echo %APPDATA%
</pre>

<em><code>BASEDIR</code></em> представляет каталог установки MySQL.
Когда MySQL 8.0 был установлен, используя MySQL Installer, это, как правило,
<code>C:\<em><code>PROGRAMDIR</code></em>\MySQL\MySQL 8.0 Server</code>, где
<em><code>PROGRAMDIR</code></em> представляет каталог программ (обычно
<code>Program Files</code> в Windows), См.
<a href="install.htm#mysql-installer">раздел 2.3.3</a>.</p>

<p><em><code>DATADIR</code></em> представляет каталог данных MySQL.
При использовании <code>mysqld-auto.cnf</code>, его значение по умолчанию:
местоположение каталога данных, встроенное, когда MySQL был собран, но может
быть изменено через опцию <a href="server.htm#option_mysqld_datadir"><code>
--datadir</code></a>, определенную в файле опции или параметром командной
строки, обработанным прежде <code>mysqld-auto.cnf</code>.</p>

<p>В Unix программы MySQL читают опции запуска из файлов, показанных в
следующей таблице, в указанном порядке (главные файлы считаны сначала, файлы,
читаемые позже, имеют приоритет).</p>

<p>В Unix MySQL игнорирует конфигурационные файлы, которые являются
перезаписываемыми всеми. Это сделано намеренно, как мера по безопасности.</p>
<a name="option-files-unix"></a><p><b>Таблица 5.2. Чтение файлов опций в Unix
</b></p>
<table border="1">
<thead><tr><th scope="col">Имя файла</th><th scope="col">Смысл
</th></tr></thead>
<tbody><tr><td scope="row"><code>/etc/my.cnf</code></td><td>Глобальные опции
</td></tr>
<tr><td scope="row"><code>/etc/mysql/my.cnf</code></td><td>Глобальные опции
</td></tr>
<tr><td scope="row"><code><em><code>SYSCONFDIR</code></em>/my.cnf</code></td>
<td>Глобальные опции</td></tr>
<tr><td scope="row"><code>$MYSQL_HOME/my.cnf</code></td><td>
Определенные для сервера опции (только сервер)</td></tr>
<tr><td scope="row"><code>defaults-extra-file</code></td><td>
Файл, определенный <a href="#option_general_defaults-extra-file">
<code>--defaults-extra-file</code></a>, если есть</td></tr>
<tr><td scope="row"><code>~/.my.cnf</code></td><td>
Определенные для пользователя опции</td></tr>
<tr><td scope="row"><code>~/.mylogin.cnf</code></td><td>
Определенные для пользователя опции пути входа в систему (только клиенты)
</td></tr>
<tr><td scope="row"><code><em><code>DATADIR</code></em>/mysqld-auto.cnf
</code></td><td>Опции, сохраненные <a href="sql.htm#set-variable"><code>SET
PERSIST</code></a> (только сервер)</td></tr></tbody></table>

<p>В предыдущей таблице <code>~</code> представляет корневой каталог текущего
пользователя (значение <code>$HOME</code>).</p>
<p><em><code>SYSCONFDIR</code></em> представляет каталог, определенный опцией
<a href="install.htm#option_cmake_sysconfdir"><code>SYSCONFDIR</code></a>
<span><strong>CMake</strong></span>, когда MySQL был создан. По умолчанию это
каталог <code>etc</code>, расположенный под каталогом установки.</p>

<p><code>MYSQL_HOME</code> это переменная окружения, содержащая путь к
каталогу, в котором лежит определенный для сервера <code>my.cnf</code>.
Если <code>MYSQL_HOME</code> не установлен и Вы запускаете сервер, используя
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>, то <a href="#mysqld-safe"><span><strong>mysqld_safe
</strong></span></a> устанавливает это в <em><code>BASEDIR</code></em>,
базовый каталог MySQL.</p>

<p><em><code>DATADIR</code></em> представляет каталог данных MySQL.
При использовании <code>mysqld-auto.cnf</code>, значение по умолчанию:
местоположение каталога данных, встроенное, когда MySQL был собран, но может
быть изменено через опцию <a href="server.htm#option_mysqld_datadir"><code>
--datadir</code></a>, определенную в файле опции или параметр командной
строки, обработанный прежде <code>mysqld-auto.cnf</code>.</p>

<p>Если многократные экземпляры опции найдены, последний
имеет приоритет, с одним исключением: для
<a href="#mysqld"><span><strong>mysqld</strong></span></a>,
применяется <span><em>первый</em></span> экземпляр опции
<a href="server.htm#option_mysqld_user"><code>--user</code></a>
в качестве предосторожности безопасности, чтобы предотвратить пользователя,
определенного в файле опции от переопределения в командной строке.</p>

<p>Следующее описание синтаксиса файла опции относится к файлам, которые Вы
редактируете вручную. Это исключает <code>.mylogin.cnf</code>,
который зашифрован и создается, используя
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> и <code>mysqld-auto.cnf</code>, который сервер
создает в формате JSON.</p>

<p>Любая длинная опция, которая может быть дана в
командной строке, выполняя программу MySQL, может быть дана в файле опции
также. Чтобы получить список доступных параметров для программы, выполните
ее с <code>--help</code>. Для <a href="#mysqld"><span><strong>
mysqld</strong></span></a> используйте
<a href="server.htm#option_mysqld_verbose"><code>--verbose</code></a> и
<a href="server.htm#option_mysqld_help"><code>--help</code></a>.</p>

<p>Синтаксис для того, чтобы определить опции в файле опции подобен
синтаксису командной строки (см. <a href="#command-line-options">
раздел 5.2.4</a>). Однако, в файле опции, Вы опускаете начальные тире
и определяете только одну опцию на строку. Например, <code>--quick</code> и
<code>--host=localhost</code> в командной строке должны быть определены как
<code>quick</code> и <code>host=localhost</code> на отдельных строках в файле
опции. Определить опцию формы <code>--loose-<em><code>opt_name</code></em>
</code> в файле опции можно как <code>loose-<em><code>opt_name</code></em>
</code>.</p>

<p>Проигнорированы пустые строки в файлах опции. Непустые строки могут
принять любую из следующих форм:</p>
<ul><li><p><code>#<em><code>comment</code></em></code>,
<code>;<em><code>comment</code></em></code></p>
<p>Строки комментария начинаются <code>#</code> или <code>;</code>.
<code>#</code> может быть в середине строки также.</li>

<li><code>[<em><code>group</code></em>]</code></p>
<p><em><code>group</code></em> задает название программы или группы, для
которой Вы хотите установить опции. После групповой строки любые
устанавливающие опцию строки относятся к названной группе до
конца файла опции или другой групповой строки.
Названия группы опции не являются чувствительными к регистру.</li>

<li><code><em><code>opt_name</code></em></code></p>
<p>Это эквивалентно <code>--<em><code>opt_name</code></em>
</code> в командной строке.</li>

<li><code><em><code>opt_name</code></em>=<em><code>value</code></em></code>
</p>
<p>Это эквивалентно <code>--<em><code>opt_name</code></em>=<em><code>value
</code></em></code> в командной строке. В файле опции у Вас могут быть
пробелы вокруг <code>=</code>. Значение произвольно может быть приложено в
пределах одиночных или двойных кавычек, что полезно, если значение
содержит символ комментария <code>#</code>.</p></li></ul>

<p>Начальные и конечные пробелы автоматически удалены
из имен опции и значений.</p>
<p>Вы можете использовать escape-последовательности <code>\b</code>,
<code>\t</code>, <code>\n</code>, <code>\r</code>, <code>\\</code> и
<code>\s</code> в значениях опции, чтобы представить клавишу Backspace,
tab, newline, carriage return, backslash и пробел.
В файлах опции применяются эти правила:</p>

<ul><li><p>Наклонная черта влево, сопровождаемая допустимым символом
escape-последовательности, преобразована в символ, представленный
последовательностью. Например, <code>\s</code> преобразован в пробел.</li>

<li>Наклонная черта влево, не сопровождаемая допустимым символом
escape-последовательности, остается неизменной.
Например, <code>\S</code> сохранена как есть.</p></li></ul>

<p>Предыдущие правила означают, что буквальная наклонная черта влево может
быть дана как <code>\\</code> или <code>\</code>,
если это не сопровождается допустимым символом escape-последовательности.</p>

<p>Правила для escape-последовательностей в файлах опции отличаются
от правил для escape-последовательностей в строковых литералах
в запросах SQL. В последнем контексте, если
<span><span><em><code>x</code></em></span></span>
не допустимый символ escape-последовательности,
<code>\<em><code>x</code></em></code> становится
<span><span><em><code>x</code></em></span></span> вместо
<code>\<em><code>x</code></em></code>. См.
<a href="lang.htm#string-literals">раздел 10.1.1</a>.</p>

<p>Правила экранировки для значений файла опции являются особенно подходящими
для путей Windows, которые используют <code>\</code> как разделитель пути.
Разделитель в пути Windows должен быть написан как <code>\\</code>,
если это сопровождается символом escape-последовательности. Это может быть
написано как <code>\\</code> или <code>\</code>. Альтернативно
<code>/</code> может использоваться в путях Windows и будет обработан как
<code>\</code>. Предположите, что Вы хотите определить основной каталог
<code>C:\Program Files\MySQL\MySQL Server 8.0</code> в файле опции. Это может
быть сделано несколькими способами. Некоторые примеры:
<pre>
basedir="C:\Program Files\MySQL\MySQL Server 8.0"
basedir="C:\\Program Files\\MySQL\\MySQL Server 8.0"
basedir="C:/Program Files/MySQL/MySQL Server 8.0"
basedir=C:\\Program\sFiles\\MySQL\\MySQL\sServer\s8.0
</pre>

Если название группы опции то же, что и название программы,
опции в группе применяются определенно к этой программе. Например, группы
<code>[mysqld]</code> и <code>[mysql]</code> относятся к серверу
<a href="#mysqld"><span><strong>mysqld</strong></span></a> и
программе-клиенту <a href="#mysql"><span><strong>mysql</strong>
</span></a>.</p>

<p>Группа <code>[client]</code> считана всеми программами клиента
(но <span><em>не</em></span> <a href="#mysqld"><span><strong>
mysqld</strong></span></a>). Это позволяет Вам определить опции, которые
относятся ко всем клиентам. Например, <code>[client]</code>
соответствующая группа, чтобы определить пароль для того, чтобы соединиться с
сервером. Удостоверьтесь, что файл опции доступен только Вам, чтобы другие
люди не могли обнаружить Ваш пароль. Убедитесь, что вставили опцию в группу
<code>[client]</code>, если это не признано <span><em>всеми</em></span>
программами клиента, которые Вы используете. Программы, которые не понимают
опцию, выходят после отображения сообщения об ошибке, если Вы
пытаетесь выполнить их.</p>

<p>Вот типичный глобальный файл опции:
<pre>
[client]
port=3306
socket=/tmp/mysql.sock

[mysqld]
port=3306
socket=/tmp/mysql.sock
key_buffer_size=16M
max_allowed_packet=8M

[mysqldump]
quick
</pre>

Вот типичный пользовательский файл опции:
<pre>
[client]
# The following password will be sent to all standard MySQL clients
password="my password"

[mysql]
no-auto-rehash
connect_timeout=2
</pre>

Чтобы создать группы опции только для чтения серверами
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
от определенного ряда выпуска MySQL, используйте группы с названиями
<code>[mysqld-5.7]</code>, <code>[mysqld-8.0]</code> и т.д.
Следующая группа указывает, что параметр
<a href="server.htm#sysvar_sql_mode"><code>sql_mode</code></a>
должен использоваться только серверами MySQL с номера версии 8.0.x:
<pre>
[mysqld-8.0]
sql_mode=TRADITIONAL
</pre>

Возможно использовать директивы <code>!include</code> в файлах опции, чтобы
включать другие файлы опции и <code>!includedir</code>, чтобы искать
определенные каталоги с файлами опций. Например, чтобы включать файл
<code>/home/mydir/myopt.cnf</code> используйте следующее:
<pre>
!include /home/mydir/myopt.cnf
</pre>

Искать в каталоге <code>/home/mydir</code> и читать файлы опции, найденные
там, можно так:
<pre>
!includedir /home/mydir
</pre>
MySQL не дает гарантии порядка, в котором будут считаны
файлы опции в каталоге.</p>

<p>Любые файлы, которые будут найдены и включены через
<code>!includedir</code> в Unix <span><em>должны</em></span> иметь имена
файла, заканчивающиеся <code>.cnf</code>. В Windows проверяются файлы с
расширениями <code>.ini</code> или <code>.cnf</code>.</p>

<p>Напишите содержание включенного файла опции как любой другой файл опции.
Таким образом, это должно содержать группы опций, каждой из которых
предшествует строка <code>[<em><code>group</code></em>]</code>, которая
указывает на программу, к которой применяются опции.</p>

<p>В то время, как включенный файл обрабатывается, только те опции в
группах, которые ищет текущая программа, используются.
Другие группы проигнорированы. Предположите, что <code>my.cnf</code>
содержит эту строку:
<pre>
!include /home/mydir/myopt.cnf
</pre>

И предположите, что <code>/home/mydir/myopt.cnf</code> похож на это:
<pre>
[mysqladmin]
force

[mysqld]
key_buffer_size=16M
</pre>

Если <code>my.cnf</code> обработан
<a href="#mysqld"><span><strong>mysqld</strong></span></a>,
используется только группа <code>[mysqld]</code> в
<code>/home/mydir/myopt.cnf</code>. Если файл обработан
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a>, используется только группа <code>[mysqladmin]</code>.
Если файл обработан какой-либо другой программой, никакие опции в
<code>/home/mydir/myopt.cnf</code> не используются.</p>

<p><code>!includedir</code> обработана так же, за исключением того, что
считаны все файлы опции в названном каталоге.</p>
<p>Если файл опции содержит <code>!include</code> или
<code>!includedir</code>, файлы, названные этими директивами, обработаны
всякий раз, когда файл опции обработан, независимо от того, где
они появляются в файле.</p>

<h3><a name="option-file-options"></a>5.2.7. Параметры командной строки
и обработка файла опции</h3>
<p>Большинство программ MySQL, которые поддерживают файлы опции,
обрабатывает следующие опции. Поскольку эти опции затрагивают обработку файла
опции, их нужно дать в командной строке, а не в файле опции. Чтобы работать
должным образом, каждая из этих опций должна быть дана перед другими опциями,
за этими исключениями:</p>

<ul><li><p><a href="#option_general_print-defaults"><code>
--print-defaults</code></a> может немедленно использоваться после
<a href="#option_general_defaults-file"><code>--defaults-file
</code></a>, <a href="#option_general_defaults-extra-file">
<code>--defaults-extra-file</code></a> или
<a href="#option_general_login-path"><code>--login-path</code>
</a>.</li>

<li>В Windows, если сервер запущен с
<a href="#option_general_defaults-file"><code>--defaults-file
</code></a> и <a href="server.htm#option_mysqld_install"><code>--install
</code></a>, <a href="server.htm#option_mysqld_install"><code>--install
</code></a> должна быть первой. См.
<a href="install.htm#windows-start-service">раздел 2.3.5.8</a>.</p></li></ul>
<p>Определяя имена файла, избегайте использования символа <code>~</code>,
потому что он мог бы интерпретироваться не так, как Вы ожидаете.</p>

<ul><li><p><a name="option_general_defaults-extra-file"></a>
<a href="#option_general_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Считайте этот файл опции после глобального файла опции,
но (в Unix) перед пользовательским файлом опции и (на всех платформах) перед
файлом пути входа в систему. Для информации о порядке, в котором используются
файлы опции, см. <a href="#option-files">раздел 5.2.6</a>.
Если файл не существует или иначе недоступен, ошибка происходит.
<em><code>file_name</code></em> интерпретируется относительно текущего
каталога, если дано как относительный, а не полный путь.</li>

<li><a name="option_general_defaults-file"></a>
<a href="#option_general_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует
или иначе недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный,
а не полный путь.</p>

<p>Исключения: Даже с <a href="#option_general_defaults-file">
<code>--defaults-file</code></a>, <a href="#mysqld"><span>
<strong>mysqld</strong></span></a> читает <code>mysqld-auto.cnf</code>
и программы клиента читают <code>.mylogin.cnf</code>.</li>

<li><a name="option_general_defaults-group-suffix"></a>
<a href="#option_general_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Считайте не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysql"><span><strong>mysql</strong></span></a>
обычно читает группы <code>[client]</code> и <code>[mysql]</code>.
Если дана опция <a href="#option_general_defaults-group-suffix">
<code>--defaults-group-suffix=_other</code></a>,
<a href="#mysql"><span><strong>mysql</strong></span></a>
также читает группы <code>[client_other]</code> и <code>[mysql_other]</code>.
</li>

<li><a name="option_general_login-path"></a>
<a href="#option_general_login-path"><code>
--login-path=<em><code>name</code></em></code></a></p>

<p>Считайте опции из названного пути входа в систему в
<code>.mylogin.cnf</code>. <span><span>Вход в систему</span></span>
является группой опций, содержащей опции, которые определяют, с каким
сервером MySQL соединиться и то, как авторизоваться.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см. <a href="#mysql-config-editor">раздел
5.6.7</a>.</p>

<p>Программа клиента читает группу опций,
соответствующую названному пути входа в систему,
в дополнение к группам опций, которые программа читает по умолчанию.
Рассмотрите эту команду:
<pre>
shell&gt; mysql --login-path=mypath
</pre>

По умолчанию <a href="#mysql"><span><strong>mysql</strong></span>
</a> читает группы опций <code>[client]</code> и <code>[mysql]</code>.
Так для показанной команды <a href="#mysql"><span><strong>
mysql</strong></span></a> читает <code>[client]</code> и <code>[mysql]</code>
из других файлов опции и <code>[client]</code>, <code>[mysql]</code> и
<code>[mypath]</code> из файла пути входа в систему.</p>

<p>Программы клиента читают файл пути входа в систему даже когда задана опция
<a href="#option_general_no-defaults"><code>--no-defaults</code>
</a>.</p>
<p>Чтобы определить дополнительное имя файла пути входа в систему, установите
переменную окружения <code>MYSQL_TEST_LOGIN_FILE</code>.</li>

<li><a name="option_general_no-defaults"></a>
<a href="#option_general_no-defaults"><code>--no-defaults</code>
</a></p>
<p>Не читайте файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций из файла опции,
<a href="#option_general_no-defaults"><code>--no-defaults</code>
</a> может использоваться, чтобы препятствовать тому, чтобы они были считаны.
</p>

<p>Исключение: программы клиента читают файл пути входа в систему
<code>.mylogin.cnf</code>, если он существует, даже когда
<a href="#option_general_no-defaults"><code>--no-defaults</code>
</a> используется. Это разрешает паролям быть определенными более безопасным
способом, чем в командной строке, даже если есть
<a href="#option_general_no-defaults"><code>--no-defaults</code>
</a> (<code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>).</li>

<li><a name="option_general_print-defaults"></a>
<a href="#option_general_print-defaults"><code>--print-defaults
</code></a></p>
<p>Напечатайте название программы и все опции, которые она
получает из файлов опции. Значения пароля замаскированы.</p></li></ul>

<h3><a name="program-variables"></a>5.2.8.
Использование опций, чтобы установить переменные программы</h3>
<p>У многих программ MySQL есть внутренние переменные, которые могут быть
установлены во время выполнения, используя. См. разделы
<a href="sql.htm#set-variable">14.7.4.1</a> и
<a href="server.htm#using-system-variables">6.1.6</a>.</p>

<p>Большинство этих переменных программы также может быть установлено при
запуске сервера при использовании того же самого синтаксиса, который
относится к определению опций программы. Например,
<a href="#mysql"><span><strong>mysql</strong></span></a>
имеет переменную <code>max_allowed_packet</code>, которая управляет
максимальным размером коммуникационного буфера. Установить
<code>max_allowed_packet</code> для
<a href="#mysql"><span><strong>mysql</strong></span></a> в
16MB можно, применив любую из следующих команд:
<pre>
shell&gt; mysql --max_allowed_packet=16777216
shell&gt; mysql --max_allowed_packet=16M
</pre>

Первая команда определяет значение в байтах. Вторая определяет значение в
мегабайтах. Для переменных, которые берут числовое значение, оно может быть
дано с суффиксом <code>K</code>, <code>M</code> или <code>G</code> (в любом
регистре), чтобы указать на множитель 1024, 1024<sup>2</sup> или
1024<sup>3</sup>. Например, когда устанавливается
<code>max_allowed_packet</code>, суффиксы указывают на модули килобайты,
мегабайты или гигабайты.</p>

<p>В файле опции переменные настройки даны без ведущих тире:
<pre>
[mysql]
max_allowed_packet=16777216
</pre>

Или:
<pre>
[mysql]
max_allowed_packet=16M
</pre>

Если Вам нравится, подчеркивания в имени переменной могут быть определены
как тире. Следующие группы опции эквивалентны. Обе устанавливают размер
ключевого буфера сервера в 512 МБ:
<pre>
[mysqld]
key_buffer_size=512M

[mysqld]
key-buffer-size=512M
</pre>

Переменная может быть определена при написании
полностью или как любая однозначная приставка. Например,
<code>max_allowed_packet</code> может быть установлена для
<a href="#mysql"><span><strong>mysql</strong></span></a> как
<code>--max_a</code>, но не как <code>--max</code> потому, что
последний вариант неоднозначен:
<pre>
shell&gt; mysql --max=1000000
mysql: ambiguous option '--max=1000000' (max_allowed_packet, max_join_size)
</pre>

Знайте, что использование переменных приставок может вызвать проблемы, когда
новые переменные осуществлены для программы. Приставка, которая однозначна
теперь, могла бы стать неоднозначной в будущем.</p>

<p>Суффиксы для того, чтобы определить множитель значения могут
использоваться, устанавливая переменную при запуске сервера, но не значение с
<a href="sql.htm#set-variable"><code>SET</code></a>
во время выполнения. С другой стороны, с
<a href="sql.htm#set-variable"><code>SET</code></a>, Вы можете назначить
значение переменной, используя выражение, которое не является истиной,
когда Вы устанавливаете переменную при запуске сервера. Например, первая из
следующих строк является законной при запуске сервера, но не вторая:
<pre>
shell&gt; mysql --max_allowed_packet=16M
shell&gt; mysql --max_allowed_packet=16*1024*1024
</pre>

Наоборот, вторая из следующих строк является законной во время выполнения,
но не первая:
<pre>
mysql&gt; SET GLOBAL max_allowed_packet=16M;
mysql&gt; SET GLOBAL max_allowed_packet=16*1024*1024;
</pre>

<h3><a name="option-defaults-equals"></a>5.2.9.
Значения по умолчанию опции, опции, ожидаемые значения и знак =</h3>
<p>В соответствии с соглашением, длинные формы опций, которые назначают
значение, написаны со знаком <code>=</code>:
<pre>
shell&gt; mysql --host=tonfisk --user=jon
</pre>

Для опций, которые требуют значение (то есть, не имеют значения по
умолчанию), знака равенства не требуется и таким образом
следующее также допустимо:
<pre>
shell&gt; mysql --host tonfisk --user jon
</pre>

В обоих случаях <a href="#mysql"><span><strong>mysql</strong>
</span></a> пытается соединиться с сервером MySQL, работающим на хосте,
названном <span><span>tonfisk</span></span>, с использованием учетной записи
с именем пользователя <span><span>jon</span></span>.</p>

<p>Из-за этого поведения могут иногда возникать проблемы, когда никакое
значение не обеспечено для опции, которая его ожидает. Рассмотрите следующий
пример, где пользователь соединяется с сервером MySQL, работающим на хосте
<code>tonfisk</code> как пользователь <code>jon</code>:
<pre>
shell&gt; mysql --host 85.224.35.45 --user jon
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 3
Server version: 8.0.1 Source distribution

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; SELECT CURRENT_USER();
+----------------+
| CURRENT_USER() |
+----------------+
| jon@%          |
+----------------+
1 row in set (0.00 sec)
</pre>

Исключение необходимого значения для одного из этих параметров
приводит к такой ошибке:
<pre>
shell&gt; mysql --host 85.224.35.45 --user
<span class="errortext">mysql: option '--user' requires an argument</span>
</pre>

В этом случае <a href="#mysql"><span><strong>mysql</strong>
</span></a> не был способен найти значение после опции
<a href="#option_general_user"><code>--user</code></a>, потому
что ничто не прибыло после этого в командную строку. Однако, если Вы
опускаете значение для опции, которая <span><em>не</em></span>
является последней опцией, которая будет использоваться, Вы получаете иную
ошибку, которую Вы не можете ожидать:
<pre>
shell&gt; mysql --host --user jon
<span class="errortext">ERROR 2005 (HY000):
Unknown MySQL server host '--user' (1)</span>
</pre>

Поскольку <a href="#mysql"><span><strong>mysql</strong></span>
</a> предполагает, что любая строка после
<a href="#option_general_host"><code>--host</code></a>
это имя хоста, <a href="#option_general_host"><code>--host</code>
</a> <a href="#option_general_user"><code>--user</code></a>
интерпретируется как <a href="#option_general_host"><code>
--host=--user</code></a>, клиент пытается соединиться с сервером MySQL,
работающим на хосте, названном <span><span>--user</span></span>.</p>

<p>Опции, имеющие значения по умолчанию, всегда требуют знак равенства,
назначая значение, будучи не в состоянии сделать это, они выдают ошибку.
Например, у опции сервера MySQL <a href="server.htm#option_mysqld_log-error">
<code>--log-error</code></a> есть значение по умолчанию
<code><em><code>host_name</code></em>.err</code>, где
<em><code>host_name</code></em> это имя хоста, на котором работает MySQL.
Предположите, что Вы выполняете MySQL на компьютере, имя хоста которого
<span><span>tonfisk</span></span>, и рассмотрите следующий запрос
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>:
<pre>
shell&gt; mysqld_safe &amp;
[1] 11699
shell&gt; 080112 12:53:40 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
          080112 12:53:40 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
shell&gt;
</pre>

После закрытия сервера, перезапустите это следующим образом:
<pre>
shell&gt; mysqld_safe --log-error &amp;
[1] 11699
shell&gt; 080112 12:53:40 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
          080112 12:53:40 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
shell&gt;
</pre>

Результат тот же самый, с тех пор, как
<a href="#option_mysqld_safe_log-error"><code>--log-error</code></a>
не сопровождается ничем больше на командной строке и поставляет свое
собственное значение по умолчанию. Символ <code>&amp;</code> говорит
операционной системе выполнять MySQL в фоне,
это проигнорировано MySQL непосредственно.
Теперь предположим, что Вы хотите зарегистрировать ошибки в файле
<code>my-errors.err</code>. Вы могли бы попытаться запустить сервер с
<code>--log-error my-errors</code>, но это не имеет намеченного эффекта,
как показано здесь:
<pre>
shell&gt; mysqld_safe --log-error my-errors &amp;
[1] 31357
shell&gt; 080111 22:53:31 mysqld_safe Logging to '/usr/local/mysql/var/tonfisk.err'.
          080111 22:53:32 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
          080111 22:53:34 mysqld_safe mysqld from pid file /usr/local/mysql/var/tonfisk.pid ended
[1]+  Done./mysqld_safe --log-error my-errors
</pre>

Сервер попытался начать использовать
<code>/usr/local/mysql/var/tonfisk.err</code>
как журнал ошибок, но завершился. Изучение последних немногих строк этого
файла показывает причину:
<pre>
shell&gt; tail /usr/local/mysql/var/tonfisk.err
2013-09-24 T 15:36:22.278034Z 0 [ERROR] Too many arguments (first extra is 'my-errors').
2013-09-24 T 15:36:22.278059Z 0 [Note] Use --verbose --help to get a list of available options!
2013-09-24 T 15:36:22.278076Z 0 [ERROR] Aborting
2013-09-24 T 15:36:22.279704Z 0 [Note] InnoDB: Starting shutdown...
2013-09-24 T 15:36:23.777471Z 0 [Note] InnoDB: Shutdown completed; log sequence number 2319086
2013-09-24 T 15:36:23.780134Z 0 [Note] mysqld: Shutdown complete
</pre>

Так как <a href="#option_mysqld_safe_log-error"><code>
--log-error</code></a> поставляет значение по умолчанию, Вы должны
использовать знак равенства, чтобы назначить иное значение,
как показано здесь:
<pre>
shell&gt; mysqld_safe --log-error=my-errors &amp;
[1] 31437
shell&gt; 080111 22:54:15 mysqld_safe Logging to '/usr/local/mysql/var/my-errors.err'.
          080111 22:54:15 mysqld_safe Starting mysqld daemon with databases from /usr/local/mysql/var
shell&gt;
</pre>
Теперь сервер был запущен успешно, и регистрирует ошибки в файл
<code>/usr/local/mysql/var/my-errors.err</code>.</p>

<p>Подобные проблемы могут возникнуть, определяя значения опции в файлах
опции. Например, рассмотрите <code>my.cnf</code>, который содержит следующее:
<pre>
[mysql]
host
user
</pre>

Когда <a href="#mysql"><span><strong>mysql</strong></span></a>
читает этот файл, эти записи разобраны как
<a href="#option_mysql_host"><code>--host</code></a>
<a href="#option_mysql_user"><code>--user</code></a> или
<a href="#option_mysql_host"><code>--host=--user</code></a>,
с результатом, показанным здесь:
<pre>
shell&gt; mysql
<span class="errortext">ERROR 2005 (HY000): Unknown MySQL
server host '--user' (1)</span>
</pre>

Однако, в файлах опции знак равенства не принят. Предположите файл
<code>my.cnf</code> как показано здесь:
<pre>
[mysql]

user jon
</pre>

Попытка запустить <a href="#mysql"><span><strong>mysql</strong>
</span></a> в этом случае вызывает иную ошибку:
<pre>
shell&gt; mysql
<span class="errortext">mysql: unknown option '--user jon'</span>
</pre>

Подобная ошибка произошла бы, если Вы должны были написать <code>host
tonfisk</code> в файле опции, а не <code>host=tonfisk</code>.
Вместо этого Вы должны использовать знак равенства:
<pre>
[mysql]

user=jon
</pre>

Теперь попытка входа в систему удается:
<pre>
shell&gt; mysql
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 5
Server version: 8.0.1 Source distribution

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; SELECT USER();
+---------------+
| USER()        |
+---------------+
| jon@localhost |
+---------------+
1 row in set (0.00 sec)
</pre>

Это не то же самое поведение как с командной строкой, где
знак равенства не требуется:
<pre>
shell&gt; mysql --user jon --host tonfisk
Welcome to the MySQL monitor.  Commands end with ; or \g.
Your MySQL connection id is 6
Server version: 8.0.1 Source distribution

Type 'help;' or '\h' for help. Type '\c' to clear the buffer.

mysql&gt; SELECT USER();
+---------------+
| USER()        |
+---------------+
| jon@tonfisk   |
+---------------+
1 row in set (0.00 sec)
</pre>

Определение опции, требующей значения, без указания значения в файле опции,
заставляет сервер прерываться с ошибкой.
Предположите такой файл <code>my.cnf</code>:
<pre>
[mysqld]
log_error
relay_log
relay_log_index
</pre>

Это заставляет сервер терпеть неудачу на запуске, как показано здесь:
<pre>
shell&gt; mysqld_safe &amp;

130924 10:41:46 mysqld_safe Logging to '/home/jon/bin/mysql/var/tonfisk.err'.
130924 10:41:46 mysqld_safe Starting mysqld daemon with databases from /home/jon/bin/mysql/var
130924 10:41:47 mysqld_safe mysqld from pid file /home/jon/bin/mysql/var/tonfisk.pid ended
</pre>

Опция <a href="server.htm#option_mysqld_log-error"><code>--log-error</code>
</a> не требует параметра, однако,
<a href="replica.htm#option_mysqld_relay-log"><code>--relay-log</code></a>
требует, как показано в журнале ошибок (который в отсутствие указанного
значения, по умолчанию <code><em><code>datadir</code></em>/<em><code>
hostname</code></em>.err</code>):
<pre>
shell&gt; tail -n 3 ../var/tonfisk.err

130924 10:41:46 mysqld_safe Starting mysqld daemon with databases from
                /home/jon/bin/mysql/var
2013-09-24 T 15:41:47.217180Z 0 [ERROR] /home/jon/bin/mysql/libexec/mysqld:
             option '--relay-log' requires an argument
2013-09-24 T 15:41:47.217479Z 0 [ERROR] Aborting
</pre>

Это изменение от предыдущего поведения, где сервер интерпретировал бы
последние две строки в примере <code>my.cnf</code> как
<code>--relay-log=relay_log_index</code> и создавал бы файл системного
журнала реле, используя <span><span>relay_log_index</span></span>
как базовое имя (Bug #25192).</p>

<h3><a name="setting-environment-variables"></a>5.2.10.
Установка переменных окружения</h3>
<p>Переменные окружения могут быть установлены в командной строке или в
файле. Чтобы установить переменную надолго, Вы можете установить это в файле
запуска или при использовании интерфейса, обеспеченного Вашей системой с этой
целью. Консультируйтесь с документацией для своего интерпретатора команд
для определенных деталей. <a href="#environment-variables">
Раздел 5.9</a> перечисляет все переменные окружения, которые затрагивают
работу программы MySQL.</p>

<p>Чтобы определить значение для переменной окружения, используйте синтаксис,
подходящий для Вашего процессора команды. Например, в Windows
Вы можете установить переменную <code>USER</code>, чтобы определить Ваше имя
учетной записи MySQL. Чтобы сделать так, используйте этот синтаксис:
<pre>
SET USER=<em><code>your_name</code></em>
</pre>

Синтаксис в Unix зависит от Вашей оболочки. Предположите, что Вы хотите
определить номер порта TCP/IP, используя переменную
<code>MYSQL_TCP_PORT</code>. Типичный синтаксис (что касается
<span><strong>sh</strong></span>, <span><strong>ksh</strong></span>,
<span><strong>bash</strong></span>, <span><strong>zsh</strong></span> и
т.п.):
<pre>
MYSQL_TCP_PORT=3306
export MYSQL_TCP_PORT
</pre>

Первая команда устанавливает переменную, команда <code>export</code>
экспортирует переменную в окружающую среду оболочки так, чтобы ее значение
стало доступным для MySQL и других процессов.</p>

<p>Для <span><strong>csh</strong></span> и <span><strong>tcsh</strong></span>
используйте <span><strong>setenv</strong></span>, чтобы сделать переменную
оболочки доступной для окружающей среды:
<pre>
setenv MYSQL_TCP_PORT 3306
</pre>

Команды, чтобы установить переменные окружения, могут быть выполнены в
Вашей командной строке, чтобы немедленно вступить в силу, но настройки
сохраняются только, пока Вы не выходите из системы.
Чтобы иметь эти настройки каждый раз, когда Вы входите в систему, используйте
интерфейс, обеспеченный Вашей системой, или поместите соответствующую команду
в файле запуска, который Ваш интерпретатор
команд читает каждый раз, когда запускается.</p>

<p>В Windows Вы можете установить переменные окружения, используя System
Control Panel (в Advanced).</p>
<p>В Unix типичные файлы запуска оболочки
<code>.bashrc</code> или <code>.bash_profile</code> в
<span><strong>bash</strong></span> или <code>.tcshrc</code> для
<span><strong>tcsh</strong></span>.</p>

<p>Предположите, что Ваши программы MySQL установлены в
<code>/usr/local/mysql/bin</code> и Вы хотите облегчить вызов этих программ.
Чтобы сделать это, установите значение переменной окружения
<code>PATH</code>, чтобы включать тот каталог. Например, если Ваша оболочка
<span><strong>bash</strong></span>, добавьте следующую строку к
Вашему файлу <code>.bashrc</code>:
<pre>
PATH=${PATH}:/usr/local/mysql/bin
</pre>

<span><strong>bash</strong></span> использует различные файлы запуска для
оболочек входа в систему и nonlogin-оболочек, таким образом, Вы могли бы
хотеть добавить установку в <code>.bashrc</code> для оболочек входа в систему
и в <code>.bash_profile</code> для остальных, чтобы
установить <code>PATH</code> независимо.</p>

<p>Если Ваша оболочка <span><strong>tcsh</strong></span>,
добавьте следующую строку к Вашему <code>.tcshrc</code>:
<pre>
setenv PATH ${PATH}:/usr/local/mysql/bin
</pre>
Если соответствующий файл запуска не существует в Вашем корневом
каталоге, создайте его.</p>

<p>После изменения Вашего <code>PATH</code>, откройте новую консоль
в Windows или войдите в систему снова в Unix так, чтобы
установка вступила в силу.</p>

<h2><a name="programs-server"></a>5.3.
Сервер MySQL и программы запуска сервера</h2>
<p>Этот раздел описывает <a href="#mysqld"><span><strong>mysqld
</strong></span></a>, сервер MySQL, и несколько программ, которые
используются, чтобы запустить сервер.</p>

<h3><a name="mysqld"></a>5.3.1. <span><strong>mysqld</strong></span>,
собственно сервер MySQL</h3>
<p><a href="#mysqld"><span><strong>mysqld</strong></span></a>,
также известный как сервер MySQL, является основной программой, которая
делает большую часть работы. Сервер MySQL управляет доступом к каталогу
данных MySQL, который содержит базы данных и таблицы. Каталог данных это
также местоположение значения по умолчанию для другой информации, такой как
файлы состояния и файлы системного журнала.</p>

<p>Когда сервер MySQL запускается, он слушает сетевые соединения из программ
клиента и управляет доступом к базам данных от имени тех клиентов.</p>
<p>У <a href="#mysqld"><span><strong>mysqld</strong></span></a>
есть много опций, которые могут быть определены при запуске.
Для полного списка опций выполните:
<pre>
shell&gt; mysqld --verbose --help
</pre>

У сервера MySQL также есть ряд системных переменных, которые затрагивают
работу. Системные переменные могут быть установлены при запуске сервера,
многие из них могут быть изменены во время выполнения, чтобы произвести
динамическое реконфигурирование сервера. У сервера MySQL также есть ряд
переменных состояния, которые предоставляют информацию о работе. Вы можете
контролировать эти переменные состояния, чтобы получить доступ к техническим
характеристикам во время выполнения.</p>

<p>Для полного описания опций команды MySQL Server, системных переменных и
переменных состояния см. <a href="server.htm#mysqld-server">раздел 6.1</a>.
Для информации об установке MySQL и начальной конфигурации см.
<a href="install.htm">главу 2</a>.</p>

<h3><a name="mysqld-safe"></a>5.3.2.
<span><strong>mysqld_safe</strong></span> скрипт запуска MySQL</h3>
<p><a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a> это рекомендуемый способ запустить
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
в Unix. <a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a> добавляет некоторые сервисы системы безопасности, такие как
перезапуск сервера, когда ошибка происходит, и журналирование информации во
время выполнения в файл журнала ошибок. Описание регистрации ошибок дано
позже в этом разделе.</p>

<p>Для установки MySQL, используя дистрибутив RPM,
запуск сервера и завершение работы управляется systemd
на нескольких платформах Linux. На этих платформах больше не установлен
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>, потому что это не нужно. Для получения дополнительной информации см.
<a href="install.htm#using-systemd">раздел 2.5.9</a>.</p>

<p><a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a> пытается запустить <a href="#mysqld"><span><strong>
mysqld</strong></span></a>. Чтобы переопределить поведение по умолчанию и
определить явно название сервера, надо указать опцию
<a href="#option_mysqld_safe_mysqld"><code>--mysqld</code></a>
или <a href="#option_mysqld_safe_mysqld-version"><code>
--mysqld-version</code></a> в <a href="#mysqld-safe"><span>
<strong>mysqld_safe</strong></span></a>. Вы можете также использовать
<a href="#option_mysqld_safe_ledir"><code>--ledir</code></a>,
чтобы указать на каталог, где <a href="#mysqld-safe"><span>
<strong>mysqld_safe</strong></span></a> должен искать сервер.</p>

<p>Многие из опций <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> те же самые, как опции
<a href="#mysqld"><span><strong>mysqld</strong></span></a>. См.
<a href="server.htm#server-options">раздел 6.1.4</a>.</p>

<p>Опции, неизвестные <a href="#mysqld-safe"><span><strong>,
mysqld_safe</strong></span></a> передаются
<a href="#mysqld"><span><strong>mysqld</strong></span></a>,
если они определены в командной строке, но проигнорированы, если они
определены в группе <code>[mysqld_safe]</code> файла опции. См.
<a href="#option-files">раздел 5.2.6</a>.</p>

<p><a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a> читает все опции из групп <code>[mysqld]</code>,
<code>[server]</code> и <code>[mysqld_safe]</code> в файлах опции. Например,
если Вы определяете <code>[mysqld]</code> примерно так,
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> будет находить и использовать опцию
<a href="#option_mysqld_safe_log-error"><code>--log-error</code>
</a>:
<pre>
[mysqld]
log-error=error.log
</pre>

Для обратной совместимости <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> также читает <code>[safe_mysqld]</code>, но
Вы должны переименовать такие разделы в <code>[mysqld_safe]</code>.</p>

<p><a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a> принимает опции в командной строке и в файлах опции, как описано
в следующей таблице. Для информации о файлах опции, используемых программами
MySQL, см. <a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965417910864"></a><p><b>Таблица 5.3. Опции
<code>mysqld_safe</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row"><a href="#option_mysqld_safe_basedir">
--basedir</a></td><td>Путь к каталогу установки MySQL</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_core-file-size">
--core-file-size</a></td><td>Размер основного файла, который mysqld должен
быть в состоянии создать</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_datadir">
--datadir</a></td><td>Путь к каталогу данных</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_defaults-file">
--defaults-file</a></td><td>Названный файл опции только для чтения</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_help">
--help</a></td><td>Сообщение справки и выход</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_ledir">
--ledir</a></td><td>Путь к каталогу, где сервер расположен</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_log-error">
--log-error</a></td><td>Журналировать ошибки при записи к названному файлу
</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_malloc-lib">
--malloc-lib</a></td><td>Альтернатива библиотеки malloc для mysqld</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_mysqld">
--mysqld</a></td><td>Название программы сервера (в каталоге ledir)</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_mysqld-safe-log-timestamps">
--mysqld-safe-log-timestamps</a></td><td>Формат метки времени
для того, чтобы зарегистрировать</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_mysqld-version">
--mysqld-version</a></td><td>Суффикс для названия программы сервера</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_nice">
--nice</a></td><td>Используйте nice, чтобы установить
приоритет планирования сервера</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_no-defaults">
--no-defaults</a></td><td>Не читать файлы опций</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_open-files-limit">
--open-files-limit</a></td><td>Число файлов, которые mysqld должен
быть в состоянии открыть</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_pid-file">
--pid-file</a></td><td>Путь к файлу ID процесса</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_port">--port</a>
</td><td>Номер порта, на котором слушать соединения TCP/IP</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_skip-kill-mysqld">
--skip-kill-mysqld</a></td><td>Не пытаться уничтожить
беспризорные процессы mysqld</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_syslog">
--skip-syslog</a></td><td>Не делать сообщений ошибки при записи к syslog,
использовать файл журнала ошибок</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_socket">--socket
</a></td><td>Файл сокета, на котором слушать сокетные соединения Unix
</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_syslog">--syslog
</a></td><td>Сообщения ошибки при записи в syslog</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_syslog-tag">
--syslog-tag</a></td><td>Суффикс тега для сообщений, написанных в syslog
</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_timezone">
--timezone</a></td><td>Установить переменную окружения часового пояса
TZ к названному значению</td></tr>
<tr><td scope="row"><a href="#option_mysqld_safe_user">--user</a>
</td><td>Выполнить mysqld как пользователь, имеющий имя user_name или
числовой идентификатор ID user_id</td></tr></tbody></table>

<ul><li><p><a name="option_mysqld_safe_help"></a>
<a href="#option_mysqld_safe_help"><code>--help</code></a></p>
<p>Вывести на экран сообщение справки и выйти.</li>

<li><a name="option_mysqld_safe_basedir"></a>
<a href="#option_mysqld_safe_basedir"><code>--basedir=<em>
<code>dir_name</code></em></code></a></p>
<p>Путь к каталогу установки MySQL.</li>

<li><a name="option_mysqld_safe_core-file-size"></a>
<a href="#option_mysqld_safe_core-file-size"><code>
--core-file-size=<em><code>size</code></em></code></a></p>

<p>Размер основного файла, который <a href="#mysqld"><span>
<strong>mysqld</strong></span></a> должен быть в состоянии создать. Значение
опции передают <span><strong>ulimit -c</strong></span>.</li>

<li><a name="option_mysqld_safe_datadir"></a>
<a href="#option_mysqld_safe_datadir"><code>
--datadir=<em><code>dir_name</code></em></code></a></p>
<p>Путь к каталогу данных.</li>

<li><a name="option_mysqld_safe_defaults-extra-file"></a>
<a href="#option_mysqld_safe_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Название файла опции, который будет считан в дополнение к обычным файлам
опции. Это должно быть первой опцией в командной строке, если используется.
Если файл не будет существовать или будет иначе недоступен, то
сервер выйдет с ошибкой.</li>

<li><a name="option_mysqld_safe_defaults-file"></a>
<a href="#option_mysqld_safe_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>
<p>Название файла опции, который будет считан вместо обычных файлов опции.
Это должно быть первой опцией в командной строке, если используется.</li>

<li><a name="option_mysqld_safe_ledir"></a>
<a href="#option_mysqld_safe_ledir"><code>
--ledir=<em><code>dir_name</code></em></code></a></p>

<p>Если <a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a> не может найти сервер, используйте эту опцию, чтобы указать на
путь к каталогу, где сервер расположен.</li>

<li><a name="option_mysqld_safe_log-error"></a>
<a href="#option_mysqld_safe_log-error"><code>
--log-error=<em><code>file_name</code></em></code></a></p>
<p>Написать журнал ошибок в данный файл. См.
<a href="server.htm#error-log">раздел 6.4.2</a>.</li>

<li><a name="option_mysqld_safe_mysqld-safe-log-timestamps"></a>
<a href="#option_mysqld_safe_mysqld-safe-log-timestamps"><code>
--mysqld-safe-log-timestamps</code></a></p>

<p>Эта опция управляет форматом timestamp в выводе журнала, произведенном
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>. Следующий список описывает разрешенные значения. Для любого другого
значения <a href="#mysqld-safe"><span><strong>mysqld_safe
</strong></span></a> регистрирует предупреждение и использует
формат <code>UTC</code>.</p>

<ul><li><p><code>UTC</code>, <code>utc</code></p>
<p>ISO 8601 UTC (аналогично <a href="server.htm#sysvar_log_timestamps"><code>
--log_timestamps=UTC</code></a> для сервера). Это значение по умолчанию.</li>

<li><code>SYSTEM</code>, <code>system</code></p>
<p>Формат местного времени ISO 8601 (то же самое, как
<a href="server.htm#sysvar_log_timestamps"><code>--log_timestamps=SYSTEM
</code></a> для сервера).</li>

<li><code>HYPHEN</code>, <code>hyphen</code></p>
<p><code>YY-MM-DD h:mm:ss</code>, как в
<a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> для MySQL 5.6.</li>

<li><code>LEGACY</code>, <code>legacy</code></p>
<p><code>YYMMDD hh:mm:ss</code>, как в
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> до MySQL 5.6.</p></li></ul></li>

<li><p><a name="option_mysqld_safe_malloc-lib"></a>
<a href="#option_mysqld_safe_malloc-lib"><code>
--malloc-lib=[<em><code>lib_name</code></em>]</code></a></p>

<p>Название библиотеки, чтобы использовать для распределения памяти вместо
системной библиотеки <code>malloc()</code>.
Значение опции должно быть одним из каталогов
<code>/usr/lib</code>, <code>/usr/lib64</code>,
<code>/usr/lib/i386-linux-gnu</code> или
<code>/usr/lib/x86_64-linux-gnu</code>.</p>

<p><a href="#option_mysqld_safe_malloc-lib"><code>
--malloc-lib</code></a> работает, изменяя значение переменной окружающей
среды <code>LD_PRELOAD</code>, чтобы затронуть динамическое соединение, чтобы
позволить загрузчику найти библиотеку распределения памяти, когда запускается
<a href="#mysqld"><span><strong>mysqld</strong></span></a>:</p>

<ul><li><p>Если опция не дана или дана без значения
(<a href="#option_mysqld_safe_malloc-lib"><code>--malloc-lib=
</code></a>), <code>LD_PRELOAD</code> не изменена, и никакая попытка не
будет предпринята, чтобы использовать <code>tcmalloc</code>.</li>

<li>Если опция дана как
<a href="#option_mysqld_safe_malloc-lib"><code>
--malloc-lib=tcmalloc</code></a>, то <a href="#mysqld-safe">
<span><strong>mysqld_safe</strong></span></a> ищет библиотеку
<code>tcmalloc</code> в <code>/usr/lib</code>. Если <code>tmalloc</code>
найдена, путь добавлен к началу <code>LD_PRELOAD</code> для
<a href="#mysqld"><span><strong>mysqld</strong></span></a>. Если
<code>tcmalloc</code> не найдена, <a href="#mysqld-safe"><span>
<strong>mysqld_safe</strong></span></a> прерывается с ошибкой.</li>

<li>Если опция дана как
<a href="#option_mysqld_safe_malloc-lib"><code>--malloc-lib=<em>
<code>/path/to/some/library</code></em></code></a>,
то весь путь добавлен к началу <code>LD_PRELOAD</code>.
Если путь указывает на несуществующий или нечитабельный файл,
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> прекращает работу с ошибкой.</li>

<li>Для случаев, где <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> добавляет путь к <code>LD_PRELOAD</code>,
это добавляет путь к началу любого существующего значения, которое
уже имеет переменная.</p></li></ul>

<p>На системах, которые управляют сервером, используя systemd,
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> недоступен. Вместо этого определите библиотеку распределения,
устанавливая <code>LD_PRELOAD</code> в <code>/etc/sysconfig/mysql</code>.</p>

<p>Пользователи Linux могут использовать библиотеку
<code>libtcmalloc_minimal.so</code> на любой платформе, для которой
пакет <code>tcmalloc</code> установлен в <code>/usr/lib</code>,
добавляя эти строки к файлу <code>my.cnf</code>:
<pre>
[mysqld_safe]
malloc-lib=tcmalloc
</pre>

Чтобы использовать определенную библиотеку <code>tcmalloc</code>,
определите ее полный путь. Пример:
<pre>
[mysqld_safe]
malloc-lib=/opt/lib/libtcmalloc_minimal.so
</pre></li>

<li><a name="option_mysqld_safe_mysqld"></a>
<a href="#option_mysqld_safe_mysqld"><code>
--mysqld=<em><code>prog_name</code></em></code></a></p>

<p>Название программы сервера (в каталоге <code>ledir</code>),
что Вы хотите запустить. Эта опция необходима, если Вы используете
двоичный дистрибутив MySQL, но имеете каталог данных за пределами двоичного
дистрибутива. Если <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> не может найти сервер, используйте опцию
<a href="#option_mysqld_safe_ledir"><code>--ledir</code></a>,
чтобы указать путь к каталогу, где сервер расположен.</p>
<p>Эта опция может быть дана только в командной строке а не в файле опций.
</li>

<li><a name="option_mysqld_safe_mysqld-version"></a>
<a href="#option_mysqld_safe_mysqld-version"><code>
--mysqld-version=<em><code>suffix</code></em></code></a></p>

<p>Эта опция подобна <a href="#option_mysqld_safe_mysqld"><code>
--mysqld</code></a>, но Вы определяете только суффикс для названия программы
сервера. Базовое имя, как предполагается, является
<a href="#mysqld"><span><strong>mysqld</strong></span></a>.
Например, если Вы используете
<a href="#option_mysqld_safe_mysqld-version"><code>
--mysqld-version=debug</code></a>, то
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> запускает программу <a href="#mysqld"><span><strong>
mysqld-debug</strong></span></a> в каталоге <code>ledir</code>. Если параметр
<a href="#option_mysqld_safe_mysqld-version"><code>
--mysqld-version</code></a> пуст, <a href="#mysqld-safe"><span>
<strong>mysqld_safe</strong></span></a> использует
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
из каталога <code>ledir</code>.</p>
<p>Эта опция может быть дана только в командной строке а не в файле опции.
</li>

<li><a name="option_mysqld_safe_nice"></a>
<a href="#option_mysqld_safe_nice"><code>
--nice=<em><code>priority</code></em></code></a></p>
<p>Используйте <code>nice</code>, чтобы установить приоритет планирования
сервера в данное значение.</li>

<li><a name="option_mysqld_safe_no-defaults"></a>
<a href="#option_mysqld_safe_no-defaults"><code>
--no-defaults</code></a></p>
<p>Не читайте файлы опций. Это должно быть первой опцией в
командной строке, если это используется.</li>

<li><a name="option_mysqld_safe_open-files-limit"></a>
<a href="#option_mysqld_safe_open-files-limit"><code>
--open-files-limit=<em><code>count</code></em></code></a></p>

<p>Число файлов, которые <a href="#mysqld"><span><strong>mysqld
</strong></span></a> должен быть в состоянии открыть. Значение опции передают
<span><strong>ulimit -n</strong></span>.</p>

<p>Вы должны запустить <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> как <code>root</code>, чтобы эта опция
функционировала должным образом.</p></li>

<li><p><a name="option_mysqld_safe_pid-file"></a>
<a href="#option_mysqld_safe_pid-file"><code>
--pid-file=<em><code>file_name</code></em></code></a></p>
<p>Путь файла process ID.</p>

<p><a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a> создает файл PID <code>mysqld_safe.pid</code>
в каталоге данных MySQL, запускаясь.</li>

<li><a name="option_mysqld_safe_plugin-dir"></a>
<a href="#option_mysqld_safe_plugin-dir"><code>
--plugin-dir=<em><code>dir_name</code></em></code></a></p>
<p>Путь каталога плагинов.</li>

<li><a name="option_mysqld_safe_port"></a>
<a href="#option_mysqld_safe_port"><code>
--port=<em><code>port_num</code></em></code></a></p>

<p>Номер порта, который сервер должен использовать, прислушиваясь к
соединениям TCP/IP. Должен быть 1024 или выше, если сервер не запущен
от имени <code>root</code>.</li>

<li><a name="option_mysqld_safe_skip-kill-mysqld"></a>
<a href="#option_mysqld_safe_skip-kill-mysqld"><code>
--skip-kill-mysqld</code></a></p>

<p>Не пытаться уничтожить беспризорные процессы
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
при запуске. Эта опция работает только в Linux.</li>

<li><a name="option_mysqld_safe_socket"></a>
<a href="#option_mysqld_safe_socket"><code>--socket=<em><code>
path</code></em></code></a></p>
<p>Файл сокета Unix, который сервер должен использовать
для местных соединений.</li>

<li><a name="option_mysqld_safe_syslog"></a>
<a href="#option_mysqld_safe_syslog"><code>--syslog</code></a>,
<a href="#option_mysqld_safe_syslog"><code>--skip-syslog</code>
</a></p>

<p><a href="#option_mysqld_safe_syslog"><code>--syslog</code></a>
сообщения об ошибках, которые будут посланы в <code>syslog</code>
на системах, которые поддерживают программу
<span><strong>logger</strong></span>. <code>--skip-syslog</code>
подавляет использование <code>syslog</code>, сообщения написаны в
файл журнала ошибок.</p>

<p>Когда <code>syslog</code> используется, <code>daemon.err</code>
facility/severity используется для всех сообщений журнала.</p>
<p>Использование этих опций, чтобы управлять журналированием
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
устарело. Используйте серверную системную переменную
<a href="server.htm#sysvar_log_syslog"><code>log_syslog</code></a>
вместо этого. Чтобы управлять средством, используйте серверную системную
переменную <a href="server.htm#sysvar_log_syslog_facility"><code>
log_syslog_facility</code></a>, см. <a href="server.htm#error-log">раздел
6.4.2</a>.</li>

<li><a name="option_mysqld_safe_syslog-tag"></a>
<a href="#option_mysqld_safe_syslog-tag"><code>
--syslog-tag=<em><code>tag</code></em></code></a></p>

<p>Для того, чтобы зарегистрировать в <code>syslog</code>
сообщения от <a href="#mysqld-safe"><span><strong>mysqld_safe
</strong></span></a> и <a href="#mysqld"><span><strong>mysqld
</strong></span></a> написаны с идентификаторами
<code>mysqld_safe</code> и <code>mysqld</code>, соответственно.
Чтобы определить суффикс для идентификаторов, надо использовать
<a href="#option_mysqld_safe_syslog-tag"><code>
--syslog-tag=<em><code>tag</code></em></code></a>,
который изменяет идентификаторы, чтобы быть
<code>mysqld_safe-<em><code>tag</code></em></code> и
<code>mysqld-<em><code>tag</code></em></code>.</p>

<p>Использование этой опции, чтобы управлять журналированием
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
устарело. Используйте серверную переменную
<a href="server.htm#sysvar_log_syslog_tag"><code>log_syslog_tag</code></a>,
см. <a href="server.htm#error-log">раздел 6.4.2</a>.</li>

<li><a name="option_mysqld_safe_timezone"></a>
<a href="#option_mysqld_safe_timezone"><code>
--timezone=<em><code>timezone</code></em></code></a></p>

<p>Установите переменную окружения <code>TZ</code> часового пояса к данному
значению опции. Консультируйтесь со своей документацией операционной системы
для форматов спецификации часового пояса.</li>

<li><a name="option_mysqld_safe_user"></a>
<a href="#option_mysqld_safe_user"><code>
--user={<em><code>user_name</code></em>|<em><code>user_id</code></em>}
</code></a></p>

<p>Выполните <a href="#mysqld"><span><strong>mysqld</strong>
</span></a> как пользователя, имеющего имя
<em><code>user_name</code></em> или числовой пользовательский идентификатор
ID <em><code>user_id</code></em> (<span><span>User</span></span>
в этом контексте обращается к системной учетной записи, а не пользователю
MySQL, перечисленному в таблицах привилегий).</p></li></ul>

<p>Если Вы выполняете <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> с опцией
<a href="#option_mysqld_safe_defaults-file"><code>--defaults-file
</code></a> или
<a href="#option_mysqld_safe_defaults-extra-file"><code>
--defaults-extra-file</code></a>, чтобы назвать файл опции, опция должна быть
первой, данной в командной строке, или файл опции не будет использоваться.
Например, эта команда не будет использовать названный файл опции:
<pre>
mysql&gt; mysqld_safe --port=<em><code>port_num</code></em> \
                      --defaults-file=<em><code>file_name</code></em>
</pre>

Вместо этого используйте следующую команду:
<pre>
mysql&gt; mysqld_safe --defaults-file=<em><code>file_name</code></em> \
                      --port=<em><code>port_num</code></em>
</pre>

Скрипт <a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a> написан так, чтобы он обычно мог запустить сервер,
который был установлен или из исходных текстов или двоичного дистрибутива
MySQL, даже при том, что эти типы дистрибутивов, как правило, устанавливают
сервер в немного отличающихся местоположениях. См.
<a href="install.htm#installation-layouts">раздел 2.1.4</a>.
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> ожидает одно из следующих условий:</p>

<ul><li><p>Сервер и базы данных могут быть найдены относительно рабочего
каталога (каталог, из которого <a href="#mysqld-safe"><span>
<strong>mysqld_safe</strong></span></a> вызван). Для двоичных дистрибутивов
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> смотрит в соответствии со своим рабочим каталогом для каталогов
<code>bin</code> и <code>data</code>. Для дистрибутивов исходных текстов это
ищет подкаталоги <code>libexec</code> и <code>var</code>.
Это условие нужно соблюдать, если Вы выполняете
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> из своего каталога установки MySQL (например,
<code>/usr/local/mysql</code> для двоичного дистрибутива).</li>

<li>Если сервер и базы данных не могут быть найдены относительно рабочего
каталога, <a href="#mysqld-safe"><span><strong>mysqld_safe
</strong></span></a> пытается определить местонахождение их абсолютными
путями. Типичные местоположения это
<code>/usr/local/libexec</code> и <code>/usr/local/var</code>.
Фактические местоположения определены от значений, сконфигурированных в
дистрибутиве в то время, когда он был создан. Они должны быть правильными,
если MySQL установлен в местоположении, определенном во время конфигурации.
</p></li></ul>

<p>Так как <a href="#mysqld-safe"><span><strong>mysqld_safe
</strong></span></a> пытается найти сервер и базы данных относительно его
собственного рабочего каталога, Вы можете установить двоичный
дистрибутив MySQL где угодно, пока Вы выполняете
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> из каталога установки MySQL:
<pre>
shell&gt; cd <em><code>mysql_installation_directory</code></em>
shell&gt; bin/mysqld_safe &amp;
</pre>

Если <a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a> терпит неудачу, даже когда вызван из каталога установки MySQL,
определите опции <a href="#option_mysqld_safe_ledir"><code>
--ledir</code></a> и <a href="#option_mysqld_safe_datadir"><code>
--datadir</code></a>, чтобы указать на каталоги, в которых сервер и базы
данных расположены на Вашей системе.</p>

<p><a href="#mysqld-safe"><span><strong>mysqld_safe</strong>
</span></a> пытается использовать утилиты системы
<span><strong>sleep</strong></span> и <span><strong>date</strong></span>,
чтобы определить, сколько раз в секунду попыталось запуститься. Если эти
утилиты присутствуют, и предпринято больше 5 запусков в секунду,
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> ждет 1 целую секунду прежде, чем запуститься снова. Это предназначено,
чтобы предотвратить чрезмерное использование центрального процессора в случае
повторных отказов (Bug #11761530, Bug #54035).</p>

<p>Когда Вы используете <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a>, чтобы запустить
<a href="#mysqld"><span><strong>mysqld</strong></span></a>,
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> устраивает ошибку (и сообщение), от себя и от
<a href="#mysqld"><span><strong>mysqld</strong></span></a>, чтобы
пойти к тому же самому месту назначения.</p>

<p>Есть несколько опций <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> для того, чтобы управлять местом
назначения этих сообщений:</p>

<ul><li><p><a href="#option_mysqld_safe_log-error"><code>
--log-error=<em><code>file_name</code></em></code></a>:
Сообщения ошибки при записи в названный файлу.</li>

<li><a href="#option_mysqld_safe_syslog"><code>--syslog</code>
</a>: Сообщения ошибки при записи в <code>syslog</code> на системах, которые
поддерживают программу <span><strong>logger</strong></span>.</li>

<li><a href="#option_mysqld_safe_syslog"><code>--skip-syslog
</code></a>: Не делать сообщений ошибки при записи в <code>syslog</code>.
Сообщения написаны в файл журнала ошибок по умолчанию
(<code><em><code>host_name</code></em>.err</code> в каталоге данных) или в
названный файл, если задана опция
<a href="#option_mysqld_safe_log-error"><code>--log-error</code>
</a>.</p></li></ul>

<p>Если ни одна из этих опций не дана, значение по умолчанию
<a href="#option_mysqld_safe_syslog"><code>--skip-syslog</code>
</a>.</p>

<p>Когда <a href="#mysqld-safe"><span><strong>mysqld_safe
</strong></span></a> пишет сообщение, уведомления идут к месту назначения
журналирования (<code>syslog</code> или файл журнала ошибок) и
<code>stdout</code>. Ошибки идут к месту
назначения журналирования и <code>stderr</code>.</p>

<p>Управление регистрацией <a href="#mysqld"><span><strong>mysqld
</strong></span></a> из <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> устарело. Используйте встроенную в сервер
поддержку <code>syslog</code>, см.
<a href="server.htm#error-log">раздел 6.4.2</a>.</p>

<h3><a name="mysql-server"></a>5.3.3. Скрипт запуска сервера
<span><strong>mysql.server</strong></span></h3>
<p>Дистрибутивы MySQL в Unix включают скрипт, названный
<a href="#mysql-server"><span><strong>mysql.server</strong>
</span></a>, который запускает сервер, используя
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>. Это может использоваться на системах, таких как Linux и Solaris,
, которые используют стиль System V-каталогов, чтобы запустить и остановить
системные службы. Это также используется OS X Startup Item для MySQL.</p>

<p>Для установки MySQL, используя дистрибутив RPM, запуск сервера и
завершение работы управляется systemd на нескольких платформах Linux. На этих
платформах больше не установлены <a href="#mysql-server"><span>
<strong>mysql.server</strong></span></a> и
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>, потому что они не нужны. Для получения дополнительной информации см.
<a href="install.htm#using-systemd">раздел 2.5.9</a>.</p>

<p>Чтобы запустить или остановить сервер вручную, используя
<a href="#mysql-server"><span><strong>mysql.server</strong>
</span></a>, вызовите это с параметром <code>start</code> или <code>stop
</code>:
<pre>
shell&gt; mysql.server start
shell&gt; mysql.server stop
</pre>

Прежде, чем <a href="#mysql-server"><span><strong>mysql.server
</strong></span></a> запускает сервер, он изменяет местоположение на каталог
установки MySQL и затем вызывает <a href="#mysqld-safe"><span>
<strong>mysqld_safe</strong></span></a>. Чтобы выполнить сервер от
некоторого определенного пользователя, добавьте соответствующую опцию
<code>user</code> в группу <code>[mysqld]</code> файла
<code>/etc/my.cnf</code>, как показано позже в этом разделе. Возможно, что Вы
должны отредактировать <a href="#mysql-server"><span><strong>
mysql.server</strong></span></a>, если Вы установили двоичный дистрибутив
MySQL в нестандартном местоположении. Измените это, чтобы изменить
местоположение в надлежащий каталог прежде, чем это выполнит
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>. Если Вы делаете это, Ваша измененная версия
<a href="#mysql-server"><span><strong>mysql.server</strong>
</span></a> может быть перезаписана, если Вы обновляете MySQL в будущем,
таким образом, Вы должны сделать копию своей версии.</p>

<p><a href="#mysql-server"><span><strong>mysql.server stop
</strong></span></a> останавливает сервер, посылая ему сигнал.
Вы можете также остановить сервер вручную, выполняя
<a href="#mysqladmin"><span><strong>mysqladmin shutdown</strong>
</span></a>.</p>

<p>Чтобы запустить и остановить MySQL автоматически на Вашем сервере, Вы
должны добавить команды к соответствующим местам в Ваших
файлах <code>/etc/rc*</code>.</p>

<p>Если Вы используете пакет RPMсервера Linux
(<code>MySQL-server-<em><code>VERSION</code></em>.rpm</code>)
или родную установку пакета Linux, скрипт
<a href="#mysql-server"><span><strong>mysql.server</strong>
</span></a> может быть установлен в <code>/etc/init.d</code> с именем
<code>mysql</code>. См. <a href="install.htm#linux-installation-rpm">
раздел 2.5.4</a>.</p>

<p>Некоторые продавцы обеспечивают пакеты RPM, которые устанавливают скрипт
запуска под другим именем, таким как <a href="#mysqld"><span>
<strong>mysqld</strong></span></a>.</p>

<p>Если Вы устанавливаете MySQL из исходных текстов или с использованием
двоичного формата распределения, который не устанавливает
<a href="#mysql-server"><span><strong>mysql.server</strong>
</span></a> автоматически, Вы можете установить это вручную.
Скрипт может быть найден в подкаталоге <code>support-files</code>
в соответствии с каталогом установки MySQL или в исходном дереве MySQL.
Скопируйте это в <code>/etc/init.d</code> с именем
<a href="#mysql"><span><strong>mysql</strong></span></a>,
затем сделайте это выполнимым:
<pre>
shell&gt; cp mysql.server /etc/init.d/mysql
shell&gt; chmod +x /etc/init.d/mysql
</pre>

<p>Старые системы Red Hat используют <code>/etc/rc.d/init.d</code> вместо
<code>/etc/init.d</code>. Скорректируйте предыдущие команды соответственно.
Альтернативно, сначала создайте <code>/etc/init.d</code> как символическую
ссылку, которая указывает на <code>/etc/rc.d/init.d</code>:</p>
<pre>
shell&gt; cd /etc
shell&gt; ln -s rc.d/init.d .
</pre>

После установки скрипта должны были активироваться команды,
чтобы работать при системном запуске, это зависит от Вашей операционной
системы. В Linux Вы можете использовать <span><strong>chkconfig</strong>
</span>:
<pre>
shell&gt; chkconfig --add mysql
</pre>

На некоторых системах Linux следующая команда также, кажется, необходима,
чтобы полностью включить <a href="#mysql"><span><strong>mysql
</strong></span></a>:
<pre>
shell&gt; chkconfig --level 345 mysql on
</pre>

В FreeBSD скрипты запуска вообще должны быть в
<code>/usr/local/etc/rc.d/</code>. <code>rc(8)</code> manual page
заявляет, что скрипты в этом каталоге выполнены, только если их базовое имя
соответствует образцу имени файла оболочки <code>*.sh</code>.
Любые другие файлы или каталоги в пределах каталога тихо проигнорированы.
Другими словами, на FreeBSD, Вы должны установить скрипт
<code>mysql.server</code> как
<code>/usr/local/etc/rc.d/mysql.server.sh</code>, чтобы
включить автоматический запуск.</p>

<p>Как альтернатива предыдущей установке, некоторые операционные системы
также используют <code>/etc/rc.local</code> или
<code>/etc/init.d/boot.local</code>, чтобы
запустить дополнительные службы. Чтобы запустить MySQL, используя этот метод,
добавьте команду к соответствующему файлу запуска:
<pre>
/bin/sh -c 'cd /usr/local/mysql; ./bin/mysqld_safe --user=mysql &amp;'
</pre>
Для других систем консультируйтесь со своей документацией операционной
системы, чтобы видеть, как установить скрипты запуска.</p>

<p><a href="#mysql-server"><span><strong>mysql.server</strong>
</span></a> читает опции из групп
<code>[mysql.server]</code> и <code>[mysqld]</code>
файлов опции. Для обратной совместимости это также читает
<code>[mysql_server]</code>, но Вы должны переименовать такие
разделы в <code>[mysql.server]</code>.</p>

<p>Вы можете добавить опции для <a href="#mysql-server"><span>
<strong>mysql.server</strong></span></a> в глобальном файле
<code>/etc/my.cnf</code>. Типичный файл <code>/etc/my.cnf</code>:
<pre>
[mysqld]
datadir=/usr/local/mysql/var
socket=/var/tmp/mysql.sock
port=3306
user=mysql

[mysql.server]
basedir=/usr/local/mysql
</pre>

Скрипт <a href="#mysql-server"><span><strong>mysql.server
</strong></span></a> поддерживает следующие опции. Если определены, они
<span><em>должны</em></span> быть размещены в файле опций, а не в
командной строке. <a href="#mysql-server"><span><strong>
mysql.server</strong></span></a> поддерживает только
<code>start</code> и <code>stop</code> как параметры командной строки.</p>

<a name="idm139965417459152"></a><p><b>Таблица 5.4.
Опции <code>mysql.server</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row">--basedir</td><td>
Путь к каталогу установки MySQL</td></tr>
<tr><td scope="row">--datadir</td><td>Путь к каталогу данных MySQL</td></tr>
<tr><td scope="row">--pid-file</td><td>Файл, в который сервер должен записать
свой идентификатор процесса</td></tr>
<tr><td scope="row">--service-startup-timeout</td><td>
Сколько времени ждать запуска сервера</td></tr></tbody></table>

<ul><li><p><a name="option_mysql_server_basedir"></a>
<a href="#option_mysql_server_basedir"><code>
--basedir=<em><code>dir_name</code></em></code></a></p>
<p>Путь к каталогу установки MySQL.</li>

<li><a name="option_mysql_server_datadir"></a>
<a href="#option_mysql_server_datadir"><code>
--datadir=<em><code>dir_name</code></em></code></a></p>
<p>Путь к каталогу данных MySQL.</li>

<li><a name="option_mysql_server_pid-file"></a>
<a href="#option_mysql_server_pid-file"><code>
--pid-file=<em><code>file_name</code></em></code></a></p>
<p>Путь к файлу, в который сервер должен написать process ID.</p>

<p>Если эта опция не дана, <a href="#mysql-server"><span><strong>
mysql.server</strong></span></a> использует значение по умолчанию
<code><em><code>host_name</code></em>.pid</code>. Значение файла PID, которое
передают <a href="#mysqld-safe"><span><strong>mysqld_safe
</strong></span></a>, переопределяет любое значение, определенное в группе
<code>[mysqld_safe]</code> файла опции. Поскольку
<a href="#mysql-server"><span><strong>mysql.server</strong>
</span></a> читает группу <code>[mysqld]</code> файла опции, но не
<code>[mysqld_safe]</code>, Вы можете гарантировать, что
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> получает то же самое значение, когда вызывается с использованием
<a href="#mysql-server"><span><strong>mysql.server</strong>
</span></a> как тогда, когда вызван вручную, помещая тот же самый
<code>pid-file</code> в обе группы
<code>[mysqld_safe]</code> и <code>[mysqld]</code>.</li>

<li><a name="option_mysql_server_service-startup-timeout"></a>
<a href="#option_mysql_server_service-startup-timeout"><code>
--service-startup-timeout=<em><code>seconds</code></em></code></a></p>
<p>Сколько времени в секундах ждать подтверждения запуска сервера. Если
сервер не запускается в пределах этого времени,
<a href="#mysql-server"><span><strong>mysql.server</strong>
</span></a> выходит с ошибкой. Значение по умолчанию 900. Значение 0 значит
не ждать запуска вообще. Отрицательные величины означают ждать бесконечно
(никакого тайм-аута).</p></li></ul>

<h3><a name="mysqld-multi"></a>5.3.4.
<span><strong>mysqld_multi</strong></span>, управление
несколькими серверами MySQL</h3>
<p><a href="#mysqld-multi"><span><strong>mysqld_multi</strong>
</span></a> разработан, чтобы управлять несколькими процессами
<a href="#mysqld"><span><strong>mysqld</strong></span></a>,
которые прислушиваются к соединениям на различных файлах сокета Unix и портах
TCP/IP. Это может запустить или остановить серверы или сообщить об
их текущем статусе.</p>

<p>Для установки MySQL, используя дистрибутив RPM, запуск сервера и
завершение работы управляется systemd на нескольких платформах Linux. На этих
платформах больше не установлен <a href="#mysqld-multi"><span>
<strong>mysqld_multi</strong></span></a>, потому что это не нужно.
Для информации об использовании systemd, чтобы обработать многократные
экземпляры MySQL, см. <a href="install.htm#using-systemd">раздел 2.5.9</a>.
</p>

<p><a href="#mysqld-multi"><span><strong>mysqld_multi</strong>
</span></a> ищет группы <code>[mysqld<em><code>N</code></em>]</code> в
<code>my.cnf</code> (или в файле, названном в опции
<a href="#option_mysqld_multi_defaults-file"><code>
--defaults-file</code></a>). <em><code>N</code></em>
может быть любым положительным целым числом. Это число упомянуто в следующем
обсуждении как групповое число опции или <em><code>GNR</code></em>.
Групповые числа отличают группы опций от друг друга и используются в качестве
параметров <a href="#mysqld-multi"><span><strong>mysqld_multi
</strong></span></a>, чтобы определить, какие серверы Вы хотите запустить,
остановить или получить отчет о состоянии. Опции, перечисленные в этих
группах, являются тем же самым, что Вы использовали бы в группе
<code>[mysqld]</code> для того, чтобы начать
<a href="#mysqld"><span><strong>mysqld</strong></span></a>.
См. <a href="install.htm#automatic-start">раздел 2.9.5</a>.
Однако, используя многократные серверы, необходимо чтобы каждый использовал
собственное значение для таких опций, как файл сокета Unix и номер порта
TCP/IP. Для получения дополнительной информации о том, которые опции должны
быть уникальны для сервера в окружающей среде нескольких серверов см.
<a href="server.htm#multiple-servers">раздел 6.7</a>.</p>

<p>Чтобы вызвать <a href="#mysqld-multi"><span><strong>
mysqld_multi</strong></span></a>, используйте следующий синтаксис:
<pre>
shell&gt; mysqld_multi [<em><code>options</code></em>]
          {start|stop|reload|report} [<em><code>GNR</code></em>[,<em><code>GNR</code></em>] ...]
</pre>

<code>start</code>, <code>stop</code>, <code>reload</code> (остановить и
перезапустить) и <code>report</code> указывают, что надо сделать. Вы можете
выполнить определяемую работу для единственного или многих серверов, в
зависимости от списка <em><code>GNR</code></em>, который следует за именем
опции. Если нет никакого списка, <a href="#mysqld-multi"><span>
<strong>mysqld_multi</strong></span></a>
выполняет работу для всех серверов в файле опции.</p>

<p>Каждое значение <em><code>GNR</code></em>
представляет групповое число опции или диапазон групповых чисел. Значение
должно быть числом в конце названия группы в файле опции. Например,
<em><code>GNR</code></em> для группы
<code>[mysqld17]</code> = <code>17</code>. Чтобы определить диапазон чисел,
отделите числа тире. <em><code>GNR</code></em> <code>10-13</code> задает
группы от <code>[mysqld10]</code> по <code>[mysqld13]</code>.
Многократные группы или групповые диапазоны могут быть определены в командной
строке, через запятую. Не должно быть никаких пробельных символов (пробелы
или табуляции) в списке <em><code>GNR</code></em>,
что-либо после пробельного символа проигнорировано.</p>

<p>Эта команда запускает единственную группу
опции сервера <code>[mysqld17]</code>:
<pre>
shell&gt; mysqld_multi start 17
</pre>

Эта команда останавливает несколько серверов, используя группы опции
<code>[mysqld8]</code> и с <code>[mysqld10]</code> по <code>[mysqld13]
</code>:
<pre>
shell&gt; mysqld_multi stop 8,10-13
</pre>

Для примера того, как Вы могли бы настроить файл опции,
используйте эту команду:
<pre>
shell&gt; mysqld_multi --example
</pre>

<a href="#mysqld-multi"><span><strong>mysqld_multi</strong>
</span></a> ищет файлы опции следующим образом:</p>
<ul><li><p><a name="option_mysqld_multi_no-defaults"></a>
С <a href="#option_mysqld_multi_no-defaults"><code>
--no-defaults</code></a> никакие файлы опции не считаны.</li>

<li><a name="option_mysqld_multi_defaults-file"></a>
С <a href="#option_mysqld_multi_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a>,
только названный файл считан.</li>

<li><a name="option_mysqld_multi_defaults-extra-file"></a>
Иначе файлы опции в стандартном списке местоположений считаны, включая любой
файл, названный в опции
<a href="#option_mysqld_multi_defaults-extra-file">
<code>--defaults-extra-file=<em><code>file_name</code></em></code></a>, если
он есть. Если опция дана многократно, последнее значение используется.
</p></li></ul>

<p>В файлах опции ищутся группы <code>[mysqld_multi]</code> и
<code>[mysqld<em><code>N</code></em>]</code>. Группа
<code>[mysqld_multi]</code> может использоваться для опций
<a href="#mysqld-multi"><span><strong>mysqld_multi</strong>
</span></a>. Группы <code>[mysqld<em><code>N</code></em>]</code>
могут использоваться для опций, которые передают к определенным экземплярам
<a href="#mysqld"><span><strong>mysqld</strong></span></a>.</p>

<p>Группы <code>[mysqld]</code> или <code>[mysqld_safe]</code>
могут использоваться для общих опций, считанных всеми экземплярами
<a href="#mysqld"><span><strong>mysqld</strong></span></a> или
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>. Вы можете определить <a href="server.htm#option_mysqld_defaults-file">
<code>--defaults-file=<em><code>file_name</code></em></code></a>, чтобы
использовать иной конфигурационный файл для того того случая, когда группы
<code>[mysqld]</code> или <code>[mysqld_safe]</code>
из того файла будут использоваться.</p>
<p><a href="#mysqld-multi"><span><strong>mysqld_multi</strong>
</span></a> поддерживает следующие опции.</p>

<ul><li><p><a name="option_mysqld_multi_help"></a>
<a href="#option_mysqld_multi_help"><code>--help</code></a></p>
<p>Вывести на экран сообщение справки и выйти.</li>

<li><a name="option_mysqld_multi_example"></a>
<a href="#option_mysqld_multi_example"><code>--example</code></a>
</p>
<p>Вывести на экран типовой файл опции.</li>

<li><a name="option_mysqld_multi_log"></a>
<a href="#option_mysqld_multi_log"><code>
--log=<em><code>file_name</code></em></code></a></p>
<p>Определить название файла системного журнала. Если файл существует, вывод
журнала направлен к нему.</li>

<li><a name="option_mysqld_multi_mysqladmin"></a>
<a href="#option_mysqld_multi_mysqladmin"><code>
--mysqladmin=<em><code>prog_name</code></em></code></a></p>
<p><a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a>, который будет использоваться, чтобы остановить серверы.</li>

<li><a name="option_mysqld_multi_mysqld"></a>
<a href="#option_mysqld_multi_mysqld"><code>
--mysqld=<em><code>prog_name</code></em></code></a></p>
<p><a href="#mysqld"><span><strong>mysqld</strong></span></a>,
который будет использоваться. Отметьте, что Вы можете определить
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> как значение для этой опции также. Если Вы используете
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>, чтобы запустить сервер, Вы можете включать опции <code>mysqld</code>
или <code>ledir</code> в соответсвующую группу
<code>[mysqld<em><code>N</code></em>]</code>.
Эти опции указывают на название сервера, который
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> должен запустить и путь каталога, где сервер расположен.
См. описания для этих опций в <a href="#mysqld-safe">разделе
5.3.2</a>:
<pre>
[mysqld38]
mysqld = mysqld-debug
ledir  = /opt/local/mysql/libexec
</pre></li>

<li><a name="option_mysqld_multi_no-log"></a>
<a href="#option_mysqld_multi_no-log"><code>--no-log</code></a>
</p>
<p>Информация о журнале печатается в <code>stdout</code> вместо файла
системного журнала. По умолчанию вывод идет в файл системного журнала.</li>

<li><a name="option_mysqld_multi_password"></a>
<a href="#option_mysqld_multi_password"><code>
--password=<em><code>password</code></em></code></a></p>

<p>Пароль MySQL, чтобы использовать, вызывая
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a>. Отметьте, что значение пароля не является дополнительным для этой
опции, в отличие от других программ MySQL.</li>

<li><a name="option_mysqld_multi_silent"></a>
<a href="#option_mysqld_multi_silent"><code>--silent</code></a>
</p>
<p>Тихий режим; отключить предупреждения.</li>

<li><a name="option_mysqld_multi_tcp-ip"></a>
<a href="#option_mysqld_multi_tcp-ip"><code>--tcp-ip</code></a>
</p>
<p>Соединитесь с каждым сервером MySQL через порт TCP/IP вместо файла сокета
Unix. Если файл сокета отсутствует, сервер мог бы все еще работать, но
доступен только через порт TCP/IP. По умолчанию соединения сделаны, используя
файл сокета Unix. Эта опция влияет на
операции <code>stop</code> и <code>report</code>.</li>

<li><a name="option_mysqld_multi_user"></a>
<a href="#option_mysqld_multi_user"><code>
--user=<em><code>user_name</code></em></code></a></p>

<p>Имя пользователя MySQL, чтобы использовать, вызывая
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a>.</li>

<li><a name="option_mysqld_multi_verbose"></a>
<a href="#option_mysqld_multi_verbose"><code>--verbose</code></a>
</p>
<p>Больше подробностей о работе.</li>

<li><a name="option_mysqld_multi_version"></a>
<a href="#option_mysqld_multi_version"><code>--version</code></a>
</p>
<p>Отобразить информацию о версии.</p></li></ul>

<p>Некоторые примечания о <a href="#mysqld-multi"><span><strong>
mysqld_multi</strong></span></a>:</p>
<ul><li><p><span><strong>ВАЖНО</strong></span>: Перед использованием
<a href="#mysqld-multi"><span><strong>mysqld_multi</strong>
</span></a> надо убедиться, что Вы понимаете значения опций, которые передают
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
и <span><em>почему</em></span> Вы хотели бы иметь отдельные процессы
<a href="#mysqld"><span><strong>mysqld</strong></span></a>.
Остерегайтесь опасностей использовать многократные
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
с тем же самым каталогом данных. Используйте отдельные каталоги данных, если
Вы не <span><em>знаете</em></span>, что Вы делаете. Запуск многократных
серверов с тем же самым каталогом данных <span><em>не</em></span>
дает Вам дополнительную скорость в многопоточной системе. См.
<a href="server.htm#multiple-servers">раздел 6.7</a>.</p></li><li>

<p>Удостоверьтесь, что каталог данных для каждого сервера полностью доступен
для учетной записи Unix, от которой запущен определенный процесс
<a href="#mysqld"><span><strong>mysqld</strong></span></a>.
<span><em>Не используйте</em></span> Unix <em><code>root</code></em>, если Вы
не <span><em>знаете</em></span>, что Вы делаете. См.
<a href="security.htm#changing-mysql-user">раздел 7.1.5</a>.</p></li>

<li><p>Удостоверьтесь, что у учетной записи MySQL, используемой для того,
чтобы остановить <a href="#mysqld"><span><strong>mysqld</strong>
</span></a> (с <a href="#mysqladmin"><span><strong>mysqladmin
</strong></span></a>) то же самое имя пользователя и пароль для каждого
сервера. Кроме того, удостоверьтесь, что учетная запись имеет
привилегию <a href="security.htm#priv_shutdown"><code>SHUTDOWN</code></a>.
Если у серверов, которыми Вы хотите управлять, есть различные имена
пользователя или пароли для административных учетных записей, Вы могли бы
хотеть создать учетную запись на каждом сервере, у которой есть то же самое
имя пользователя и пароль. Например, Вы могли бы настроить общую учетку
<code>multi_admin</code>, выполняя следующие команды для каждого сервера:
<pre>
shell&gt; mysql -u root -S /tmp/mysql.sock -p
Enter password:
mysql&gt; CREATE USER 'multi_admin'@'localhost' IDENTIFIED BY 'multipass';
mysql&gt; GRANT SHUTDOWN ON *.* TO 'multi_admin'@'localhost';
</pre>

См. <a href="security.htm#privilege-system">раздел 7.2</a>.
Вы должны сделать это для каждого
<a href="#mysqld"><span><strong>mysqld</strong></span></a>.
Измените параметры соединения соответственно, соединяясь с каждым. Отметьте,
что часть имени хоста имени учетной записи должна разрешить Вам соединяться
как <code>multi_admin</code> с хоста, где Вы хотите выполнить
<a href="#mysqld-multi"><span><strong>mysqld_multi</strong>
</span></a>.</li>

<li>Файл сокета Unix и номер порта TCP/IP должны отличаться для каждого
<a href="#mysqld"><span><strong>mysqld</strong></span></a>.
Альтернативно, если у хоста есть многократные сетевые адреса, Вы можете
использовать <a href="server.htm#option_mysqld_bind-address"><code>
--bind-address</code></a>, чтобы заставить различные серверы
слушать различные интерфейсы.</li>

<li><a href="#option_mysqld_safe_pid-file"><code>--pid-file
</code></a> очень важна, если Вы используете
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a>, чтобы запустить <a href="#mysqld"><span><strong>mysqld
</strong></span></a> (например,
<a href="#option_mysqld_safe_mysqld"><code>--mysqld=mysqld_safe
</code></a>). У каждого <a href="#mysqld"><span><strong>mysqld
</strong></span></a> должен быть свой собственный файл ID процесса.
Преимущество использования <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> вместо
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
состоит в том, что <a href="#mysqld-safe"><span><strong>
mysqld_safe</strong></span></a> контролирует свой процесс
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
и перезапускает это, если процесс заканчивается из-за сигнала, посланного,
используя <code>kill -9</code> или по другим причинам, таким как ошибка
сегментации. Пожалуйста, отметьте, что скрипт
<a href="#mysqld-safe"><span><strong>mysqld_safe</strong></span>
</a> мог бы потребовать, чтобы Вы запустили его с определенного места. Это
означает, что Вам, возможно, придется изменить местоположение на определенный
каталог прежде, чем выполнить <a href="#mysqld-multi"><span>
<strong>mysqld_multi</strong></span></a>. Если у Вас есть проблемы с
запуском, пожалуйста, см. скрипт <a href="#mysqld-safe"><span>
<strong>mysqld_safe</strong></span></a>. Проверьте особенно строки:
<pre>
----------------------------------------------------------------
MY_PWD=`pwd`
# Check if we are starting this relative (for the binary release)
if test -d $MY_PWD/data/mysql -a \
   -f ./share/mysql/english/errmsg.sys -a \
   -x ./bin/mysqld
----------------------------------------------------------------
</pre>
Тест, выполненный этими строками, должен быть успешным, или Вы могли бы
столкнуться с проблемами. См. <a href="#mysqld-safe">раздел 5.3.2
</a>.</li>

<li>Вы могли бы хотеть использовать опцию
<a href="server.htm#option_mysqld_user"><code>--user</code></a> для
<a href="#mysqld"><span><strong>mysqld</strong></span></a>,
но чтобы сделать это Вы должны выполнить
<a href="#mysqld-multi"><span><strong>mysqld_multi</strong>
</span></a> как Unix <code>root</code>. Наличие опции в файле опции не имеет
значения; Вы только получаете предупреждение, если Вы не суперпользователь, и
процессы <a href="#mysqld"><span><strong>mysqld</strong></span>
</a> будут запущены в соответствии с Вашей собственной учетной записью Unix.
</p></li></ul>

<p>Следующий пример показывает, как Вы могли бы настроить файл опции для
использования с <a href="#mysqld-multi"><span><strong>
mysqld_multi</strong></span></a>. Порядок, в котором
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
запущены или остановлены, зависит от порядка, в котором они появляются в
файле опции. Групповые числа не обязаны сформировать непрерывную
последовательность. Первая и пятая группы
<code>[mysqld<em><code>N</code></em>]</code> были преднамеренно опущены в
примере, чтобы иллюстрировать, что у Вас может быть <span><span>промежуток
</span></span> в файле опции. Это дает Вам больше гибкости.
<pre>
# This is an example of a my.cnf file for mysqld_multi.
# Usually this file is located in home dir ~/.my.cnf or /etc/my.cnf

[mysqld_multi]
mysqld = /usr/local/mysql/bin/mysqld_safe
mysqladmin = /usr/local/mysql/bin/mysqladmin
user = multi_admin
password   = my_password

[mysqld2]
socket = /tmp/mysql.sock2
port = 3307
pid-file   = /usr/local/mysql/data2/hostname.pid2
datadir= /usr/local/mysql/data2
language   = /usr/local/mysql/share/mysql/english
user = unix_user1

[mysqld3]
mysqld = /path/to/mysqld_safe
ledir= /path/to/mysqld-binary/
mysqladmin = /path/to/mysqladmin
socket = /tmp/mysql.sock3
port = 3308
pid-file   = /usr/local/mysql/data3/hostname.pid3
datadir= /usr/local/mysql/data3
language   = /usr/local/mysql/share/mysql/swedish
user = unix_user2

[mysqld4]
socket = /tmp/mysql.sock4
port = 3309
pid-file   = /usr/local/mysql/data4/hostname.pid4
datadir= /usr/local/mysql/data4
language   = /usr/local/mysql/share/mysql/estonia
user = unix_user3

[mysqld6]
socket = /tmp/mysql.sock6
port = 3311
pid-file   = /usr/local/mysql/data6/hostname.pid6
datadir= /usr/local/mysql/data6
language   = /usr/local/mysql/share/mysql/japanese
user = unix_user4
</pre>
См. <a href="#option-files">раздел 5.2.6</a>.</p>

<h2><a name="programs-installation"></a>5.4.
Связанные с установкой программы MySQL</h2>
<p>Программы в этом разделе используются, устанавливая или обновляя MySQL.
</p>

<h3><a name="comp-err"></a>5.4.1. <span><strong>comp_err</strong></span>
Компиляция файла сообщений об ошибке MySQL</h3>
<p><a href="#comp-err"><span><strong>comp_err</strong></span></a>
создает файл <code>errmsg.sys</code>, который используется
<a href="#mysqld"><span><strong>mysqld</strong></span></a>,
чтобы определить сообщения об ошибках, чтобы вывести на экран для различных
кодов ошибки. <a href="#comp-err"><span><strong>comp_err</strong>
</span></a> обычно выполняется автоматически, когда MySQL создан. Это
собирает файл <code>errmsg.sys</code> из текстового файла
<code>sql/share/errmsg-utf8.txt</code>, расположенного в
исходных текстах MySQL.</p>

<p><a href="#comp-err"><span><strong>comp_err</strong></span></a>
также производит заголовочные файлы <code>mysqld_error.h</code>,
<code>mysqld_ername.h</code> и <code>sql_state.h</code>.</p>

<p>Для получения дополнительной информации о том, как сообщения об ошибках
определены, см. <a href="../../../dev.mysql.com/doc/internals/en"
target="_top">MySQL Internals Manual</a>.</p>

<p>Вызов <a href="#comp-err"><span><strong>comp_err</strong>
</span></a>:
<pre>
shell&gt; comp_err [<em><code>options</code></em>]
</pre>
<a href="#comp-err"><span><strong>comp_err</strong></span></a>
поддерживает следующие опции.</p>

<ul><li><p><a name="option_comp_err_help"></a>
<a href="#option_comp_err_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Вывести на экран сообщение справки и выйти.</li>

<li><a name="option_comp_err_charset"></a>
<a href="#option_comp_err_charset"><code>
--charset=<em><code>dir_name</code></em></code></a>,
<code>-C <em><code>dir_name</code></em></code></p>
<p>Каталог набора символов. Значение по умолчанию
<code>../sql/share/charsets</code>.</li>

<li><a name="option_comp_err_debug"></a>
<a href="#option_comp_err_debug"><code>
--debug=<em><code>debug_options</code></em></code></a>,
<code>-# <em><code>debug_options</code></em></code></p>

<p>Писать журнал отладки. Типичная строка
<em><code>debug_options</code></em>:
<code>d:t:O,<em><code>file_name</code></em></code>. По умолчанию
<code>d:t:O,/tmp/comp_err.trace</code>.</li>

<li><a name="option_comp_err_debug-info"></a>
<a href="#option_comp_err_debug-info"><code>--debug-info</code>
</a>, <code>-T</code></p>
<p>Напечатать некоторую информацию об отладке, когда программа выходит.</li>

<li><a name="option_comp_err_header_file"></a>
<a href="#option_comp_err_header_file"><code>
--header_file=<em><code>file_name</code></em></code></a>,
<code>-H <em><code>file_name</code></em></code></p>
<p>Название заголовочного файла ошибок. Значение по умолчанию
<code>mysqld_error.h</code>.</li>

<li><a name="option_comp_err_in_file"></a>
<a href="#option_comp_err_in_file"><code>
--in_file=<em><code>file_name</code></em></code></a>,
<code>-F <em><code>file_name</code></em></code></p>
<p>Название входного файла. Значение по умолчанию
<code>../sql/share/errmsg-utf8.txt</code>.</li>

<li><a name="option_comp_err_name_file"></a>
<a href="#option_comp_err_name_file"><code>
--name_file=<em><code>file_name</code></em></code></a>,
<code>-N <em><code>file_name</code></em></code></p>
<p>Название файла имен ошибок. Значение по умолчанию
<code>mysqld_ername.h</code>.</li>

<li><a name="option_comp_err_out_dir"></a>
<a href="#option_comp_err_out_dir"><code>
--out_dir=<em><code>dir_name</code></em></code></a>,
<code>-D <em><code>dir_name</code></em></code></p>
<p>Название базового каталога вывода. Значение по умолчанию
<code>../sql/share/</code>.</li>

<li><a name="option_comp_err_out_file"></a>
<a href="#option_comp_err_out_file"><code>
--out_file=<em><code>file_name</code></em></code></a>,
<code>-O <em><code>file_name</code></em></code></p>
<p>Название выходного файла. Значение по умолчанию <code>errmsg.sys</code>.
</li>

<li><a name="option_comp_err_statefile"></a>
<a href="#option_comp_err_statefile"><code>--statefile=<em>
<code>file_name</code></em></code></a>,
<code>-S <em><code>file_name</code></em></code></p>
<p>Название заголовочного файла SQLSTATE. Значение по умолчанию
<code>sql_state.h</code>.</li>

<li><a name="option_comp_err_version"></a>
<a href="#option_comp_err_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Информация о версии и выход.</p></li></ul>

<h3><a name="mysql-secure-installation"></a>5.4.2.
<span><strong>mysql_secure_installation</strong></span>
улучшение безопасности установки MySQL</h3>
<p>Эта программа позволяет Вам улучшить безопасность своей установки
MySQL следующими способами:</p>

<ul><li><p>Вы можете установить пароль для <code>root</code>.</li>
<li>Вы можете удалить учетные записи <code>root</code>, которые доступны
снаружи локального хоста.</li>

<li>Вы можете удалить анонимные учетные записи пользователя.</li>
<li>Вы можете удалить базу данных <code>test</code> (к которой по умолчанию
могут получить доступ все пользователи, даже анонимные) и привилегии, которые
разрешают доступ любому к базам данных с именами, которые начинаются с
<code>test_</code>.</p></li></ul>

<p><a href="#mysql-secure-installation"><span><strong>
mysql_secure_installation</strong></span></a> помогает Вам осуществить
рекомендации безопасности, подобные описанным в
<a href="install.htm#default-privileges">разделе 2.9.4</a>.</p>

<p>Нормальное использование должно соединиться с местным сервером MySQL,
вызовите <a href="#mysql-secure-installation"><span><strong>
mysql_secure_installation</strong></span></a> без параметров:
<pre>
shell&gt; mysql_secure_installation
</pre>

Когда выполнен, <a href="#mysql-secure-installation"><span>
<strong>mysql_secure_installation</strong></span></a>
просит Вас определять, которые действия выполнить.</p>

<p>Плагин <code>validate_password</code> может использоваться для проверки
силы пароля. Если плагин не установлен,
<a href="#mysql-secure-installation"><span><strong>
mysql_secure_installation</strong></span></a>
запрашивает пользователя, установить ли это. Любые пароли будут позже
проверены, используя плагин, если он включен.</p>

<p>Большинство обычных опций клиента MySQL, например,
<a href="#option_mysql_secure_installation_host"><code>--host
</code></a> и <a href="#option_mysql_secure_installation_port">
<code>--port</code></a> может использоваться на командной строке и в файлах
опции. Например, чтобы соединиться с локальным сервером по IPv6, используя
порт 3307, используйте эту команду:
<pre>
shell&gt; mysql_secure_installation --host=::1 --port=3307
</pre>

<a href="#mysql-secure-installation"><span><strong>
mysql_secure_installation</strong></span></a> поддерживает следующие опции,
которые могут быть определены в командной строке или в группах
<code>[mysql_secure_installation]</code> и <code>[client]</code>
файла опции. Для информации о файлах опции, используемых программами MySQL,
см. <a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965417047936"></a><p><b>Таблица 5.5. Опции
<code>mysql_secure_installation</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row">
<a href="#option_general_defaults-extra-file">
--defaults-extra-file</a></td><td>Читает данный файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_general_defaults-file">
--defaults-file</a></td><td>Читать только данный файл опций</td></tr>
<tr><td scope="row">
<a href="#option_general_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_help">--help</a></td>
<td>Отобразить справку и выйти</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_host">--host</a></td>
<td>IP-адрес или имя хоста для соединения</td></tr>
<tr><td scope="row"><a href="#option_general_no-defaults">
--no-defaults</a></td><td>Не читать файлы опции</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_password">--password
</a></td><td>Принят, но всегда проигнорирован. Всякий раз, когда
mysql_secure_installation вызван, пользователь запрошен о пароле независимо.
</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_port">--port</a></td>
<td>Номер порта TCP/IP, чтобы использовать для соединения</td></tr>
<tr><td scope="row">
<a href="#option_general_print-defaults">
--print-defaults</a></td><td>Напечатать опции по умолчанию</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_protocol">--protocol
</a></td><td>Протокол соединения, чтобы использовать</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_socket">--socket</a>
</td><td>Для соединений с localhost файл сокета Unix</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_ssl">--ssl-ca</a></td>
<td>Путь к файлу, который содержит список доверенных SSL CA</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_ssl">--ssl-capath</a>
</td><td>Путь к каталогу, который содержит доверенные сертификаты SSL
CA в формате PEM</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_ssl">--ssl-cert</a>
</td><td>Путь к файлу, который содержит сертификат X509 в формате PEM</td>
</tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_ssl">--ssl-cipher</a>
</td><td>Список разрешенных шифров для шифрования соединения</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_ssl">--ssl-crl</a>
</td><td>Путь к файлу, который содержит списки аннулирования сертификатов
</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_ssl">--ssl-crlpath</a>
</td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_ssl">--ssl-key</a>
</td><td>Путь к файлу, который содержит ключ X509 в формате PEM</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_tls-version">
--tls-version</a></td><td>Протоколы, разрешенные для безопасных соединений
</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_use-default">
--use-default</a></td><td>Выполнить без пользовательской активности</td></tr>
<tr><td scope="row">
<a href="#option_mysql_secure_installation_user">--user</a></td>
<td>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером
</td></tr></tbody></table>

<ul><li><p><a name="option_mysql_secure_installation_help"></a>
<a href="#option_mysql_secure_installation_help"><code>--help
</code></a>, <code>-?</code></p>
<p>Отобразить справку и выйти.</li>

<li><a name="option_mysql_secure_installation_defaults-extra-file"></a>
<a href="#option_mysql_secure_installation_defaults-extra-file">
<code>--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Считайте этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный
путь, а не полный.</li>

<li><a name="option_mysql_secure_installation_defaults-file"></a>
<a href="#option_mysql_secure_installation_defaults-file">
<code>--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный
путь, а не полный.</li>

<li><a name="option_mysql_secure_installation_defaults-group-suffix"></a>
<a href="#option_mysql_secure_installation_defaults-group-suffix">
<code>--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читать не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysql-secure-installation"><span><strong>
mysql_secure_installation</strong></span></a> обычно читает группы
<code>[client]</code> и <code>[mysql_secure_installation]</code>. Если опция
<a href="#option_mysql_secure_installation_defaults-group-suffix">
<code>--defaults-group-suffix=_other</code></a> дана,
<a href="#mysql-secure-installation"><span><strong>
mysql_secure_installation</strong></span></a> также читает группы
<code>[client_other]</code> и <code>[mysql_secure_installation_other]</code>.
</li>

<li><a name="option_mysql_secure_installation_host"></a>
<a href="#option_mysql_secure_installation_host"><code>
--host=<em><code>host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Соединитесь с сервером MySQL на данном хосте.</li>

<li><a name="option_mysql_secure_installation_no-defaults"></a>
<a href="#option_mysql_secure_installation_no-defaults"><code>
--no-defaults</code></a></p>

<p>Не читать файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций из файла
<a href="#option_mysql_secure_installation_no-defaults"><code>
--no-defaults</code></a> может использоваться, чтобы препятствовать тому,
чтобы они были считаны.</p>

<p>Исключение: файл <code>.mylogin.cnf</code>, если это существует, считан во
всех случаях. Это разрешает паролям быть определенными более безопасным
способом, чем в командной строке, даже когда применяется
<a href="#option_mysql_secure_installation_no-defaults"><code>
--no-defaults</code></a>. Файл <code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysql_secure_installation_password"></a>
<a href="#option_mysql_secure_installation_password"><code>
--password=<em><code>password</code></em></code></a>,
<code>-p <em><code>password</code></em></code></p>

<p>Эта опция принята, но проигнорирована. Используется ли эта опция
<a href="#mysql-secure-installation"><span> или нет,
<strong>mysql_secure_installation</strong></span></a>
всегда запрашивает у пользователя пароль.</li>

<li><a name="option_mysql_secure_installation_port"></a>
<a href="#option_mysql_secure_installation_port"><code>
--port=<em><code>port_num</code></em></code></a>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для соединения.</li>

<li><a name="option_mysql_secure_installation_print-defaults"></a>
<a href="#option_mysql_secure_installation_print-defaults">
<code>--print-defaults</code></a></p>
<p>Напечатать название программы и все опции, которые она получает
от файлов опции.</li>

<li><a name="option_mysql_secure_installation_protocol"></a>
<a href="#option_mysql_secure_installation_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Протокол соединения, чтобы использовать для того, чтобы соединиться с
сервером. Полезно, когда другие параметры соединения обычно использовали бы
не тот протокол. Для деталей о допустимых значениях см.
<a href="#connecting">раздел 5.2.2</a>.</li>

<li><a name="option_mysql_secure_installation_socket"></a>
<a href="#option_mysql_secure_installation_socket"><code>
--socket=<em><code>path</code></em></code></a>,
<code>-S <em><code>path</code></em></code></p>
<p>Для соединений с <code>localhost</code> файл сокета Unix, чтобы
использовать, или в Windows имя именованного канала</li>

<li><a name="option_mysql_secure_installation_ssl"></a>
<code>--ssl*</code></p>
<p>Опции, которые начинаются с
<a href="security.htm#option_general_ssl"><code>--ssl</code></a>,
определяют, соединиться ли с сервером, используя SSL и указывают, где найти
ключи и сертификаты SSL, см.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysql_secure_installation_tls-version"></a>
<a href="#option_mysql_secure_installation_tls-version"><code>
--tls-version=<em><code>protocol_list</code></em></code></a></p>

<p>Протоколы, разрешенные клиентом для зашифрованных соединений. Значение
это список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы в этой опции, зависят от
библиотеки SSL, использовавшейся, чтобы собрать MySQL. Для деталей см.
<a href="security.htm#secure-connection-protocols-ciphers">раздел 7.4.3
</a>.</li>

<li><a name="option_mysql_secure_installation_use-default"></a>
<a href="#option_mysql_secure_installation_use-default"><code>
--use-default</code></a></p>
<p>Выполнить не в интерактивном режиме. Эта опция может использоваться для
необслуживаемых операций установки.</li>

<li><a name="option_mysql_secure_installation_user"></a>
<a href="#option_mysql_secure_installation_user"><code>
--user=<em><code>user_name</code></em></code></a>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером.
</p></li></ul>

<h3><a name="mysql-ssl-rsa-setup"></a>5.4.3.
<span><strong>mysql_ssl_rsa_setup</strong></span> создание файлов SSL/RSA</h3>
<p>Эта программа создает сертификат SSL и ключевые файлы, а также файлы
ключевой пары RSA, требуемые, чтобы поддерживать безопасные соединения,
используя SSL и безопасный обмен паролями, использующий RSA по
незашифрованным соединениям, если эти файлы отсутствуют.
<a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a> может также использоваться, чтобы
создать новые файлы SSL, если существующие истекли.</p>

<p><a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a> использует
<span><strong>openssl</strong></span>, таким образом, ее использование
зависит от наличия OpenSSL на Вашей машине.</p>

<p>Другой способ произвести SSL и файлы RSA для дистрибутивов MySQL,
собранных, используя OpenSSL, состоит в том, чтобы сервер произвел их
автоматически. См. <a href="security.htm#creating-ssl-rsa-files-using-mysql">
раздел 7.4.6.1</a>.</p>

<p><a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a> помогает понизить барьер для
использования SSL, облегчая производство необходимых файлов. Однако,
сертификаты, произведенные <a href="#mysql-ssl-rsa-setup"><span>
<strong>mysql_ssl_rsa_setup</strong></span></a> самоподписаны, не очень
безопасны. После того, как Вы приобретете опыт, используя файлы, создаваемые
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a>, рассмотрите получение сертификата CA
из зарегистрированного центра сертификации.</p>

<p>Вызов <a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a>:
<pre>
shell&gt; mysql_ssl_rsa_setup [<em><code>options</code></em>]
</pre>

Опция <a href="#option_mysql_ssl_rsa_setup_datadir">
<code>--datadir</code></a> определяет, где создать файлы, а
<a href="#option_mysql_ssl_rsa_setup_verbose"><code>--verbose
</code></a> показывает команды <span><strong>openssl</strong></span>, которые
выполняет <a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a>.</p>

<p><a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a>
пытается создать SSL и файлы RSA, используя набор имен файлов по умолчанию.
Это работает следующим образом:</p>

<ol type="1"><li><p>
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a> проверяет наличие
<span><strong>openssl</strong></span> в местоположениях, определенных
переменной окружения <code>PATH</code>. Если
<span><strong>openssl</strong></span> там нет,
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a> ничего не делает. Если
<span><strong>openssl</strong></span> есть,
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a> ищет значение по умолчанию SSL и файлы RSA в каталоге
данных MySQL, определенном опцией
<a href="#option_mysql_ssl_rsa_setup_datadir"><code>--datadir
</code></a> или в каталоге данных, если эта опция не дана.</li>

<li><a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a> проверяет каталог данных на файлы SSL
со следующими именами:
<pre>
ca.pem
server-cert.pem
server-key.pem
</pre></li>

<li>Если какой-либо из тех файлов присутствует,
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a> не создает файлов SSL. Иначе, это вызывает
<span><strong>openssl</strong></span>, чтобы создать их и
некоторые дополнительные файлы:
<pre>
ca.pem          Self-signed CA certificate
ca-key.pem      CA private key
server-cert.pem Server certificate
server-key.pem  Server private key
client-cert.pem Client certificate
client-key.pem  Client private key
</pre>
Эти файлы включают безопасные соединения клиента, используя SSL, см.
<a href="security.htm#using-secure-connections">раздел 7.4.4</a>.</li>

<li><a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a>
проверяет каталог данных на файлы RSA со следующими именами:
<pre>
private_key.pem Private member of private/public key pair
public_key.pem  Public member of private/public key pair
</pre></li>

<li>Если какой-либо из этих файлов присутствует,
<a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a> не создает файлов RSA. Иначе, это
вызывает <span><strong>openssl</strong></span>, чтобы создать их. Эти файлы
включают безопасный обмен паролями, использующий RSA по незашифрованным
соединениям для учетных записей, заверенных плагином
<code>sha256_password</code>, см.
<a href="security.htm#sha256-authentication-plugin">раздел 7.5.1.2</a>.
</p></li></ol>

<p>Для информации о характеристиках файлов, создаваемых
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a> см.
<a href="security.htm#creating-ssl-rsa-files-using-mysql">раздел 7.4.6.1</a>.
</p>

<p>При запуске сервер MySQL автоматически использует файлы SSL, создаваемые
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a>, чтобы включить SSL, если не задано никаких явных опций
SSL, кроме <a href="security.htm#option_general_ssl"><code>--ssl</code></a>.
Если Вы предпочитаете определять файлы явно, используйте опции
<a href="security.htm#option_general_ssl-ca"><code>--ssl-ca</code></a>,
<a href="security.htm#option_general_ssl-cert"><code>--ssl-cert</code></a> и
<a href="security.htm#option_general_ssl-key"><code>--ssl-key</code></a>
при запуске, чтобы назвать файлы <code>ca.pem</code>,
<code>server-cert.pem</code> и <code>server-key.pem</code>, соответственно.
</p>

<p>Сервер также автоматически использует файлы RSA, создаваемые
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a>, чтобы включить RSA, если никакие явные опции
RSA не даны.</p>

<p>Если сервер SSL включен, клиенты используют SSL по умолчанию для
соединения. Чтобы определить сертификат и ключевые файлы явно, используйте
опции <a href="security.htm#option_general_ssl-ca"><code>--ssl-ca</code></a>,
<a href="security.htm#option_general_ssl-cert"><code>--ssl-cert</code></a> и
<a href="security.htm#option_general_ssl-key"><code>--ssl-key</code></a>,
чтобы назвать файлы <code>ca.pem</code>, <code>client-cert.pem</code> и
<code>client-key.pem</code>, соответственно. Однако, некоторая дополнительная
установка клиента может требоваться сначала, потому что
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a> по умолчанию создает те файлы в каталоге данных.
Разрешения для каталога данных обычно включают доступу только к системной
учетной записи, которая выполняет сервер MySQL, таким образом, программы
клиента не могут использовать файлы, расположенные там.
Чтобы сделать файлы доступными, скопируйте их в каталог, который читаемый (но
<span><em>не</em></span> перезаписываемый) клиентами:</p>

<ul><li><p>Для местных клиентов может использоваться каталог установки MySQL.
Например, если каталог данных это подкаталог каталога установки, и Ваше
текущее местоположение это каталог данных, Вы можете скопировать файлы:
<pre>
shell&gt; cp ca.pem client-cert.pem client-key.pem ..
</pre></li>

<li>Для удаленных клиентов распределите файлы, используя безопасный канал,
чтобы гарантировать, что в них не вмешиваются во время транзита.
</p></li></ul>

<p>Если файлы SSL, используемые для установки MySQL, истекли, Вы можете
использовать <a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a>, чтобы создать новые:</p>

<ol type="1"><li><p>Остановите сервер.</li>
<li>Переименуйте или удалите существующие файлы SSL. Вы можете хотеть сделать
резервное копирование сначала. айлы RSA не истекают, таким образом, Вы не
должны удалить их. <a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a> будет видеть, что они существуют и
не перезаписывает их.</li>

<li>Запустите <a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a> с опцией
<a href="#option_mysql_ssl_rsa_setup_datadir"><code>--datadir
</code></a>, чтобы определить, где создать новые файлы.</li>
<li>Перезапустите сервер.</p></li></ol>

<p><a href="#mysql-ssl-rsa-setup"><span><strong>
mysql_ssl_rsa_setup</strong></span></a> поддерживает следующие параметры,
которые могут быть определены в командной строке или в группах
<code>[mysql_ssl_rsa_setup]</code> и <code>[mysqld]</code>
файла опции. Для информации о файлах опции, используемых программами MySQL,
см. <a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965416722864"></a><p><b>Таблица 5.6. Опции
<span>mysql_ssl_rsa_setup</span></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row">
<a href="#option_mysql_ssl_rsa_setup_datadir">--datadir</a></td>
<td>Путь к каталогу данных</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl_rsa_setup_help">
--help</a></td><td>Отобразить справку и выйти</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl_rsa_setup_suffix">
--suffix</a></td><td>Суффикс для признака общего названия сертификата X509
</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl_rsa_setup_uid">
--uid</a></td><td>Имя эффективного пользователя, чтобы использовать
для разрешений файла</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl_rsa_setup_verbose">
--verbose</a></td><td>Подробный режим</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl_rsa_setup_version">
--version</a></td><td>Информация о версии и выход</td></tr></tbody></table>

<ul><li><p><a name="option_mysql_ssl_rsa_setup_help"></a>
<a href="#option_mysql_ssl_rsa_setup_help"><code>--help</code>
</a>, <code>?</code></p>
<p>Отобразить справку и выйти</li>

<li><a name="option_mysql_ssl_rsa_setup_datadir"></a>
<a href="#option_mysql_ssl_rsa_setup_datadir"><code>
--datadir=<em><code>dir_name</code></em></code></a></p>

<p>Путь к каталогу, где
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a> должен искать файлы SSL и RSA и в котором это должно
создать файлы, если они отсутствуют. Значение по умолчанию в каталоге данных.
</li>

<li><a name="option_mysql_ssl_rsa_setup_suffix"></a>
<a href="#option_mysql_ssl_rsa_setup_suffix"><code>
--suffix=<em><code>str</code></em></code></a></p>

<p>Суффикс для общего названия в сертификатах X509.
Значение суффикса ограничено 17 символами. Значение по умолчанию основано на
номере версии MySQL.</li>

<li><a name="option_mysql_ssl_rsa_setup_uid"></a>
<a href="#option_mysql_ssl_rsa_setup_uid"><code>
--uid=name</code></a>, <code>-v</code></p>

<p>Имя пользователя, который должен быть владельцем любых создаваемых файлов.
Значение имя пользователя, не числовой пользовательский идентификатор.
В отсутствие этой опции файлы, создаваемые
<a href="#mysql-ssl-rsa-setup"><span><strong>mysql_ssl_rsa_setup
</strong></span></a>, принадлежат пользователю, который выполняет ее. Эта
опция допустима, только если Вы выполняете программу как
<code>root</code> на системе, которая поддерживает
системный вызов <code>chown()</code>.</li>

<li><a name="option_mysql_ssl_rsa_setup_verbose"></a>
<a href="#option_mysql_ssl_rsa_setup_verbose"><code>
--verbose</code></a>, <code>-v</code></p>

<p>Многословный режим. Произведет подробный вывод о том, что делает
программа. Например, программа показывает команды
<span><strong>openssl</strong></span>, которые она выполняет, и производит
вывод, чтобы указать, пропускает ли она создание файла SSL или RSA, потому
что некоторый файл уже существует.</li>

<li><a name="option_mysql_ssl_rsa_setup_version"></a>
<a href="#option_mysql_ssl_rsa_setup_version"><code>
--version</code></a>, <code>-V</code></p>
<p>Отобразить информацию о версии.</p></li></ul>

<h3><a name="mysql-tzinfo-to-sql"></a>5.4.4.
<span><strong>mysql_tzinfo_to_sql</strong></span>
Загрузка таблицы часового пояса</h3>
<p><a href="#mysql-tzinfo-to-sql">
<span><strong>mysql_tzinfo_to_sql</strong></span></a>
загружает таблицы часового пояса в базу данных <code>mysql</code>.
Это используется на системах, у которых есть база данных
<span class="firstterm">zoneinfo</span> (набор файлов, описывающих часовые
пояса). Примеры таких систем: Linux, FreeBSD, Solaris и OS X.
Одно вероятное местоположение для этих файлов: каталог
<code>/usr/share/zoneinfo</code>
(<code>/usr/share/lib/zoneinfo</code> в Solaris).
Если у Вашей системы нет базы данных zoneinfo, Вы можете использовать
загружаемый пакет, описанный в
<a href="global.htm#time-zone-support">разделе 11.6</a>.</p>

<p><a href="#mysql-tzinfo-to-sql">
<span><strong>mysql_tzinfo_to_sql</strong></span></a>
может быть вызвана несколькими путями:
<pre>
shell&gt; mysql_tzinfo_to_sql <em><code>tz_dir</code></em>
shell&gt; mysql_tzinfo_to_sql <em><code>tz_file tz_name</code></em>
shell&gt; mysql_tzinfo_to_sql --leap <em><code>tz_file</code></em>
</pre>

яДля первого синтаксиса передайте zoneinfo имя пути к каталогу к
<a href="#mysql-tzinfo-to-sql">
<span><strong>mysql_tzinfo_to_sql</strong></span></a> и пошлите вывод в
<a href="#mysql"><span><strong>mysql</strong></span></a>:
<pre>
shell&gt; mysql_tzinfo_to_sql /usr/share/zoneinfo | mysql -u root mysql
</pre>

<a href="#mysql-tzinfo-to-sql"><span><strong>mysql_tzinfo_to_sql
</strong></span></a> читает файлы часового пояса Вашей системы и производит
запросы SQL от них. <a href="#mysql"><span><strong>mysql</strong>
</span></a> обрабатывает эти запросы, чтобы загрузить таблицы часового пояса.
</p>

<p>Второй синтаксис заставляет <a href="#mysql-tzinfo-to-sql">
<span><strong>mysql_tzinfo_to_sql</strong></span></a>
загружать единственный файл часового пояса <em><code>tz_file</code></em>,
который соответствует имени часового пояса <em><code>tz_name</code></em>:
<pre>
shell&gt; mysql_tzinfo_to_sql <em><code>tz_file</code></em> <em><code>tz_name</code></em> | mysql -u root mysql
</pre>

Если Ваш часовой пояс должен учитывать секунды сдвига, запустите
<a href="#mysql-tzinfo-to-sql"><span><strong>mysql_tzinfo_to_sql
</strong></span></a>, используя третий синтаксис, который инициализирует
информацию сдвига секунд. <em><code>tz_file</code></em> это
название Вашего файла часового пояса:
<pre>
shell&gt; mysql_tzinfo_to_sql --leap <em><code>tz_file</code></em> | mysql -u root mysql
</pre>

После выполнения <a href="#mysql-tzinfo-to-sql"><span><strong>
mysql_tzinfo_to_sql</strong></span></a> лучше перезапускать сервер, чтобы это
не продолжило использовать любые ранее кэшируемые данные о часовом поясе.</p>

<h3><a name="mysql-upgrade"></a>5.4.5. <span><strong>mysql_upgrade</strong>
</span> проверка и обновление таблицы MySQL</h3>
<p><a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> исследует все таблицы во всех базах данных для несовместимостей с
текущей версией MySQL Server. <a href="#mysql-upgrade"><span>
<strong>mysql_upgrade</strong></span></a> также обновляет системные таблицы
так, чтобы Вы могли использовать в своих интересах новые привилегии или
способности, которые, возможно, были добавлены.</p>

<p>Если <a href="#mysql-upgrade"><span><strong>mysql_upgrade
</strong></span></a> находит, что у таблицы есть возможная несовместимость,
это выполняет проверку и, если проблемы найдены, делает попытку ремонта
таблицы. Если таблица не может быть восстановлена, см.
<a href="install.htm#rebuilding-tables">раздел 2.10.4</a>
для ручных стратегий ремонта таблицы.</p>

<p>Вы должны выполнить <a href="#mysql-upgrade"><span><strong>
mysql_upgrade</strong></span></a> каждый раз, когда Вы обновляете MySQL.</p>
<p><a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> общается непосредственно с сервером MySQL, посылая запросы SQL,
требуемые, чтобы выполнить обновление.</p>

<p>В Windows Server 2008, Vista и новее Вы должны выполнить
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> как администратор системы. Вы можете сделать это, выполняя
командную строку как Администратор и выполняя команду.</p>

<p>Вы должны всегда резервировать свою текущую установку MySQL
<span><em>прежде, чем</em></span> выполнить обновление. См.
<a href="backup.htm#backup-methods">раздел 8.2</a>.</p>

<p>Некоторые несовместимости обновления могут потребовать специальной
обработки прежде, чем Вы обновите свою установку MySQL и выполните
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a>. См. <a href="install.htm#upgrading">раздел 2.10.1</a>.</p>

<p>Чтобы использовать <a href="#mysql-upgrade"><span><strong>
mysql_upgrade</strong></span></a>, удостоверьтесь, что сервер работает. Тогда
вызовите это, чтобы проверить и восстановить таблицы и
обновить системные таблицы:
<pre>
shell&gt; mysql_upgrade [<em><code>options</code></em>]
</pre>

После выполнения <a href="#mysql-upgrade"><span><strong>
mysql_upgrade</strong></span></a>, остановите сервер и перезапустите его,
чтобы любые изменения, произведенные в системных таблицах, вступили в силу.
</p>

<p>Если у Вас есть многократное выполнение серверов MySQL, вызовите
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> с параметрами соединения, подходящими для соединения с желаемым
сервером. Например, с серверами, работающими на местном узле на портах
3306-3308, обновите каждый из них, соединяясь с соответствующим портом:
<pre>
shell&gt; mysql_upgrade --protocol=tcp -P 3306 [<em><code>other_options</code></em>]
shell&gt; mysql_upgrade --protocol=tcp -P 3307 [<em><code>other_options</code></em>]
shell&gt; mysql_upgrade --protocol=tcp -P 3308 [<em><code>other_options</code></em>]
</pre>

Для местных соединений в Unix опция
<a href="#option_mysql_upgrade_protocol"><code>--protocol=tcp
</code></a> вызывает соединение, используя TCP/IP, а не файл сокета Unix.</p>

<p><a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> обрабатывает все таблицы во всех базах данных, это могло бы
занять много времени. Каждая таблица заблокирована и поэтому недоступна
другим сеансам, в то время как она обрабатывается. Проверка и восстановление
могут быть отнимающими много времени, особенно для больших таблиц.</p>

<p>Для деталей о том, что влекут за собой проверяющие таблицу операции см.
описание опции <code>FOR UPGRADE</code> команды
<a href="sql.htm#check-table"><code>CHECK TABLE</code></a>
(<a href="sql.htm#check-table">раздел 14.7.2.2</a>).</p>

<p>Все проверенные и восстановленные таблицы отмечены с текущим номером
версии MySQL. Это гарантирует, что когда Вы в следующий раз выполняете
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> с той же самой версией сервера, это может сказать, есть ли
какая-либо потребность проверить или восстановить таблицу снова.</p>

<p><a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> также сохраняет номер версии MySQL в файле
<code>mysql_upgrade_info</code> в каталоге данных. Это используется, чтобы
быстро проверить, были ли все таблицы проверены на этот выпуск так, чтобы
проверка таблицы могла быть пропущена. Чтобы проигнорировать этот файл и
выполнить проверку независимо, используйте опцию
<a href="#option_mysql_upgrade_force"><code>--force</code></a>.
</p>

<p><a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> проверяет строки таблицы <code>user</code>
и, для любой строки с пустым столбцом <code>plugin</code>,
устанавливает этот столбец в <code>'mysql_native_password'</code>, если
привилегии используют формат хеша, совместимый с этим плагином. Строки с
паролями в хэше версии pre-4.1 должны быть обновлены вручную.</p>

<p><a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> не обновляет содержание таблиц справки. Для инструкций обновления
см. <a href="server.htm#server-side-help-support">раздел 6.1.10</a>.</p>

<p>Если не вызвано с опцией
<a href="#option_mysql_upgrade_skip-sys-schema"><code>
--skip-sys-schema</code></a>,
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> устанавливает схему <code>sys</code>, если это не установлено, и
обновляет это до текущей версии иначе.
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> возвращает ошибку, если схема <code>sys</code>
существует, но не имеет представления <code>version</code>,
при условии, что его отсутствие указывает на создаваемую пользователем схему:
<pre>
Error occurred: A sys schema exists with no sys.version view. If
you have a user created sys schema, this must be renamed for the
upgrade to succeed.
</pre>
Чтобы обновиться в этом случае, сначала удалите или переименуйте
существующую схему <code>sys</code>.</p>

<p><a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> проверяет на разделение таблицы <code>InnoDB</code>, которые были
составлены, используя родной обработчик разделения и пытается обновить их до
родного разделения <code>InnoDB</code>. Вы можете обновить такие таблицы
индивидуально в <a href="#mysql"><span><strong>mysql</strong>
</span></a>, используя <a href="sql.htm#alter-table"><code>ALTER
TABLE ... UPGRADE PARTITIONING</code></a>.</p>

<p>По умолчанию <a href="#mysql-upgrade"><span><strong>
mysql_upgrade</strong></span></a> работает как MySQL-пользователь
<code>root</code>. Если истек пароль для <code>root</code>, когда Вы
выполняете <a href="#mysql-upgrade"><span><strong>mysql_upgrade
</strong></span></a>, Вы будете видеть сообщение, что Ваш пароль истекает и
что <a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> потерпел неудачу в результате. Чтобы исправить это, сбросьте
пароль <code>root</code> в неистекающий и выполните
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> снова. Соединитесь с сервером как <code>root</code>:
<pre>
shell&gt; mysql -u root -p
Enter password: <****  &lt;- enter root password here
</pre>

Сбросьте пароль <a href="sql.htm#alter-user"><code>ALTER USER</code></a>:
<pre>
mysql&gt; ALTER USER USER() IDENTIFIED BY '<em><code>root-password</code></em>';
</pre>

Теперь выйдите из <a href="#mysql"><span><strong>mysql</strong>
</span></a> и выполните <a href="#mysql-upgrade"><span><strong>
mysql_upgrade</strong></span></a> снова:
<pre>
shell&gt; mysql_upgrade [<em><code>options</code></em>]
</pre>

<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> поддерживает следующие опции, которые могут быть определены в
командной строке или в группах <code>[mysql_upgrade]</code> и
<code>[client]</code> файла опции. Для информации о файлах опции,
используемых программами MySQL, см.
<a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965416554928"></a><p><b>Таблица 5.7. Опции
<code>mysql_upgrade</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row">
<a href="#option_mysql_upgrade_bind-address">
--bind-address</a></td><td>Используйте определенный сетевой интерфейс, чтобы
соединиться с MySQL Server</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_character-sets-dir">
--character-sets-dir</a></td><td>Каталог, где наборы символов установлены
</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_compress">
--compress</a></td><td>Сжимать всю информацию, посланную
между клиентом и сервером</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_debug">--debug
</a></td><td>Вести журнал отладки</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_debug-check">
--debug-check</a></td><td>Информация об отладке, когда программа завершается
</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_debug-info">
--debug-info</a></td><td>Информация об отладке, память и статистика
центрального процессора, когда программа завершается</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_default-auth">
--default-auth</a></td><td>Плагин аутентификации, чтобы использовать
</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_default-character-set">
--default-character-set</a></td><td>Определите набор символов
значения по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать этот файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опции</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_force">--force
</a></td><td>Выполнение, даже если mysql_upgrade был уже выполнен для
текущей версии MySQL</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_help">--help
</a></td><td>Отобразить справку и выйти</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_host">--host
</a></td><td>Хост сервера MySQL</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_login-path">
--login-path</a></td><td>Читать опции пути входа в систему из .mylogin.cnf
</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_max-allowed-packet">
--max-allowed-packet</a></td><td>Максимальная пакетная длина, чтобы послать в
или получить от сервера</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_net-buffer-length">
--net-buffer-length</a></td><td>Размер буфера для TCP/IP и сокета</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_no-defaults">
--no-defaults</a></td><td>Не читать файлы опции</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_password">
--password</a></td><td>Пароль, чтобы соединиться с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_pipe">--pipe
</a></td><td>В Windows соединиться с сервером, используя именованный канал
</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_port">--port
</a></td><td>Номер порта TCP/IP, чтобы использовать для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_print-defaults">
--print-defaults</a></td><td>Напечатать опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_protocol">
--protocol</a></td><td>Протокол соединения, чтобы использовать</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_shared-memory-base-name">
--shared-memory-base-name</a></td><td>Название совместно используемой памяти, чтобы
использовать для соединений</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_skip-sys-schema">
--skip-sys-schema</a></td><td>Не устанавливать или обновлять схему sys
</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_socket">
--socket</a></td><td>Для соединений с localhost файл сокета Unix</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_ssl">--ssl-ca
</a></td><td>Путь к файлу, который содержит список доверенных SSL CA</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_ssl">
--ssl-capath</a></td><td>Путь к каталогу, который содержит доверенные
сертификаты SSL CA в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_ssl">
--ssl-cert</a></td><td>Путь к файлу, который содержит
сертификат X509 в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_ssl">
--ssl-cipher</a></td><td>Список разрешенных шифров, чтобы использовать
для шифрования соединения</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_ssl">
--ssl-crl</a></td><td>Путь к файлу, который содержит
списки аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_ssl">
--ssl-crlpath</a></td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_ssl">
--ssl-key</a></td><td>Путь к файлу, который содержит ключ X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_ssl">
--ssl-mode</a></td><td>Статус безопасности соединения с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_tls-version">
--tls-version</a></td><td>Протоколы, разрешенные для безопасных соединений
</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_upgrade-system-tables">
--upgrade-system-tables</a></td><td>Обновите только системные таблицы,
но не данные</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_user">--user
</a></td><td>Имя пользователя MySQL, чтобы
использовать, соединяясь с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_verbose">
--verbose</a></td><td>Подробный отчет</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_version-check">
--version-check</a></td><td>Проверить на надлежащую версию сервера</td></tr>
<tr><td scope="row"><a href="#option_mysql_upgrade_write-binlog">
--write-binlog</a></td><td>Записать все запросы в двоичный журнал
</td></tr></tbody></table>

<ul><li><p><a name="option_mysql_upgrade_help"></a>
<a href="#option_mysql_upgrade_help"><code>--help</code></a></p>
<p>Отобразить справку и выйти.</li>

<li><a name="option_mysql_upgrade_basedir"></a>
<a href="#option_mysql_upgrade_basedir">
<code>--basedir=<em><code>dir_name</code></em></code></a></p>
<p>Путь к каталогу установки MySQL.</li>

<li><a name="option_mysql_upgrade_bind-address"></a>
<a href="#option_mysql_upgrade_bind-address"><code>
--bind-address=<em><code>ip_address</code></em></code></a></p>

<p>На компьютере, имеющем многократные сетевые интерфейсы, используйте эту
опцию, чтобы выбрать который интерфейс использовать для того, чтобы
соединиться с сервером MySQL.</li>

<li><a name="option_mysql_upgrade_character-sets-dir"></a>
<a href="#option_mysql_upgrade_character-sets-dir"><code>
--character-sets-dir=<em><code>dir_name</code></em></code></a></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysql_upgrade_compress"></a>
<a href="#option_mysql_upgrade_compress"><code>--compress</code>
</a>, <code>-C</code></p>
<p>Сжимать всю информацию, посланную между клиентом и сервером,
если оба поддерживают сжатие.</li>

<li><a name="option_mysql_upgrade_debug"></a>
<a href="#option_mysql_upgrade_debug"><code>
--debug[=<em><code>debug_options</code></em>]</code></a>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Писать протокол отладки. Типичная строка
<em><code>debug_options</code></em>:
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:O,/tmp/mysql_upgrade.trace</code>.</li>

<li><a name="option_mysql_upgrade_debug-check"></a>
<a href="#option_mysql_upgrade_debug-check"><code>
--debug-check</code></a></p>
<p>Напечатать некоторую информацию об отладке, когда программа выходит.</li>

<li><a name="option_mysql_upgrade_debug-info"></a>
<a href="#option_mysql_upgrade_debug-info"><code>--debug-info
</code></a>, <code>-T</code></p>
<p>Информация об отладке, памяти и статистика использования центрального
процессора, когда программа выходит.</li>

<li><a name="option_mysql_upgrade_default-auth"></a>
<a href="#option_mysql_upgrade_default-auth"><code>
--default-auth=<em><code>plugin</code></em></code></a></p>
<p>Подсказка о клиентском плагине аутентификации, чтобы использовать. См.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysql_upgrade_default-character-set"></a>
<a href="#option_mysql_upgrade_default-character-set"><code>
--default-character-set=<em><code>charset_name</code></em></code></a></p>

<p>Использовать <em><code>charset_name</code></em>
как набор символов значения по умолчанию. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysql_upgrade_defaults-extra-file"></a>
<a href="#option_mysql_upgrade_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Читать этот файл опции после глобального файла опции, но (в Unix) перед
пользовательским файлом опции. Если файл не существует или иначе недоступен,
ошибка происходит. <em><code>file_name</code></em> интерпретируется
относительно текущего каталога, если дано как относительный
путь, а не полный.</li>

<li><a name="option_mysql_upgrade_defaults-file"></a>
<a href="#option_mysql_upgrade_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный
путь, а не полный.</li>

<li><a name="option_mysql_upgrade_defaults-group-suffix"></a>
<a href="#option_mysql_upgrade_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читать не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> обычно читает группы <code>[client]</code> и
<code>[mysql_upgrade]</code>. Если дана
<a href="#option_mysql_upgrade_defaults-group-suffix"><code>
--defaults-group-suffix=_other</code></a>,
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> также читает группы <code>[client_other]</code> и
<code>[mysql_upgrade_other]</code>.</li>

<li><a name="option_mysql_upgrade_force"></a>
<a href="#option_mysql_upgrade_force"><code>--force</code></a>
</p>
<p>Проигнорировать файл <code>mysql_upgrade_info</code> и выполнить
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a>, даже если уже был выполнен для текущей версии MySQL.</li>

<li><a name="option_mysql_upgrade_host"></a>
<a href="#option_mysql_upgrade_host"><code>
--host=<em><code>host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Соединитесь с сервером MySQL на данном хосте.</li>

<li><a name="option_mysql_upgrade_login-path"></a>
<a href="#option_mysql_upgrade_login-path"><code>
--login-path=<em><code>name</code></em></code></a></p>

<p>Читать опции из названного пути входа в систему в файле
<code>.mylogin.cnf</code>. <span><span>Вход в систему</span></span>
является группой опций, содержащей опции, которые определяют, с каким
сервером MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysql_upgrade_max-allowed-packet"></a>
<a href="#option_mysql_upgrade_max-allowed-packet"><code>
--max-allowed-packet=<em><code>value</code></em></code></a></p>

<p>Максимальный размер буфера для коммуникации клиент-сервер. Значение по
умолчанию составляет 24 МБ. Минимальные и максимальные значения
составляют 4 КБ и 2GB.</li>

<li><a name="option_mysql_upgrade_net-buffer-length"></a>
<a href="#option_mysql_upgrade_net-buffer-length"><code>
--net-buffer-length=<em><code>value</code></em></code></a></p>

<p>Начальный размер буфера для коммуникации клиент-сервер.
Значение по умолчанию составляет 1 МБ-1KB.
Минимальные и максимальные значения составляют 4 КБ и 16 МБ.</li>

<li><a name="option_mysql_upgrade_no-defaults"></a>
<a href="#option_mysql_upgrade_no-defaults"><code>
--no-defaults</code></a></p>

<p>Не читать файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций из файла опции,
<a href="#option_mysql_upgrade_no-defaults"><code>--no-defaults
</code></a> может использоваться, чтобы препятствовать тому, чтобы
они были считаны.</p>

<p>Исключение: если существует <code>.mylogin.cnf</code>, то он
считан во всех случаях. Это разрешает паролям быть определенными более
безопасным способом, чем в командной строке, даже когда применена опция
<a href="#option_mysql_upgrade_no-defaults"><code>--no-defaults
</code></a>. Файл <code>.mylogin.cnf</code> создается с помощью
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см. <a href="#mysql-config-editor">раздел
5.6.7</a>.</li>

<li><a name="option_mysql_upgrade_password"></a>
<a href="#option_mysql_upgrade_password"><code>
--password[=<em><code>password</code></em>]</code></a>,
<code>-p[<em><code>password</code></em>]</code></p>

<p>Пароль, чтобы использовать, соединяясь с сервером. Если Вы используете
короткую форму опции (<code>-p</code>), у Вас
<span><em>не должно</em></span> быть пробелов между опцией и паролем. Если
Вы опускаете значение <em><code>password</code></em> после
<a href="#option_mysql_upgrade_password"><code>--password</code>
</a> или <code>-p</code> в командной строке,
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> его спросит явно.</p>

<p>Определение пароля в командной строке нужно считать опасным, см.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.
Вы можете использовать файл опции, чтобы избежать давать
пароль в командной строке.</li>

<li><a name="option_mysql_upgrade_pipe"></a>
<a href="#option_mysql_upgrade_pipe"><code>--pipe</code></a>,
<code>-W</code></p>

<p>В Windows соединиться с сервером, используя именованный канал.
Эта опция применяется, только если сервер поддерживает
соединения именованного канала.</li>

<li><a name="option_mysql_upgrade_plugin-dir"></a>
<a href="#option_mysql_upgrade_plugin-dir"><code>
--plugin-dir=<em><code>dir_name</code></em></code></a></p>

<p>Каталог, в котором можно искать плагины. Определите эту опцию, если
<a href="#option_mysql_upgrade_default-auth"><code>
--default-auth</code></a> используется, чтобы определить плагин
аутентификации, но <a href="#mysql-upgrade"><span><strong>
mysql_upgrade</strong></span></a> не находит это. См.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysql_upgrade_port"></a>
<a href="#option_mysql_upgrade_port"><code>
--port=<em><code>port_num</code></em></code></a>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для соединения.</li>

<li><a name="option_mysql_upgrade_print-defaults"></a>
<a href="#option_mysql_upgrade_print-defaults"><code>
--print-defaults</code></a></p>
<p>Напечатать название программы и все опции, которые это получает
от файлов опции.</li>

<li><a name="option_mysql_upgrade_protocol"></a>
<a href="#option_mysql_upgrade_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Протокол соединения, чтобы использовать для того, чтобы соединиться с
сервером. Полезно, когда другие параметры соединения
0заставляли бы использоваться не тот протокол.
Для деталей о допустимых значениях см.
<a href="#connecting">раздел 5.2.2</a>.</li>

<li><a name="option_mysql_upgrade_shared-memory-base-name"></a>
<a href="#option_mysql_upgrade_shared-memory-base-name"><code>
--shared-memory-base-name=<em><code>name</code></em></code></a></p>

<p>В Windows имя совместно используемой памяти
для соединений, сделанных, используя совместно используемую память для
локального сервера. Значение по умолчанию <code>MYSQL</code>.
Имя совместно используемой памяти является чувствительным к регистру.</p>

<p>Сервер должен быть запущен с опцией
<a href="server.htm#option_mysqld_shared-memory"><code>--shared-memory
</code></a>.</li>

<li><a name="option_mysql_upgrade_skip-sys-schema"></a>
<a href="#option_mysql_upgrade_skip-sys-schema"><code>
--skip-sys-schema</code></a></p>

<p><a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> устанавливает схему <code>sys</code>,
если это не установлено, и обновляет до текущей версии иначе. Опция
<a href="#option_mysql_upgrade_skip-sys-schema"><code>
--skip-sys-schema</code></a> подавляет это поведение.</li>

<li><a name="option_mysql_upgrade_socket"></a>
<a href="#option_mysql_upgrade_socket"><code>
--socket=<em><code>path</code></em></code></a>,
<code>-S <em><code>path</code></em></code></p>
<p>Для соединений с <code>localhost</code> файл сокета Unix, чтобы
использовать, или в Windows имя именованного канала, чтобы использовать.</li>

<li><a name="option_mysql_upgrade_ssl"></a><code>--ssl*</code></p>
<p>Опции, которые начинаются с
<a href="security.htm#option_general_ssl"><code>--ssl</code></a>,
определяют, соединиться ли с сервером, используя SSL и указывают, где найти
ключи SSL и сертификаты, см.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysql_upgrade_tls-version"></a>
<a href="#option_mysql_upgrade_tls-version"><code>
--tls-version=<em><code>protocol_list</code></em></code></a></p>

<p>Протоколы разрешены клиентом для зашифрованных соединений. Значение это
список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL.
Для деталей см. <a href="security.htm#secure-connection-protocols-ciphers">
раздел 7.4.3</a>.</li>

<li><a name="option_mysql_upgrade_upgrade-system-tables"></a>
<a href="#option_mysql_upgrade_upgrade-system-tables"><code>
--upgrade-system-tables</code></a>, <code>-s</code></p>
<p>Обновить только системные таблицы, но не данные.</li>

<li><a name="option_mysql_upgrade_user"></a>
<a href="#option_mysql_upgrade_user"><code>
--user=<em><code>user_name</code></em></code></a>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером.
Имя пользователя по умолчанию <code>root</code>.</li>

<li><a name="option_mysql_upgrade_verbose"></a>
<a href="#option_mysql_upgrade_verbose"><code>
--verbose</code></a></p>
<p>Подробный режим. Напечатать больше информации о том, что делает программа.
</li>

<li><a name="option_mysql_upgrade_version-check"></a>
<a href="#option_mysql_upgrade_version-check"><code>
--version-check</code></a>, <code>-k</code></p>

<p>Проверить версию сервера, с которым
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> соединяется, чтобы проверить, что это та же самая версия, для
которой был создан <a href="#mysql-upgrade"><span><strong>
mysql_upgrade</strong></span></a>. Если нет,
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> завершается. Эта опция включена по умолчанию, чтобы отключить
проверку, надо использовать <code>--skip-version-check</code>.</li>

<li><a name="option_mysql_upgrade_write-binlog"></a>
<a href="#option_mysql_upgrade_write-binlog"><code>
--write-binlog</code></a></p>

<p>По умолчанию двоичное журналирование
<a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a> отключено. Вызовите программу с <code>--write-binlog</code>,
если Вы хотите, чтобы действия были написаны в двоичный журнал.</p>

<p>Выполнение <a href="#mysql-upgrade"><span><strong>
mysql_upgrade</strong></span></a> не рекомендуется с MySQL Server, который
работает с включенными глобальными операционными идентификаторами (Bug
#13833710). Это потому, что включение GTID означает, что любые обновления,
которые <a href="#mysql-upgrade"><span><strong>mysql_upgrade
</strong></span></a>, возможно, должен был бы выполнить на системных
таблицах, используя нетранзакционный механизм хранения, такой как
<a href="storage.htm#myisam-storage-engine"><code>MyISAM</code></a>,
потерпят неудачу. См. <a href="replica.htm#replication-gtids-restrictions">
раздел 19.1.3.4</a>.</p></li></ul>

<h2><a name="programs-client"></a>5.5. Программы клиента MySQL</h2>
<p>Этот раздел описывает программы клиента, которые
соединяются с сервером MySQL.</p>

<h3><a name="mysql"></a>5.5.1. Клиент <span><strong>mysql</strong></span>
</h3>
<p><a href="#mysql"><span><strong>mysql</strong></span></a> это
простая оболочка SQL с поддержкой редактирования строки. Это поддерживает
интерактивное и неинтерактивное использование. Когда используется в
интерактивном режиме, результаты запроса представлены в формате таблицы
ASCII. Когда используется не в интерактивном режиме (например, как фильтр),
результат представлен в отделенном табуляциями формате. Выходной формат может
быть изменен, используя опции команды.</p>

<p>Если у Вас есть проблемы из-за недостаточной памяти для больших наборов
результатов, используйте <a href="#option_mysql_quick"><code>
--quick</code></a>. Это вынуждает <a href="#mysql"><span><strong>
mysql</strong></span></a> получить с сервера строку за один раз вместо того,
чтобы получить весь набор результатов и буферизовать это в памяти прежде, чем
вывести на экран. Это сделано, возвращая набор результатов, используя
<a href="connect.htm#mysql-use-result"><code>mysql_use_result()</code></a> C
API в библиотеке клиент-сервер, а не
<a href="connect.htm#mysql-store-result"><code>mysql_store_result()</code>
</a>.</p>

<p>Альтернативно, MySQL Shell предлагает доступ к X DevAPI. Для деталей см.
<a href="docum.htm#mysql-shell">раздел 3.8</a>.</p>
<p>Использование <a href="#mysql"><span><strong>mysql</strong>
</span></a> очень легко. Вызовите это из подсказки Вашего интерпретатора
команды следующим образом:
<pre>
shell&gt; mysql <em><code>db_name</code></em>
</pre>

Или:
<pre>
shell&gt; mysql --user=<em><code>user_name</code></em> --password=<em><code>your_password</code></em> <em><code>db_name</code></em>
</pre>
Теперь введите запрос SQL, закончите его <code>;</code>,
<code>\g</code> или <code>\G</code> и нажмите Enter.</p>

<p>Ввод <span><strong>Control+C</strong></span> прерывает текущий
запрос, если он есть, или отменяет какую-либо частичную
входную строку иначе.</p>

<p>Вы можете выполнить запросы SQL в файле скрипта (пакетный файл):
<pre>
shell&gt; mysql <em><code>db_name</code></em> &lt; <em><code>script.sql</code></em> &gt; em><code>output.tab</code></em>
</pre>

В Unix <a href="#mysql"><span><strong>mysql</strong></span></a>
регистрирует запросы, выполненные в интерактивном режиме, в файле истории.
См. <a href="#mysql-logging">раздел 5.5.1.3</a>.</p>

<h4><a name="mysql-command-options"></a>5.5.1.1. Опции mysql</h4>
<p><a href="#mysql"><span><strong>mysql</strong></span></a>
понимает следующие опции, которые могут быть определены в командной строке
или в группах <code>[mysql]</code> и <code>[client]</code> файла опции. Для
информации о файлах опции, используемых программами MySQL, см.
<a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965416180000"></a><p><b>Таблица 5.8. Опции
<code>mysql</code></b></p>
<table border="1"><colgroup>
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row"><a href="#option_mysql_auto-rehash">
--auto-rehash</a></td><td>Включить автоматическое рехэширование</td></tr>
<tr><td scope="row"><a href="#option_mysql_auto-vertical-output">
--auto-vertical-output</a></td><td>Включить автоматический вертикальный
вывод набора результатов</td></tr>
<tr><td scope="row"><a href="#option_mysql_batch">--batch</a></td>
<td>Не использовать файл истории</td></tr>
<tr><td scope="row"><a href="#option_mysql_binary-mode">
--binary-mode</a></td><td>Выключить трансляцию \r\n - to - \n и
не рассматривать \0 как конец запроса</td></tr>
<tr><td scope="row"><a href="#option_mysql_bind-address">
--bind-address</a></td><td>Использовать определенный сетевой интерфейс, чтобы
соединиться с MySQL Server</td></tr>
<tr><td scope="row"><a href="#option_mysql_character-sets-dir">
--character-sets-dir</a></td><td>Каталог, где наборы символов установлены
</td></tr>
<tr><td scope="row"><a href="#option_mysql_column-names">
--column-names</a></td><td>Писать имена столбцов в результатах</td></tr>
<tr><td scope="row"><a href="#option_mysql_column-type-info">
--column-type-info</a></td><td>Выведить на экран
метаданные о наборе результатов</td></tr>
<tr><td scope="row"><a href="#option_mysql_comments">--comments
</a></td><td>Сохранить или убрать комментарии в запросах, посланных серверу
</td></tr>
<tr><td scope="row"><a href="#option_mysql_compress">--compress
</a></td><td>Сжать всю информацию, посланную между клиентом и сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysql_connect-expired-password">
--connect-expired-password</a></td><td>Указать серверу, что клиент может
обработать режим песочницы для пароля с истекшим сроком</td></tr>
<tr><td scope="row"><a href="#option_mysql_connect_timeout">
--connect_timeout</a></td><td>Число секунд перед тайм-аутом соединения
</td></tr>
<tr><td scope="row"><a href="#option_mysql_database">--database
</a></td><td>База данных, чтобы использовать</td></tr>
<tr><td scope="row"><a href="#option_mysql_debug">--debug</a>
</td><td>Писать журнал отладки, поддержано только если MySQL был
создан с поддержкой отладки</td></tr>
<tr><td scope="row"><a href="#option_mysql_debug-check">
--debug-check</a></td><td>Информация об отладке,
когда программа завершена</td></tr>
<tr><td scope="row"><a href="#option_mysql_debug-info">
--debug-info</a></td><td>>Информация об отладке, памяти и статистика
центрального процессора, когда программа завершена</td></tr>
<tr><td scope="row"><a href="#option_mysql_default-auth">
--default-auth</a></td><td>Плагин аутентификации, чтобы использовать
</td></tr>
<tr><td scope="row"><a href="#option_mysql_default-character-set">
--default-character-set</a></td><td>Определить набор символов по умолчанию
</td></tr>
<tr><td scope="row"><a href="#option_mysql_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать этот файл опций в дополнение к
обычным файлам опций</td></tr>
<tr><td scope="row"><a href="#option_mysql_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опций</td></tr>
<tr><td scope="row"><a href="#option_mysql_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_mysql_delimiter">--delimiter
</a></td><td>Установить разделитель запросов</td></tr>
<tr><td scope="row"><a href="#option_mysql_enable-cleartext-plugin">
--enable-cleartext-plugin</a></td><td>
Включить плагин аутентификации открытого текста</td></tr>
<tr><td scope="row"><a href="#option_mysql_execute">--execute</a>
</td><td>Выполнить запрос и выйти</td></tr>
<tr><td scope="row"><a href="#option_mysql_force">--force</a>
</td><td>Продолжить, даже если ошибка SQL происходит</td></tr>
<tr><td scope="row"><a href="#option_mysql_help">--help</a></td>
<td>Отобразить справку и выйти</td></tr>
<tr><td scope="row"><a href="#option_mysql_histignore">
--histignore</a></td><td>Образцы, определяющие, которые запросы
проигнорировать для регистрации</td></tr>
<tr><td scope="row"><a href="#option_mysql_host">--host</a></td>
<td>Соединиться с сервером MySQL на данном хосте</td></tr>
<tr><td scope="row"><a href="#option_mysql_html">--html</a></td>
<td>Вывод в формате HTML</td></tr>
<tr><td scope="row"><a href="#option_mysql_ignore-spaces">
--ignore-spaces</a></td><td>Проигнорировать пробелы после имен функций
</td></tr>
<tr><td scope="row"><a href="#option_mysql_init-command">
--init-command</a></td><td>Запрос SQL, чтобы выполнить после соединения
</td></tr>
<tr><td scope="row"><a href="#option_mysql_line-numbers">
--line-numbers</a></td><td>Написать номера строки для ошибок</td></tr>
<tr><td scope="row"><a href="#option_mysql_local-infile">
--local-infile</a></td><td>Включить или отключить
LOCAL для LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysql_login-path">
--login-path</a></td><td>Читать опции пути входа в систему из .mylogin.cnf
</td></tr>
<tr><td scope="row"><a href="#option_mysql_max_allowed_packet">
--max_allowed_packet</a></td><td>Максимальная пакетная длина, чтобы послать в
или получить от сервера</td></tr>
<tr><td scope="row"><a href="#option_mysql_max_join_size">
--max_join_size</a></td><td>Автоматический предел для строк в соединении,
используя --safe-updates</td></tr>
<tr><td scope="row"><a href="#option_mysql_named-commands">
--named-commands</a></td><td>Включить названные команды mysql</td></tr>
<tr><td scope="row"><a href="#option_mysql_net_buffer_length">
--net_buffer_length</a></td><td>Размер буфера для TCP/IP и сокета</td></tr>
<tr><td scope="row"><a href="#option_mysql_no-auto-rehash">
--no-auto-rehash</a></td><td>Выключить автоматическое рехэширование</td></tr>
<tr><td scope="row"><a href="#option_mysql_no-beep">--no-beep</a>
</td><td>Не сигналить, когда ошибки происходят</td></tr>
<tr><td scope="row"><a href="#option_mysql_no-defaults">
--no-defaults</a></td><td>Не читать файлы опции</td></tr>
<tr><td scope="row"><a href="#option_mysql_one-database">
--one-database</a></td><td>Проигнорировать запросы кроме тех, которые для
базы данных по умолчанию, названной в командной строке</td></tr>
<tr><td scope="row"><a href="#option_mysql_pager">--pager</a>
</td><td>Используйте данную команду для вывода запроса оповещения</td></tr>
<tr><td scope="row"><a href="#option_mysql_password">--password
</a></td><td>Пароль, чтобы использовать, соединяясь с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysql_pipe">--pipe</a></td>
<td>В Windows использовать именованный канал</td></tr>
<tr><td scope="row"><a href="#option_mysql_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysql_port">--port</a></td>
<td>Номер порта TCP/IP, чтобы использовать для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysql_print-defaults">
--print-defaults</a></td><td>Напечатайте опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysql_prompt">--prompt</a>
</td><td>Установить подсказку в указанный формат</td></tr>
<tr><td scope="row"><a href="#option_mysql_protocol">--protocol
</a></td><td>Протокол соединения, чтобы использовать</td></tr>
<tr><td scope="row"><a href="#option_mysql_quick">--quick</a>
</td><td>Не кэшируовать каждый результат запроса</td></tr>
<tr><td scope="row"><a href="#option_mysql_raw">--raw</a></td>
<td>Написать значения столбцов без преобразования escape</td></tr>
<tr><td scope="row"><a href="#option_mysql_reconnect">--reconnect
</a></td><td>Если соединение с сервером потеряно, автоматически
попытаться повторно соединиться</td></tr>
<tr><td scope="row"><a href="#option_mysql_safe-updates">
--i-am-a-dummy</a>, <a href="#option_mysql_safe-updates">
--safe-updates</a></td><td>Позволить только UPDATE и DELETE, которые
определяют значения ключа</td></tr>
<tr><td scope="row"><a href="#option_mysql_secure-auth">
--secure-auth</a></td><td>Не посылать пароли серверу в
старом формате (pre-4.1)</td></tr>
<tr><td scope="row"><a href="#option_mysql_select_limit">
--select_limit</a></td><td>Автоматический предел для запросов SELECT,
используя --safe-updates</td></tr>
<tr><td scope="row"><a href="#option_mysql_server-public-key-path">
--server-public-key-path</a></td><td>Путь к файлу, содержащему
открытый ключ RSA</td></tr>
<tr><td scope="row"><a href="#option_mysql_shared-memory-base-name">
--shared-memory-base-name</a></td><td>Название совместно используемой памяти,
чтобы использовать для соединений</td></tr>
<tr><td scope="row"><a href="#option_mysql_show-warnings">
--show-warnings</a></td><td>Показать предупреждения после каждого
запроса, если есть</td></tr>
<tr><td scope="row"><a href="#option_mysql_sigint-ignore">
--sigint-ignore</a></td><td>Проигнорировать сигналы SIGINT (как правило,
результат ввода Control+C)</td></tr>
<tr><td scope="row"><a href="#option_mysql_silent">--silent</a>
</td><td>Тихий режим вывода</td></tr>
<tr><td scope="row"><a href="#option_mysql_auto-rehash">
--skip-auto-rehash</a></td><td>Выключить автоматическое рехэширование</td></tr>
<tr><td scope="row"><a href="#option_mysql_skip-column-names">
--skip-column-names</a></td><td>Не писать имена столбцов в результатах
</td></tr>
<tr><td scope="row"><a href="#option_mysql_skip-line-numbers">
--skip-line-numbers</a></td><td>Пропустить номера строки для ошибок</td></tr>
<tr><td scope="row"><a href="#option_mysql_named-commands">
--skip-named-commands</a></td><td>Отключить названные команды mysql</td></tr>
<tr><td scope="row"><a href="#option_mysql_pager">--skip-pager
</a></td><td>Отключить оповещение</td></tr>
<tr><td scope="row"><a href="#option_mysql_reconnect">
--skip-reconnect</a></td><td>Отключить пересоединение</td></tr>
<tr><td scope="row"><a href="#option_mysql_socket">--socket</a>
</td><td>Для соединений с localhost файл сокета Unix</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl">--ssl-ca</a></td>
<td>Путь к файлу, который содержит список доверенных SSL CA</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl">--ssl-capath</a>
</td><td>Путь к каталогу, который содержит довереннные сертификаты SSL
CA в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl">--ssl-cert</a>
</td><td>Путь к файлу, который содержит сертификат X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl">--ssl-cipher</a>
</td><td>Список разрешенных шифров, чтобы использовать
для шифрования соединения</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl">--ssl-crl</a>
</td><td>Путь к файлу, который содержит списки аннулирования сертификатов
</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl">--ssl-crlpath</a>
</td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl">--ssl-key</a>
</td><td>Путь к файлу, который содержит ключ X509 в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysql_ssl">--ssl-mode</a>
</td><td>Статус безопасности соединения с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysql_syslog">--syslog</a>
</td><td>Зарегистрировать интерактивные запросы в syslog</td></tr>
<tr><td scope="row"><a href="#option_mysql_table">--table</a>
</td><td>Показать вывод в табличном формате</td></tr>
<tr><td scope="row"><a href="#option_mysql_tee">--tee</a></td>
<td>Добавить копию вывода к названному файлу</td></tr>
<tr><td scope="row"><a href="#option_mysql_tls-version">
--tls-version</a></td><td>Протоколы, разрешенные для безопасных соединений
</td></tr>
<tr><td scope="row"><a href="#option_mysql_unbuffered">
--unbuffered</a></td><td>Сбросить буфер после каждого запроса</td></tr>
<tr><td scope="row"><a href="#option_mysql_user">--user</a></td>
<td>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysql_verbose">--verbose</a>
</td><td>Подробный режим вывода</td></tr>
<tr><td scope="row"><a href="#option_mysql_version">--version</a>
</td><td>Отобразить версию и выйти</td></tr>
<tr><td scope="row"><a href="#option_mysql_vertical">--vertical
</a></td><td>Запрос вывода строк вертикально (одна строка
на значение столбца)</td></tr>
<tr><td scope="row"><a href="#option_mysql_wait">--wait</a></td>
<td>Если соединение не может быть установлено, ждать и
повторить вместо прерывания</td></tr>
<tr><td scope="row"><a href="#option_mysql_xml">--xml</a></td>
<td>Вывод в формате XML</td></tr></tbody></table>

<ul><li><p><a name="option_mysql_help"></a>
<a href="#option_mysql_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Показать справку и выйти.</li>

<li><a name="option_mysql_auto-rehash"></a>
<a href="#option_mysql_auto-rehash"><code>--auto-rehash</code>
</a></p>
<p>Включить автоматическое рехэширование. Эта опция по умолчанию включает
завершение имени базы данных, таблицы и столбца. Используйте
<a href="#option_mysql_auto-rehash"><code>--disable-auto-rehash
</code></a>, чтобы это включить. Это заставляет
<a href="#mysql"><span><strong>mysql</strong></span></a>
запускаться быстрее, но Вы должны скомандовать
<code>rehash</code> или сокращенно <code>\#</code>, если Вы хотите
использовать завершение имени.</p>

<p>Чтобы завершить имя, введите первую часть и нажмите Tab.
Если имя однозначно, <a href="#mysql"><span><strong>mysql
</strong></span></a> завершает его. Иначе, Вы можете нажать Tab
снова, чтобы видеть возможные имена, которые начинаются с того, что Вы до сих
пор вводили. Завершение не происходит, если нет никакой базы
данных по умолчанию.</p>

<p>Эта особенность требует клиента MySQL, который собран с библиотекой
<span><strong>readline</strong></span>. Как правило, библиотека
<span><strong>readline</strong></span> недоступна в Windows.</p></li>

<li><p><a name="option_mysql_auto-vertical-output"></a>
<a href="#option_mysql_auto-vertical-output"><code>
--auto-vertical-output</code></a></p>

<p>Заставить наборы результатов быть выведенными на экран вертикально, если
они слишком широки для текущего окна, и использовать нормальный табличный
формат иначе. Это относится к запросам, законченным
<code>;</code> or <code>\G</code>.</li>

<li><a name="option_mysql_batch"></a>
<a href="#option_mysql_batch"><code>--batch</code></a>,
<code>-B</code></p>

<p>Печать результатов с использованием табуляции
как разделителя столбца с каждой строкой на новой строке. С этой опцией
<a href="#mysql"><span><strong>mysql</strong></span></a>
не использует файл истории.</p>

<p>Пакетный режим приводит к нетабличному выходному формату и выходу
специальных символов. Выход может быть отключен при использовании сырого
режима, см. опцию <a href="#option_mysql_raw"><code>--raw</code>
</a>.</li>

<li><a name="option_mysql_binary-mode"></a>
<a href="#option_mysql_binary-mode"><code>--binary-mode</code>
</a></p>

<p>Эта опция помогает, обрабатывая вывод
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>, который может содержать значения
<a href="types.htm#blob"><code>BLOB</code></a>. По умолчанию
<a href="#mysql"><span><strong>mysql</strong></span></a>
преобразует <code>\r\n</code> в запросе в виде строки к <code>\n</code>
и интерпретирует <code>\0</code> как разделитель запросов.
<a href="#option_mysql_binary-mode"><code>--binary-mode</code>
</a> отключает обе опции. Это также отключает все команды
<a href="#mysql"><span><strong>mysql</strong></span></a>, кроме
<code>charset</code> и <code>delimiter</code> в неинтерактивном режиме (для
ввода, переданного по каналу к <a href="#mysql"><span><strong>
mysql</strong></span></a> или загруженному с
использованим команды <code>source</code>).</li>

<li><a name="option_mysql_bind-address"></a>
<a href="#option_mysql_bind-address"><code>
--bind-address=<em><code>ip_address</code></em></code></a></p>

<p>На компьютере, имеющем многократные сетевые интерфейсы, используйте эту
опцию, чтобы выбрать который интерфейс использовать для того, чтобы
соединиться с сервером MySQL.</li>

<li><a name="option_mysql_character-sets-dir"></a>
<a href="#option_mysql_character-sets-dir"><code>
--character-sets-dir=<em><code>dir_name</code></em></code></a></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysql_column-names"></a>
<a href="#option_mysql_column-names"><code>--column-names
</code></a></p>
<p>Писать имена столбцов в результатах.</li>

<li><a name="option_mysql_column-type-info"></a>
<a href="#option_mysql_column-type-info"><code>
--column-type-info</code></a></p>
<p>Вывести на экран метаданные о наборе результатов.</li>

<li><a name="option_mysql_comments"></a>
<a href="#option_mysql_comments"><code>--comments</code></a>,
<code>-c</code></p>
<p>Сохранить ли комментарии в запросах, посланных серверу.
Значение по умолчанию: комментарии пропускать.</li>

<li><a name="option_mysql_compress"></a>
<a href="#option_mysql_compress"><code>--compress</code></a>,
<code>-C</code></p>
<p>Сжать всю информацию, посланную между клиентом и сервером, если
оба это допускают.</li>

<li><a name="option_mysql_connect-expired-password"></a>
<a href="#option_mysql_connect-expired-password"><code>
--connect-expired-password</code></a></p>

<p>Укажите к серверу, что клиент может обработать режим песочницы, если
учетная запись имеет пароль с истекшим сроком. Это может быть полезно для
неинтерактивных запросов, потому что обычно сервер разъединяет
неинтерактивных клиентов, которые пытаются соединиться с использованием
учетной записи с паролем с истекшим сроком. См.
<a href="security.htm#password-expiration-sandbox-mode">раздел 7.3.8</a>.
</li>

<li><a name="option_mysql_database"></a>
<a href="#option_mysql_database"><code>
--database=<em><code>db_name</code></em></code></a>,
<code>-D <em><code>db_name</code></em></code></p>
<p>База данных, чтобы использовать. Это полезно прежде всего в файле опции.
</li>

<li><a name="option_mysql_debug"></a>
<a href="#option_mysql_debug"><code>
--debug[=<em><code>debug_options</code></em>]</code></a>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Писать журнал отладки. Типичная строка
<em><code>debug_options</code></em>:
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:o,/tmp/mysql.trace</code>.</p>

<p>Эта опция доступна, только если MySQL был создан, используя
<a href="install.htm#option_cmake_with_debug"><code>WITH_DEBUG</code></a>.
Релизы MySQL, обеспеченные Oracle, <span><em>не</em></span>
созданы, используя эту опцию.</li>

<li><a name="option_mysql_debug-check"></a>
<a href="#option_mysql_debug-check"><code>
--debug-check</code></a></p>
<p>Напечатать некоторую информацию об отладке, когда программа выходит.</li>

<li><a name="option_mysql_debug-info"></a>
<a href="#option_mysql_debug-info"><code>--debug-info</code></a>,
<code>-T</code></p>
<p>Информация об отладке, памяти и статистика использования центрального
процессора, когда программа выходит.</li>

<li><a name="option_mysql_default-auth"></a>
<a href="#option_mysql_default-auth"><code>
--default-auth=<em><code>plugin</code></em></code></a></p>
<p>Подсказка о клиентском плагине аутентификации, чтобы использовать. См.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysql_default-character-set"></a>
<a href="#option_mysql_default-character-set"><code>
--default-character-set=<em><code>charset_name</code></em></code></a></p>
<p>Использовать <em><code>charset_name</code></em> как набор символов
значения по умолчанию для клиента и соединения.</p>

<p>Эта опция может быть полезной, если операционная система использует один
набор символов, а <a href="#mysql"><span><strong>mysql</strong>
</span></a> по умолчанию использует другой. В этом случае вывод может быть
отформатирован неправильно. Вы можете обычно решать такие проблемы при
использовании этой опции, чтобы вынудить клиента использовать системный набор
символов вместо своего.</p>
<p>См. разделы <a href="global.htm#charset-connection">11.1.4</a> и
<a href="global.htm#charset-configuration">11.5</a>.</li>

<li><a name="option_mysql_defaults-extra-file"></a>
<a href="#option_mysql_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Читать этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный
путь, а не полный.</li>

<li><a name="option_mysql_defaults-file"></a>
<a href="#option_mysql_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Использовать только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога,
если дано как относительный путь, а не полный.</p>

<p>Исключение: Даже с
<a href="#option_general_defaults-file"><code>--defaults-file
</code></a> программы клиента читают <code>.mylogin.cnf</code>.</li>

<li><a name="option_mysql_defaults-group-suffix"></a>
<a href="#option_mysql_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читать не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysql"><span><strong>mysql</strong></span></a>
обычно читает группы <code>[client]</code> и <code>[mysql]</code>.
Если опция <a href="#option_mysql_defaults-group-suffix"><code>
--defaults-group-suffix=_other</code></a> задана,
<a href="#mysql"><span><strong>mysql</strong></span></a> также
читает группы <code>[client_other]</code> и <code>[mysql_other]</code>.</li>

<li><a name="option_mysql_delimiter"></a>
<a href="#option_mysql_delimiter"><code>
--delimiter=<em><code>str</code></em></code></a></p>
<p>Установить разделитель запросов. Значение по умолчанию:
символ точки с запятой (<code>;</code>).</li>

<li><a name="option_mysql_disable-named-commands"></a>
<a href="#option_mysql_disable-named-commands"><code>
--disable-named-commands</code></a></p>

<p>Отключить названные команды. Используйте только форму <code>\*</code>
или используйте названные команды только в начале строки, заканчивающейся
точкой с запятой (<code>;</code>).
<a href="#mysql"><span><strong>mysql</strong></span></a>
запускается с этой опции, <span><em>включенной</em></span> по умолчанию.
Однако, даже с этой опцией, команды длинного формата все еще работают от
первой строки. См. <a href="#mysql-commands">раздел 5.5.1.2</a>.
</li>

<li><a name="option_mysql_enable-cleartext-plugin"></a>
<a href="#option_mysql_enable-cleartext-plugin"><code>
--enable-cleartext-plugin</code></a></p>

<p>Включить плагин аутентификации открытого текста
<code>mysql_clear_password</code>, см.
<a href="security.htm#cleartext-authentication-plugin">раздел 7.5.1.4</a>.
</li>

<li><a name="option_mysql_execute"></a>
<a href="#option_mysql_execute"><code>
--execute=<em><code>statement</code></em></code></a>,
<code>-e <em><code>statement</code></em></code></p>

<p>Выполнить запрос и выйти. Выходной формат значения по умолчанию подобен
выводу <a href="#option_mysql_batch"><code>--batch</code></a>.
См. <a href="#command-line-options">раздел 5.2.4</a>
для некоторых примеров. С этой опцией <a href="#mysql"><span>
<strong>mysql</strong></span></a> не использует файл истории.</li>

<li><a name="option_mysql_force"></a>
<a href="#option_mysql_force"><code>--force</code></a>,
<code>-f</code></p>
<p>Продолжить, даже если ошибка SQL происходит.</li>

<li><a name="option_mysql_histignore"></a>
<a href="#option_mysql_histignore"><code>--histignore</code></a>
</p>

<p>Отделенный двоеточиями список из одного или более образцов, определяющих
запросы, чтобы проигнорировать при протоколировании.
Эти образцы добавлены к списку образцов по умолчанию
(<code>"*IDENTIFIED*:*PASSWORD*"</code>).
Значение, определенное для этого журналирования, влияет на
опции запросов, написанных файлу истории, и <code>syslog</code>, если опция
<a href="#option_mysql_syslog"><code>--syslog</code></a>
задана. См. <a href="#mysql-logging">раздел 5.5.1.3</a>.</li>

<li><a name="option_mysql_host"></a>
<a href="#option_mysql_host"><code>
--host=<em><code>host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Соединитесь с сервером MySQL на данном хосте.</li>

<li><a name="option_mysql_html"></a>
<a href="#option_mysql_html"><code>--html</code></a>,
<code>-H</code></p>
<p>Вывод в формате HTML.</li>

<li><a name="option_mysql_ignore-spaces"></a>
<a href="#option_mysql_ignore-spaces"><code>--ignore-spaces
</code></a>, <code>-i</code></p>

<p>Проигнорировать пробелы после имен функций. Эффект этого описан в
обсуждении режима SQL <a href="server.htm#sqlmode_ignore_space"><code>
IGNORE_SPACE</code></a> (см. <a href="server.htm#sql-mode">раздел 6.1.8</a>).
</li>

<li><a name="option_mysql_init-command"></a>
<a href="#option_mysql_init-command"><code>--init-command=str
</code></a></p>

<p>Запрос SQL, чтобы выполнить после соединения с сервером.
Если автопересоединение включено, запрос выполнен снова после того,
как пересоединение происходит.</li>

<li><a name="option_mysql_line-numbers"></a>
<a href="#option_mysql_line-numbers"><code>
--line-numbers</code></a></p>

<p>Написать номера строки для ошибок. Отключите это с
<a href="#option_mysql_skip-line-numbers"><code>
--skip-line-numbers</code></a>.</li>

<li><a name="option_mysql_local-infile"></a>
<a href="#option_mysql_local-infile"><code>
--local-infile[={0|1}]</code></a></p>

<p>Включить или отключить <code>LOCAL</code> для
<a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>.
Без значения опция включает <code>LOCAL</code>. Опция может быть дана как
<a href="#option_mysql_local-infile"><code>--local-infile=0
</code></a> или <a href="#option_mysql_local-infile"><code>
--local-infile=1</code></a>, чтобы явно отключить или включить
<code>LOCAL</code>. Включение <code>LOCAL</code> не имеет никакого эффекта,
если сервер также не поддерживает это.</li>

<li><a name="option_mysql_login-path"></a>
<a href="#option_mysql_login-path"><code>
--login-path=<em><code>name</code></em></code></a></p>

<p>Читать опции из названного пути входа в систему в
<code>.mylogin.cnf</code>. <span><span>Вход в систему</span></span>
является группой опции, содержащей опции, которые определяют, с каким
сервером MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysql_named-commands"></a>
<a href="#option_mysql_named-commands"><code>
--named-commands</code></a>, <code>-G</code></p>

<p>Разрешить названные команды <a href="#mysql"><span><strong>
mysql</strong></span></a>. Команды длинного формата разрешены, не только
команды короткого формата. Например, <code>quit</code> и <code>\q</code>
обе признаны. Используйте
<a href="#option_mysql_named-commands"><code>
--skip-named-commands</code></a>, чтобы отключить названные команды, см.
<a href="#mysql-commands">раздел 5.5.1.2</a>.</li>

<li><a name="option_mysql_no-auto-rehash"></a>
<a href="#option_mysql_auto-rehash"><code>--no-auto-rehash</code>
</a>, <code>-A</code></p>

<p>Это имеет тот же самый эффект, как <code>--skip-auto-rehash</code>. См.
<a href="#option_mysql_auto-rehash"><code>--auto-rehash</code>
</a>.</li>

<li><a name="option_mysql_no-beep"></a>
<a href="#option_mysql_no-beep"><code>--no-beep</code></a>,
<code>-b</code></p>
<p>Не пищать при любой ошибке.</li>

<li><a name="option_mysql_no-defaults"></a>
<a href="#option_mysql_no-defaults"><code>--no-defaults</code>
</a></p>

<p>Не читать файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций из файла опции,
<a href="#option_mysql_no-defaults"><code>--no-defaults</code>
</a> может использоваться, чтобы препятствовать тому, чтобы они были считаны.
</p>

<p>Исключение: если есть файл <code>.mylogin.cnf</code>,
считан во всех случаях. Это разрешает паролям быть определенными более
безопасным способом, чем в командной строке даже когда использована опция
<a href="#option_mysql_no-defaults"><code>--no-defaults</code>
</a> (<code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>).</li>

<li><a name="option_mysql_one-database"></a>
<a href="#option_mysql_one-database"><code>
--one-database</code></a>, <code>-o</code></p>

<p>Проигнорировать запросы кроме тех, которые происходят в то время, как база
данных по умолчанию та, которая названа в командной строке.
Эта опция является старой и должна использоваться осторожно.
Фильтрация запросов базируется только на
<a href="sql.htm#use"><code>USE</code></a>.</p>

<p>Первоначально <a href="#mysql"><span><strong>mysql</strong>
</span></a> выполняет запросы во вводе потому, что определение базы данных
<em><code>db_name</code></em> в командной строке эквивалентно вставке
<a href="sql.htm#use"><code>USE <em><code>db_name</code></em></code></a>
в начале ввода. Тогда для каждого
<a href="sql.htm#use"><code>USE</code></a>, с которым сталкиваются,
<a href="#mysql"><span><strong>mysql</strong></span></a>
принимает или отклоняет следующие запросы в зависимости от того, является ли
база данных названной в командной строке.
Контент запросов является несущественным.</p>

<p>Предположите, что <a href="#mysql"><span><strong>mysql
</strong></span></a> вызван, чтобы обработать этот набор запросов:
<pre>
DELETE FROM db2.t2;
USE db2;
DROP TABLE db1.t1;
CREATE TABLE db1.t1 (i INT);
USE db1;
INSERT INTO t1 (i) VALUES(1);
CREATE TABLE db2.t1 (j INT);
</pre>

Если командная строка <a href="#mysql"><span><strong>mysql
--force --one-database db1</strong></span></a>, <a href="#mysql">
<span><strong>mysql</strong></span></a> обрабатывает ввод следующим образом:
</p>

<ul><li><p><a href="sql.htm#delete"><code>DELETE</code></a> выполнено, потому
что база данных значения по умолчанию <code>db1</code>, даже при том, что
запрос называет таблицу в иной базе данных.</li>

<li><a href="sql.htm#drop-table"><code>DROP TABLE</code></a> и
<a href="sql.htm#create-table"><code>CREATE TABLE</code></a>
не выполнены, потому что база данных по умолчанию не <code>db1</code>,
даже при том, что запросы называют таблицу в <code>db1</code>.</li>

<li><a href="sql.htm#insert"><code>INSERT</code></a> и
<a href="sql.htm#create-table"><code>CREATE TABLE</code></a>
выполнены, потому что база данных по умолчанию <code>db1</code>,
даже при том, что <a href="sql.htm#create-table"><code>CREATE TABLE</code>
</a> называет таблицу в иной базе данных.</p></li></ul></li>

<li><p><a name="option_mysql_pager"></a>
<a href="#option_mysql_pager"><code>
--pager[=<em><code>command</code></em>]</code></a></p>

<p>Используйте данную команду для вывода запроса оповещения.
Если команда опущена, значение по умолчанию это значение Вашей
переменной окружения <code>PAGER</code>. Допустимые варианты:
<span><strong>less</strong></span>, <span><strong>more</strong></span>,
<span><strong>cat [&gt; filename]</strong></span> и т.п.
Эта опция работает только в Unix и только в интерактивном режиме. Чтобы
отключить оповещение, надо использовать
<a href="#option_mysql_pager"><code>--skip-pager</code></a>.
<a href="#mysql-commands">Раздел 5.5.1.2</a>
обсуждает выходное оповещение далее.</li>

<li><a name="option_mysql_password"></a>
<a href="#option_mysql_password"><code>
--password[=<em><code>password</code></em>]</code></a>,
<code>-p[<em><code>password</code></em>]</code></p>

<p>Пароль, чтобы использовать, соединяясь с сервером. Если Вы используете
короткую форму опции (<code>-p</code>), у Вас <span><em>не может</em></span>
быть пробелов между опцией и паролем. Если Вы опускаете
<em><code>password</code></em> после
<a href="#option_mysql_password"><code>--password</code></a> или
<code>-p</code> в командной строке,
<a href="#mysql"><span><strong>mysql</strong></span></a>
запросит пароль явно.</p>

<p>Определение пароля в командной строке нужно считать опасным. См.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.
Вы можете использовать файл опции, чтобы избежать давать
пароль в командной строке.</li>

<li><a name="option_mysql_pipe"></a>
<a href="#option_mysql_pipe"><code>--pipe</code></a>,
<code>-W</code></p>

<p>В Windows соединитесь с сервером, используя именованный канал.
Эта опция применяется, только если сервер поддерживает
соединения именованного канала.</li>

<li><a name="option_mysql_plugin-dir"></a>
<a href="#option_mysql_plugin-dir"><code>
--plugin-dir=<em><code>dir_name</code></em></code></a></p>

<p>Каталог, в котором можно искать плагины. Определите эту опцию, если
<a href="#option_mysql_default-auth"><code>--default-auth</code>
</a> используется, чтобы определить плагин аутентификации, но
<a href="#mysql"><span><strong>mysql</strong></span></a>
не находит это. См.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysql_port"></a>
<a href="#option_mysql_port"><code>
--port=<em><code>port_num</code></em></code></a>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для соединения.</li>

<li><a name="option_mysql_print-defaults"></a>
<a href="#option_mysql_print-defaults"><code>--print-defaults
</code></a></p>
<p>Напечатать название программы и все опции, которые это получает
от файлов опции.</li>

<li><a name="option_mysql_prompt"></a>
<a href="#option_mysql_prompt"><code>
--prompt=<em><code>format_str</code></em></code></a></p>

<p>Установите подсказку в указанный формат. Значение по умолчанию
<code>mysql&gt;</code>. Специальные последовательности, которые может
содержать подсказка, описаны в
<a href="#mysql-commands">раздел 5.5.1.2</a>.</li>

<li><a name="option_mysql_protocol"></a>
<a href="#option_mysql_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Протокол соединения, чтобы использовать для того, чтобы соединиться с
сервером. Полезно, когда другие параметры соединения обычно заставляли бы
использовать не тот протокол. Для деталей о допустимых значениях см.
<a href="#connecting">раздел 5.2.2</a>.</li>

<li><a name="option_mysql_quick"></a>
<a href="#option_mysql_quick"><code>--quick</code></a>,
<code>-q</code></p>

<p>Не кэшировать каждый результат запроса, печатать каждую строку, когда
это получено. Это может замедлить сервер, если вывод приостановлен. С этой
опцией <a href="#mysql"><span><strong>mysql</strong></span></a>
не использует файл истории.</li>

<li><a name="option_mysql_raw"></a>
<a href="#option_mysql_raw"><code>--raw</code></a>,
<code>-r</code></p>

<p>Для табличного вывода <span><span>рамка</span></span> вокруг столбцов
позволяет одному значению столбца быть отличенным от другого.
Для нетабличного вывода (который произведен в пакетном режиме или когда опции
<a href="#option_mysql_batch"><code>--batch</code></a> или
<a href="#option_mysql_silent"><code>--silent</code></a> даны),
специальные символы оставляют в выводе, таким образом, они могут быть
идентифицированы легко. Новая строка, tab, <code>NUL</code> и
backslash записаны как <code>\n</code>, <code>\t</code>, <code>\0</code> и
<code>\\</code>. Опция <a href="#option_mysql_raw"><code>--raw
</code></a> отключает это экранирование символов.</p>

<p>Следующий пример демонстрирует табличный вывод против нетабличного и
использование сырого режима, чтобы отключить экранировку:
<pre>
% <mysql
mysql&gt; SELECT CHAR(92);
+----------+
| CHAR(92) |
+----------+
| \        |
+----------+

% <mysql -s
mysql&gt; SELECT CHAR(92);
CHAR(92)
\\

% <mysql -s -r
mysql&gt; SELECT CHAR(92);
CHAR(92)
\
</pre></li>

<li><a name="option_mysql_reconnect"></a>
<a href="#option_mysql_reconnect"><code>--reconnect</code></a>
</p>
<p>Если соединение с сервером потеряно, автоматически попытаться
повторно соединиться. Попытка предпринята каждый раз, когда соединение
потеряно. Чтобы подавить поведение пересоединения, надо использовать
<a href="#option_mysql_reconnect"><code>--skip-reconnect</code>
</a>.</li>

<li><a name="option_mysql_safe-updates"></a>
<a href="#option_mysql_safe-updates"><code>--safe-updates</code>
</a>, <a href="#option_mysql_safe-updates"><code>--i-am-a-dummy
</code></a>, <code>-U</code></p>

<p>Разрешить только те <a href="sql.htm#update"><code>UPDATE</code></a> и
<a href="sql.htm#delete"><code>DELETE</code></a>, которые определяют, которые
строки изменить при использовании значений ключа. Если Вы установили эту
опцию в файле опции, Вы можете переопределить ее при использовании
<a href="#option_mysql_safe-updates"><code>--safe-updates</code>
</a> в командной строке. См. <a href="#mysql-tips">раздел
5.5.1.6</a>.</li>

<li><a name="option_mysql_secure-auth"></a>
<a href="#option_mysql_secure-auth"><code>--secure-auth</code>
</a></p>

<p>Не посылайте пароли в сервер в старом формате (pre-4.1).
Это блокирует соединения за исключением серверов, которые используют
более новый формат пароля.</p>

<p>Эта опция устарела и будет удалена. Это всегда включается и попытка
отключить это (<a href="#option_mysql_secure-auth"><code>
--skip-secure-auth</code></a>,
<a href="#option_mysql_secure-auth"><code>--secure-auth=0
</code></a>) производит ошибку.</p>

<p>Пароли, которые используют хеширующий метод pre-4.1, менее безопасны, чем
пароли, которые используют новый метод хеширования пароля.
Пароли Pre-4.1 устарели, и поддержка их была удалена.</p></li>

<li><p><a name="option_mysql_server-public-key-path"></a>
<a href="#option_mysql_server-public-key-path"><code>
--server-public-key-path=<code>file_name</code></code></a></p>

<p>Путь к файлу, содержащему серверный открытый ключ RSA. Файл должен быть в
формате PEM. Открытый ключ используется для шифрования RSA-пароля клиента для
соединений с сервером, сделанным, используя учетные записи, которые
подтверждают подлинность с плагином <code>sha256_password</code>.
Эта опция проигнорирована для учетных записей клиента, которые не
подтверждают подлинность этим плагином. Это также проигнорировано, если
шифрование пароля не необходимо, как имеет место, когда клиент соединяется с
сервером, используя соединение SSL.</p>

<p>Сервер посылает открытый ключ клиенту как необходимый, таким образом, не
надо использовать эту опцию для шифрования пароля RSA. Более эффективно
сделать так, потому что тогда сервер не должен послать ключ.</p>
<p>См. <a href="security.htm#sha256-authentication-plugin">раздел 7.5.1.2
</a>.</p>
<p>Эта опция доступна, только если MySQL был создан, используя OpenSSL.</li>

<li><a name="option_mysql_shared-memory-base-name"></a>
<a href="#option_mysql_shared-memory-base-name"><code>
--shared-memory-base-name=<em><code>name</code></em></code></a></p>

<p>В Windows имя совместно используемой памяти для соединений, сделанных,
используя совместно используемую память для локального сервера. Значение по
умолчанию <code>MYSQL</code>. Имя совместно используемой памяти
является чувствительным к регистру.</p>

<p>Сервер должен быть запущен с опцией
<a href="server.htm#option_mysqld_shared-memory"><code>--shared-memory</code>
</a>, чтобы включить соединения совместно используемой памяти.</li>

<li><a name="option_mysql_show-warnings"></a>
<a href="#option_mysql_show-warnings"><code>--show-warnings
</code></a></p>
<p>Предупреждения будут показаны после каждого запроса, если есть.
Эта опция относится к интерактивному и пакетному режимам.</li>

<li><a name="option_mysql_sigint-ignore"></a>
<a href="#option_mysql_sigint-ignore"><code>--sigint-ignore
</code></a></p>
<p>Игнорировать сигнал <code>SIGINT</code> (как правило, результат ввода
<span><strong>Control+C</strong></span>).</li>

<li><a name="option_mysql_silent"></a>
<a href="#option_mysql_silent"><code>--silent</code></a>,
<code>-s</code></p>
<p>Тихий режим. Произведет меньший вывод. Эта опция может быть дана
многократно, чтобы произвести всё меньше и меньше вывода.</p>

<p>Эта опция приводит к нетабличному выходному формату и экранировке
специальных символов. Экранировка может быть отключена при использовании
сырого режима, см. описание для опции
<a href="#option_mysql_raw"><code>--raw</code></a>.</li>

<li><a name="option_mysql_skip-column-names"></a>
<a href="#option_mysql_skip-column-names"><code>
--skip-column-names</code></a>, <code>-N</code></p>
<p>Не писать имена столбцов в результатах.</li>

<li><a name="option_mysql_skip-line-numbers"></a>
<a href="#option_mysql_skip-line-numbers"><code>
--skip-line-numbers</code></a>, <code>-L</code></p>
<p>Не писать номера строки для ошибок. Полезно, когда Вы хотите сравнить
файлы результата, которые включают сообщения об ошибках.</li>

<li><a name="option_mysql_socket"></a>
<a href="#option_mysql_socket"><code>--socket=<em><code>path
</code></em></code></a>,
<code>-S <em><code>path</code></em></code></p>
<p>Для соединений с <code>localhost</code> файл сокета Unix, чтобы
использовать, или в Windows имя именованного канала.</li>

<li><a name="option_mysql_ssl"></a><code>--ssl*</code></p>
<p>Опции, которые начинаются с
<a href="security.htm#option_general_ssl"><code>--ssl</code></a>,
определяют, соединиться ли с сервером, используя SSL и указывают, где найти
ключи SSL и сертификаты. См.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysql_syslog"></a>
<a href="#option_mysql_syslog"><code>--syslog</code></a>,
<code>-j</code></p>

<p>Эта опция заставляет <a href="#mysql"><span><strong>mysql
</strong></span></a> посылать интерактивные запросы системному средству
журналирования. В Unix это <code>syslog</code>, в Windows это журнал событий
Windows. Место назначения, где зарегистрированные сообщения появляются,
является зависимым от системы. В Linux место назначения часто файл
<code>/var/log/messages</code>.</p>

<p>Вот образец вывода, произведенного в Linux при использовании
<code>--syslog</code>. Этот вывод отформатирован для удобочитаемости, каждое
зарегистрированное сообщение фактически берет одну строку.
<pre>
Mar  7 12:39:25 myhost MysqlClient[20824]:
  SYSTEM_USER:'oscar', MYSQL_USER:'my_oscar', CONNECTION_ID:23,
  DB_SERVER:'127.0.0.1', DB:'--', QUERY:'USE test;'
Mar  7 12:39:28 myhost MysqlClient[20824]:
  SYSTEM_USER:'oscar', MYSQL_USER:'my_oscar', CONNECTION_ID:23,
  DB_SERVER:'127.0.0.1', DB:'test', QUERY:'SHOW TABLES;'
</pre>
См. <a href="#mysql-logging">раздел 5.5.1.3</a>.</li>

<li><a name="option_mysql_table"></a>
<a href="#option_mysql_table"><code>--table</code></a>,
<code>-t</code></p>

<p>Вывод в формате таблицы. Это значение по умолчанию для интерактивного
использования, но может использоваться, чтобы произвести табличный
вывод в пакетном режиме.</li>

<li><a name="option_mysql_tee"></a>
<a href="#option_mysql_tee"><code>--tee=<em><code>file_name
</code></em></code></a></p>

<p>Дописать копию вывода к данному файлу. Эта опция работает только в
интерактивном режиме. <a href="#mysql-commands">Раздел 5.5.1.2
</a> обсуждает файлы далее.</li>

<li><a name="option_mysql_tls-version"></a>
<a href="#option_mysql_tls-version"><code>--tls-version=<em>
<code>protocol_list</code></em></code></a></p>

<p>Протоколы, разрешенные клиентом для зашифрованных соединений. Значение:
список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы по имени в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL.
Для деталей см. <a href="security.htm#secure-connection-protocols-ciphers">
раздел 7.4.3</a>.</li>

<li><a name="option_mysql_unbuffered"></a>
<a href="#option_mysql_unbuffered"><code>--unbuffered</code></a>,
<code>-n</code></p>
<p>Сбросить буфер после каждого запроса.</li>

<li><a name="option_mysql_user"></a>
<a href="#option_mysql_user"><code>--user=<em><code>user_name
</code></em></code></a>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером.</li>

<li><a name="option_mysql_verbose"></a>
<a href="#option_mysql_verbose"><code>--verbose</code></a>,
<code>-v</code></p>
<p>Подробный режим. Произведет больше вывода о том, что делает программа. Эта
опция может быть дана многократно, чтобы произвести все больше вывода.
Например, <code>-v -v -v</code> производит табличный выходной формат
даже в пакетном режиме.</li>

<li><a name="option_mysql_version"></a>
<a href="#option_mysql_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Отобразить информацию о версии.</li>

<li><a name="option_mysql_vertical"></a>
<a href="#option_mysql_vertical"><code>--vertical</code></a>,
<code>-E</code></p>
<p>Запрос выводит строки вертикально (одна строка на значение столбца).
Без этой опции Вы можете определить вертикальный вывод для отдельных
запросов, заканчивая их <code>\G</code>.</li>

<li><a name="option_mysql_wait"></a>
<a href="#option_mysql_wait"><code>--wait</code></a>,
<code>-w</code></p>
<p>Если соединение не может быть установлено, ждать и
повторить вместо прерывания.</li>

<li><a name="option_mysql_xml"></a>
<a href="#option_mysql_xml"><code>--xml</code></a>,
<code>-X</code></p>
<p>Формат вывода XML.
<pre>
&lt;field name="<em><code>column_name</code></em>"&gt;NULL&lt;/field&gt;
</pre>

Вывод, когда <a href="#option_mysql_xml"><code>--xml</code></a>
используется с соответствиями <a href="#mysql"><span><strong>
mysql</strong></span></a> из <a href="#mysqldump">mysqldump
<code>--xml</code></a>. См. <a href="#mysqldump">раздел 5.5.4
</a>.</p>

<p>Вывод XML также использует пространство имен XML, как показано здесь:
<pre>
shell&gt; mysql --xml -uroot -e "SHOW VARIABLES LIKE 'version%'"
&lt;?xml version="1.0"?&gt;

&lt;resultset statement="SHOW VARIABLES LIKE 'version%'" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
&lt;row&gt;
&lt;field name="Variable_name"&gt;version&lt;/field&gt;
&lt;field name="Value"&gt;5.0.40-debug&lt;/field&gt;
&lt;/row&gt;

&lt;row&gt;
&lt;field name="Variable_name"&gt;version_comment&lt;/field&gt;
&lt;field name="Value"&gt;Source distribution&lt;/field&gt;
&lt;/row&gt;

&lt;row&gt;
&lt;field name="Variable_name"&gt;version_compile_machine&lt;/field&gt;
&lt;field name="Value"&gt;i686&lt;/field&gt;
&lt;/row&gt;

&lt;row&gt;
&lt;field name="Variable_name"&gt;version_compile_os&lt;/field&gt;
&lt;field name="Value"&gt;suse-linux-gnu&lt;/field&gt;
&lt;/row&gt;
&lt;/resultset&gt;
</pre>
См. Bug #25946.
</p></li></ul>

<p>Вы можете также установить следующие переменные при использовании
<code>--<em><code>var_name</code></em>=<em><code>value</code></em></code>.
</p>
<ul><li><p><a name="option_mysql_connect_timeout"></a>
<code>connect_timeout</code></p>
<p>Число секунд перед тайм-аутом соединения. Значение по умолчанию
<code>0</code>.</li>

<li><a name="option_mysql_max_allowed_packet"></a>
<code>max_allowed_packet</code></p>
<p>Максимальный размер буфера для коммуникации клиент-сервер. Значение по
умолчанию составляет 16 МБ, максимум 1GB.</li>

<li><a name="option_mysql_max_join_size"></a><code>max_join_size</code></p>
<p>Автоматический предел для строк в соединении, используя
<a href="#option_mysql_safe-updates"><code>--safe-updates
</code></a>. Значение по умолчанию 1,000,000.</li>

<li><a name="option_mysql_net_buffer_length"></a><code>net_buffer_length
</code></p>
<p>Размер буфера для TCP/IP и коммуникации сокета.
Значение по умолчанию составляет 16 КБ.</li>

<li><a name="option_mysql_select_limit"></a><code>select_limit</code></p>
<p>Автоматический предел для
<a href="sql.htm#select"><code>SELECT</code></a>, использующих
<a href="#option_mysql_safe-updates"><code>--safe-updates</code>
</a>. Значение по умолчанию 1,000.</p></li></ul>

<h4><a name="mysql-commands"></a>5.5.1.2. Команды mysql</h4>
<p><a href="#mysql"><span><strong>mysql</strong></span></a>
посылает каждый введенный запрос SQL серверу. Есть также ряд команд, которые
интерпретирует сам <a href="#mysql"><span><strong>mysql</strong>
</span></a>. Для списка этих команд надо ввести <code>help</code> или
<code>\h</code> на подсказку <code>mysql&gt;</code>:</p>

<pre>
mysql&gt; help

List of all MySQL commands:
Note that all text commands must be first on line and end with ';'
? (\?)         Synonym for `help'.
clear (\c)     Clear the current input statement.
connect (\r)   Reconnect to the server. Optional arguments are db and host.
delimiter (\d) Set statement delimiter.
edit (\e)      Edit command with $EDITOR.
ego (\G)       Send command to mysql server, display result vertically.
exit (\q)      Exit mysql. Same as quit.
go (\g)        Send command to mysql server.
help (\h)      Display this help.
nopager (\n)   Disable pager, print to stdout.
notee (\t)     Don't write into outfile.
pager (\P)     Set PAGER [to_pager]. Print the query results via PAGER.
print (\p)     Print current command.
prompt (\R)    Change your mysql prompt.
quit (\q)      Quit mysql.
rehash (\#)    Rebuild completion hash.
source (\.)    Execute an SQL script file. Takes a file name as an argument.
status (\s)    Get status information from the server.
system (\!)    Execute a system shell command.
tee (\T)       Set outfile [to_outfile]. Append everything into given outfile.
use (\u)       Use another database. Takes database name as argument.
charset (\C)   Switch to another charset. Might be needed for processing
               binlog with multi-byte charsets.
warnings (\W)  Show warnings after every statement.
nowarning (\w) Don't show warnings after every statement.
resetconnection (\x) Clean session context.

For server side help, type 'help contents'
</pre>

Если <a href="#mysql"><span><strong>mysql</strong></span></a>
вызван с опцией <a href="#option_mysql_binary-mode"><code>
--binary-mode</code></a>, все команды
<a href="#mysql"><span><strong>mysql</strong></span></a>
отключены, кроме <code>charset</code> и <code>delimiter</code>
в неинтерактивном режиме (для ввода, переданного по каналу
<a href="#mysql"><span><strong>mysql</strong></span></a>
или загруженному использованием команды <code>source</code>).</p>

<p>У каждой команды есть подробная и краткая форма. Подробная форма не
является чувствительной к регистру. Подробная форма может сопровождаться
дополнительным разделителем точки с запятой, но краткая форма не должна.</p>

<p>Использование кратких команд в пределах многолинейного
комментария <code>/* ... */</code> не поддержано.</p>
<ul><li><p><code>help [<em><code>arg</code></em>]</code>,
<code>\h [<em><code>arg</code></em>]</code>,
<code>\? [<em><code>arg</code></em>]</code>,
<code>? [<em><code>arg</code></em>]</code></p>
<p>Вывести на экран сообщение справки, перечисляющее доступные команды
<a href="#mysql"><span><strong>mysql</strong></span></a>.</p>

<p>Если Вы обеспечиваете параметр <code>help</code>,
<a href="#mysql"><span><strong>mysql</strong></span></a>
использует это в качестве строки поиска, чтобы получить доступ к серверной
справке от содержания MySQL Reference Manual. См.
<a href="#mysql-server-side-help">раздел 5.5.1.4</a>.</li>

<li><code>charset <em><code>charset_name</code></em></code>,
<code>\C <em><code>charset_name</code></em></code></p>
<p>Изменить набор символов по умолчанию и выпустить запрос
<a href="sql.htm#set-names"><code>SET NAMES</code></a>.
Это позволяет набору символов остаться синхронизированным на клиенте и
сервере, если <a href="#mysql"><span><strong>mysql</strong>
</span></a> выполнен с включенным автопереподключением (не рекомендуется),
потому что указанный набор символов используется для повторного соединения.
</li>

<li><code>clear</code>, <code>\c</code></p>
<p>Очистить текущий ввод. Используйте это, если Вы передумали
выполнять вводимый запрос.</li>

<li><code>connect [<em><code>db_name</code></em>
<em><code>host_name</code></em>]]</code>,
<code>\r [<em><code>db_name</code></em>
<em><code>host_name</code></em>]]</code></p>

<p>Повторно соединиться с сервером. Дополнительное параметры имя базы данных
и хоста могут быть даны, чтобы определить базу данных по умолчанию или хост.
Если опущено, текущие значения используются.</li>

<li><code>delimiter <em><code>str</code></em></code>,
<code>\d <em><code>str</code></em></code></p>
<p>Изменить строку, которую <a href="#mysql"><span><strong>
mysql</strong></span></a> интерпретирует как разделитель между запросами SQL.
Значение по умолчанию: символ точки с запятой (<code>;</code>).</p>

<p>Строка разделителя может быть определена как
заключенный или не заключенный в кавычки параметр.
Заключение в кавычки может быть сделано с любой одинарной кавычкой
(<code>'</code>), двойной кавычкой (<code>"</code>) или
обратной галочкой (<code>`</code>). Чтобы включать кавычку в пределах
заключенной в кавычки строки, заключите строку в кавычки иным символом
кавычки или выйдите из кавычки с наклонной чертой влево (<code>\</code>).
Наклонной черты влево нужно избежать за пределами заключенных в кавычки
строк, потому что это символ ESC для MySQL. Для не заключенного в
кавычки параметра разделитель считан до первого пробела или конца строки.
Для заключенного в кавычки параметра разделитель считан до соответствующей
кавычки на строке.</p>

<p><a href="#mysql"><span><strong>mysql</strong></span></a>
интерпретирует случаи разделителя как разделитель запроса где угодно,
кроме как в пределах заключенных в кавычки строк.
Будьте осторожны относительно определения разделителя, который мог бы
произойти в пределах других слов. Например, если Вы определяете разделитель
как <code>X</code>, Вы будете неспособны использовать слово
<code>INDEX</code>. <a href="#mysql"><span><strong>mysql
</strong></span></a> интерпретирует это как
<code>INDE</code> сопровождаемый разделителем <code>X</code>.</p>

<p>Когда разделитель, признанный <a href="#mysql"><span><strong>
mysql</strong></span></a>, установлен во что-то другое чем значение по
умолчанию <code>;</code>, случаи этого символа посылают в сервер без
интерпретации. Однако, сервер непосредственно все еще интерпретирует
<code>;</code> как разделитель запросов. Это поведение на стороне сервера
играет роль для выполнения многократных запросов (см.
<a href="connect.htm#c-api-multiple-queries">раздел 25.8.17</a>)
и парсинга тела хранимых процедур и функций, триггеров и событий (см.
<a href="stored.htm#stored-programs-defining">раздел 21.1</a>).</li>

<li><code>edit</code>, <code>\e</code></p>
<p>Отредактируйте текущий входной запрос. <a href="#mysql"><span>
<strong>mysql</strong></span></a> проверяет значения переменных окружения
<code>EDITOR</code> и <code>VISUAL</code>, чтобы определить, который редактор
использовать. Редактор по умолчанию <span><strong>vi</strong></span>,
если никакая переменная не установлена.</p>
<p>Команда <code>edit</code> работает только в Unix.</li>

<li><code>ego</code>, <code>\G</code></p>
<p>Послать текущий запрос серверу, который будет выполнен и будет выводить на
экран результат, используя вертикальный формат.</li>

<li><code>exit</code>, <code>\q</code></p>
<p>Выйти из <a href="#mysql"><span><strong>mysql</strong></span>
</a>.</li>

<li><code>go</code>, <code>\g</code></p>
<p>Послать текущий запрос серверу.</li>
<li><code>nopager</code>, <code>\n</code></p>
<p>Отключить выходное оповещение. См. описание для <code>pager</code>.</p>
<p>Команда <code>nopager</code> работает только в Unix.</li>

<li><code>notee</code>, <code>\t</code></p>
<p>Отключите выходное копирование к файлу. См. <code>tee</code>.</li>
<li><code>nowarning</code>, <code>\w</code></p>
<p>Отключить показ предупреждений после каждого запроса.</li>

<li><code>pager [<em><code>command</code></em>]</code>,
<code>\P [<em><code>command</code></em>]</code></p>
<p>Включить выходное оповещение. При использовании опции
<a href="#option_mysql_pager"><code>--pager</code></a>, когда
Вы вызываете <a href="#mysql"><span><strong>mysql</strong></span>
</a>, возможно просмотреть или искать результаты запроса в интерактивном
режиме такими программами Unix, как
<span><strong>less</strong></span>, <span><strong>more</strong></span> или
любой другой подобной программой. Если Вы не определяете никакого значения
для опции, <a href="#mysql"><span><strong>mysql</strong></span>
</a> проверяет значение переменной окружения <code>PAGER</code> и
приравнивает пейджер к этому. Функциональность пейджера работает
только в интерактивном режиме.</p>

<p>Выходное оповещение может быть включено в интерактивном режиме командой
<code>pager</code> и выключено <code>nopager</code>.
Команда берет дополнительный параметр, если дан, программа оповещения
установлена в него. Без параметра пейджер установлен в пейджер, который был
установлен в командной строке, или <code>stdout</code>,
если никакой пейджер не был определен.</p>

<p>Выходное оповещение работает только в Unix, потому что это использует
функцию <code>popen()</code>, которая не существует в Windows.
В Windows опция <code>tee</code> может использоваться вместо этого, чтобы
сохранить вывод запроса, хотя это не столь удобно как <code>pager</code>
для того, чтобы просмотреть вывод в некоторых ситуациях.</li>

<li><code>print</code>, <code>\p</code></p>
<p>Напечатайте текущий входной запрос, не выполняя его.</li>
<li><code>prompt [<em><code>str</code></em>]</code>,
<code>\R [<em><code>str</code></em>]</code></p>
<p>Реконфигурируйте подсказку <a href="#mysql"><span><strong>
mysql</strong></span></a> к данной строке. Специальные символьные
последовательности, которые могут использоваться в подсказке, описаны
позже в этом разделе.</p>

<p>Если Вы определяете команду <code>prompt</code> без параметра,
<a href="#mysql"><span><strong>mysql</strong></span></a>
сбрасывает подсказку к значению по умолчанию <code>mysql&gt;</code>.</li>

<li><code>quit</code>, <code>\q</code></p>
<p>Выход из <a href="#mysql"><span><strong>mysql</strong></span>
</a>.</li>

<li><code>rehash</code>, <code>\#</code></p>
<p>Восстановить автозавершения, которые включают завершение имен базы данных,
таблицы и столбца в то время, как Вы вводите запросы. См. описание для опции
<a href="#option_mysql_auto-rehash"><code>--auto-rehash</code>
</a>.</li>

<li><code>resetconnection</code>, <code>\x</code></p>
<p>Сбросить соединение, чтобы очистить статус сеанса.</p>
<p>Сброс соединения имеет эффекты, подобные
<a href="connect.htm#mysql-change-user"><code>mysql_change_user()</code></a>
или автопересоединению за исключением того, что соединение не закрыто и вновь
открыто, а переаутентификация не сделано. См. разделы
<a href="connect.htm#mysql-change-user">25.8.7.3</a> и
<a href="connect.htm#auto-reconnect">25.8.16</a>.</p>

<p>Этот пример показывает как <code>resetconnection</code>
очищает значение, поддержанное в статусе сеанса:
<pre>
mysql&gt; SELECT LAST_INSERT_ID(3);
+-------------------+
| LAST_INSERT_ID(3) |
+-------------------+
| 3                 |
+-------------------+

mysql&gt; SELECT LAST_INSERT_ID();
+------------------+
| LAST_INSERT_ID() |
+------------------+
| 3                |
+------------------+

mysql&gt; resetconnection;
mysql&gt; SELECT LAST_INSERT_ID();
+------------------+
| LAST_INSERT_ID() |
+------------------+
| 0                |
+------------------+
</pre></li>

<li><code>source <em><code>file_name</code></em></code>, <code>\.
<em><code>file_name</code></em></code></p>
<p>Считать названный файл и выполнить запросы, содержащиеся там.
В Windows Вы можете определить разделители пути как
<code>/</code> или <code>\\</code>.</li>

<li><code>status</code>, <code>\s</code></p>
<p>Обеспечить информацию о статусе о соединении и сервере, который Вы
используете. Если Вы работаете в режиме
<a href="#option_mysql_safe-updates"><code>--safe-updates</code>
</a>, <code>status</code> также печатает значения для переменных
<a href="#mysql"><span><strong>mysql</strong></span></a>,
которые затрагивают Ваши запросы.</li>

<li><code>system <em><code>command</code></em></code>, <code>\!
<em><code>command</code></em></code></p>
<p>Выполнитт данную команду, используя Ваш интерпретатор
команды по умолчанию.</p>
<p>Команда <code>system</code> работает в Unix.</li>

<li><code>tee [<em><code>file_name</code></em>]</code>,
<code>\T [<em><code>file_name</code></em>]</code></p>
<p>При использовании <a href="#option_mysql_tee"><code>--tee
</code></a>, когда Вы вызываете <a href="#mysql"><span><strong>
mysql</strong></span></a>, Вы можете зарегистрировать запросы и их вывод. Все
данные, выведенные на экран сохранены в данный файл. Это может быть очень
полезно для отладки. <a href="#mysql"><span><strong>mysql
</strong></span></a> сбрасывает результаты в файл после каждого запроса,
непосредственно перед тем, как печатает свою следующую подсказку.
Функциональность работает только в интерактивном режиме.</p>

<p>Вы можете активировать эту опцию в интерактивном режиме командой
<code>tee</code>. Без параметра используется предыдущий файл.
Файл <code>tee</code> может быть отключен командой <code>notee</code>.
Выполнение <code>tee</code> снова повторно включает запись.</li>

<li><code>use <em><code>db_name</code></em></code>,
<code>\u <em><code>db_name</code></em></code></p>
<p>Использовать <em><code>db_name</code></em> как базу данных по умолчанию.
</li>

<li><code>warnings</code>, <code>\W</code></p>
<p>Включить показ предупреждений после каждого запроса (если есть).
</p></li></ul>

<p>Вот несколько подсказок о команде <code>pager</code>:</p>
<ul><li><p>Вы можете использовать это, чтобы написать в файл,
результаты идут только в файл:
<pre>
mysql&gt; pager cat &gt; /tmp/log.txt
</pre>

Вы можете также передать любые опции для программы, которую Вы хотите
использовать в качестве Вашего пейджера:
<pre>
mysql&gt; pager less -n -i -S
</pre></li>

<li>В предыдущем примере, отметьте опцию <code>-S</code>.
Вы можете счесть это очень полезным для просмотра широких результатов
запроса. Иногда очень широкий набор результатов трудно читать на экране.
Опция <code>-S</code> <span><strong>less</strong></span>
может сделать набор результатов намного больше читаемым, потому что Вы можете
прокрутить это горизонтально с использованием клавиш со стрелкой вправо и
влево. Вы можете также использовать <code>-S</code> в интерактивном режиме в
пределах <span><strong>less</strong></span>, чтобы включить горизонтальный
режим просмотра. Для получения дополнительной информации читайте
manual page <span><strong>less</strong></span>:
<pre>
shell&gt; man less
</pre></li>

<li>Опции <code>-F</code> и <code>-X</code> могут использоваться с
<span><strong>less</strong></span>, чтобы заставить это выходить, если вывод
поместится на одном экране, что удобно, когда никакая прокрутка не нужна:
<pre>
mysql&gt; pager less -n -i -S -F -X
</pre></li>

<li>Вы можете определить очень сложные команды пейджера для того, чтобы
обработать вывод запроса:
<pre>
mysql&gt; pager cat | tee /dr1/tmp/res.txt \
          < | tee /dr2/tmp/res2.txt | less -n -i -S
</pre>

В этом примере команда послала бы результаты запроса в два файла в двух
различных каталогах на двух различных файловых системах, смонтированных как
<code>/dr1</code> и <code>/dr2</code> и выведет на экран результаты с
применением <span><strong>less</strong></span>.</p></li></ul>

<p>Вы можете также объединить функции <code>tee</code> и
<code>pager</code>. Имейте включенный файл <code>tee</code> и установите
<code>pager</code> в <span><strong>less</strong></span>,
теперь Вы в состоянии просмотреть результаты, используя
<span><strong>less</strong></span> и все еще добавите все в файл в то же
самое время. Различие между Unix <code>tee</code>, используемый с
<code>pager</code> и встроенной в <a href="#mysql"><span><strong>
mysql</strong></span></a> командой <code>tee</code> состоит в том, что
встроенная <code>tee</code> работает, даже если Вы не имеете доступа к
Unix <span><strong>tee</strong></span>. Встроенная <code>tee</code>
также журналирует все, что напечатано на экране, тогда как Unix
<span><strong>tee</strong></span> с <code>pager</code>
не регистрирует так много. Дополнительно журналирование файла
<code>tee</code> может быть включено в интерактивном режиме изнутри
<a href="#mysql"><span><strong>mysql</strong></span></a>.
Это полезно, когда Вы хотите зарегистрировать некоторые запросы к файлу,
но не другие.</p>

<p>Команда <code>prompt</code> реконфигурирует значение по умолчанию
<code>mysql&gt;</code>. Строка для того, чтобы определить подсказку, может
содержать следующие специальные последовательности.</p>

<table border="1">
<thead><tr><th scope="col">Опция</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row"><code>\C</code></td><td>
Текущий идентификатор соединения</td></tr>
<tr><td scope="row"><code>\c</code></td><td>Счетчик, который постепенно
увеличивается для каждого запроса, который Вы делаете</td></tr>
<tr><td scope="row"><code>\D</code></td><td>Полная текущая дата</td></tr>
<tr><td scope="row"><code>\d</code></td><td>База данных по умолчанию</td></tr>
<tr><td scope="row"><code>\h</code></td><td>Хост сервера</td></tr>
<tr><td scope="row"><code>\l</code></td><td>Текущий разделитель</td></tr>
<tr><td scope="row"><code>\m</code></td><td>Минуты текущего времени</td></tr>
<tr><td scope="row"><code>\n</code></td><td>Символ перевода строки</td></tr>
<tr><td scope="row"><code>\O</code></td><td>Текущий месяц в трехбуквенном
формате (Jan, Feb, ...)</td></tr>
<tr><td scope="row"><code>\o</code></td><td>Текущий месяц в числовом формате
</td></tr>
<tr><td scope="row"><code>\P</code></td><td>am/pm</td></tr>
<tr><td scope="row"><code>\p</code></td><td>Текущий порт TCP/IP
или файл сокета</td></tr>
<tr><td scope="row"><code>\R</code></td><td>
Текущее время в 24-часовом формате (0-23)</td></tr>
<tr><td scope="row"><code>\r</code></td><td>
Текущее время, стандартный 12-часовой формат (1-12)</td></tr>
<tr><td scope="row"><code>\S</code></td><td>Точка с запятой</td></tr>
<tr><td scope="row"><code>\s</code></td><td>Секунды текущего времени
</td></tr>
<tr><td scope="row"><code>\t</code></td><td>Символ табуляции</td></tr>
<tr><td scope="row"><code>\U</code></td><td><p>Ваше полное
<code><em><code>user_name</code></em>@<em><code>host_name</code></em></code>
для учетной записи</p></td></tr>
<tr><td scope="row"><code>\u</code></td><td>Ваше имя пользователя</td></tr>
<tr><td scope="row"><code>\v</code></td><td>Версия сервера</td></tr>
<tr><td scope="row"><code>\w</code></td><td>Текущий день недели в
трехбуквенном формате (Mon, Tue, ...)</td></tr>
<tr><td scope="row"><code>\Y</code></td><td>Текущий год, четыре цифры
</td></tr>
<tr><td scope="row"><code>\y</code></td><td>Текущий год, две цифры</td></tr>
<tr><td scope="row"><code>\_</code></td><td>Пробел</td></tr>
<tr><td scope="row"><code>\ </code></td><td>Пробел (следует за
наклонной чертой влево)</td></tr>
<tr><td scope="row"><code>\'</code></td><td>Одинарная кавычка</td></tr>
<tr><td scope="row"><code>\"</code></td><td>Двойная кавычка</td></tr>
<tr><td scope="row"><code>\\</code></td><td>Символ <code>\</code></td></tr>
<tr><td scope="row"><code>\<em><code>x</code></em></code></td><td><p>
<em><code>x</code></em>, для любого не упомянутого выше
<span><span><em><code>x</code></em></span></span>
</p></td></tr></tbody></table>

<p>Вы можете установить подсказку несколькими способами:</p>
<ul><li><p><span><em>Используйте переменную окружения.</em></span>
Вы можете установить переменную окружения <code>MYSQL_PS1</code>
к строке запроса. Например:
<pre>
shell&gt; export MYSQL_PS1="(\u@\h) [\d]&gt; "
</pre></li>

<li><span><em>Используйте параметр командной строки.</em></span>
Вы можете установить опцию <a href="#option_mysql_prompt"><code>
--prompt</code></a> в командной строке <a href="#mysql"><span>
<strong>mysql</strong></span></a>:
<pre>
shell&gt; mysql --prompt="(\u@\h) [\d]&gt; "
(user@host) [database]&gt;
</pre></li>

<li><span><em>Используйте файл опции.</em></span>
Вы можете установить опцию <code>prompt</code> в группе
<code>[mysql]</code> любого файла опций MySQL, например,
<code>/etc/my.cnf</code> или <code>.my.cnf</code>
в Вашем корневом каталоге. Например:
<pre>
[mysql]
prompt=(\\u@\\h) [\\d]&gt;\\_
</pre>

В этом примере отметьте, что наклонные черты влево удвоены. Если Вы
устанавливаете подсказку, используя опцию <code>prompt</code>
в файле опции, желательно удвоить наклонные черты влево, используя
специальные быстрые опции. Есть некоторое перекрытие в наборе допустимых
быстрых опций и наборе специальных escape-последовательностей, которые
признаны в файлах опции. Правила для escape-последовательностей в файлах
опции перечислены в <a href="#option-files">разделе 5.2.6</a>.
Перекрытие может вызвать у Вас проблемы, если Вы используете единственные
наклонные черты влево. Например, <code>\s</code> интерпретируется как пробел,
а не как текущее значение секунд. Следующий пример показывает, как определить
подсказку в пределах файла опции, чтобы включать текущее время в формате
<code>HH:MM:SS&gt;</code>:
<pre>
[mysql]
prompt="\\r:\\m:\\s&gt; "
</pre></li>

<li><span><em>Установите подсказку в интерактивном режиме.</em></span>
Вы можете изменить свою подсказку в интерактивном режиме при использовании
команды <code>prompt</code> (или <code>\R</code>):
<pre>
mysql&gt; prompt (\u@\h) [\d]&gt;\_
PROMPT set to '(\u@\h) [\d]&gt;\_'
(<em><code>user</code></em>@<em><code>host</code></em>) [<em><code>database</code></em>]&gt;
(<em><code>user</code></em>@<em><code>host</code></em>) [<em><code>database</code></em>]&gt; prompt
Returning to default PROMPT of mysql&gt;
mysql&gt;<
</pre></li></ul>

<h4><a name="mysql-logging"></a>5.5.1.3. Журналирование mysql</h4>
<p><a href="#mysql"><span><strong>mysql</strong></span></a>
может делать эти типы журналирования для запросов,
выполненных в интерактивном режиме:</p>

<ul><li><p>В Unix <a href="#mysql"><span><strong>mysql</strong>
</span></a> пишет запросы в файл истории. По умолчанию этот файл называют
<code>.mysql_history</code> в Вашем корневом каталоге. Чтобы определить иной
файл, установите значение переменной окружения <code>MYSQL_HISTFILE</code>.
</li>

<li>На всех платформах, если дана опция <code>--syslog</code>,
<a href="#mysql"><span><strong>mysql</strong></span></a>
пишет запросы системному средству журналирования. В Unix это
<code>syslog</code>, в Windows это Windows Event Log.
Место назначения, где зарегистрированные сообщения появляются, зависит от
системы. В Linux место назначения часто файл <code>/var/log/messages</code>.
</p></li></ul>

<p>Следующее обсуждение описывает характеристики, которые относятся ко всем
типам журналирования, и предоставляет информацию, определенную для
каждого типа журналирования.</p>

<h5><a name="idm139965415009008"></a>Как журналирование происходит</h5>
<p>Для каждого включенного места назначения, журналирование запросы
происходит следующим образом:</p>

<ul><li><p>Запросы зарегистрированы только когда выполнено в интерактивном
режиме. Запросы являются неинтерактивными, например, когда считаны из файла
или канала. Также возможно подавить журналирование запросы при использовании
опций <a href="#option_mysql_batch"><code>--batch</code></a> или
<a href="#option_mysql_execute"><code>--execute</code></a>.</li>

<li>Запросы проигнорированы и не зарегистрированы, если они соответствуют
какому-либо образцу в списке <span><span>ignore</span></span>.
Этот список описан позже.</li>

<li><a href="#mysql"><span><strong>mysql</strong></span></a>
регистрирует каждую непроигнорированную, непустую
строку запроса индивидуально.</li>

<li>Если непроигнорированный запрос охватывает многократные строки (не
включая разделитель), <a href="#mysql"><span><strong>mysql
</strong></span></a> связывает строки, чтобы сформировать полный запрос,
отображает символы новой строки на пробелы и регистрирует
результат плюс разделитель.</p></li></ul>

<p>Следовательно, входной запрос, который охватывает многократные строки,
может быть зарегистрирован дважды. Рассмотрите этот ввод:
<pre>
mysql&gt; SELECT
    -&gt; 'Today is'
    -&gt; ,
    -&gt; CURDATE()
    -&gt; ;
</pre>

В этом случае <a href="#mysql"><span><strong>mysql</strong>
</span></a> пишет <span><span>SELECT</span></span>, <span><span>'Today is'
</span></span>, <span><span>,</span></span>, <span><span>CURDATE()</span>
</span> и <span><span>;</span></span> строки пока читает их. Это также
регистрирует полный запрос после отображения <code>SELECT\n'Today
is'\n,\nCURDATE()</code> на <code>SELECT 'Today is' , CURDATE()</code>
плюс разделитель. Таким образом, эти строки
появляются в зарегистрированном выводе:
<pre>
SELECT
'Today is'
,
CURDATE()
;
SELECT 'Today is' , CURDATE();
</pre>

<a href="#mysql"><span><strong>mysql</strong></span></a>
игнорирует регистрацию запросов, которые соответствуют любому образцу в
списке <span><span>ignore</span></span>. По умолчанию список образцов
<code>"*IDENTIFIED*:*PASSWORD*"</code>, чтобы проигнорировать
запросы, которые относятся к паролям. Соответствующий образец не является
чувствительным к регистру. В пределах образцов два
символа являются особенными:</p>

<ul><li><p><code>?</code> любой единственный символ.</li>
<li><code>*</code> любая последовательность из ноля или
большего количества символов.</p></li></ul>

<p>Чтобы определить дополнительные образцы, используйте опцию
<a href="#option_mysql_histignore"><code>--histignore</code></a>
или задайте переменную окружения <code>MYSQL_HISTIGNORE</code>.
Если оба варианта определены, значение опции имеет приоритет.
Значение должно быть отделенным двоеточиями списком из одного или более
образцов, которые добавлены к списку образца по умолчанию.</p>

<p>Образцы, определенные в командной строке, возможно, должны были бы быть
заключены в кавычки или экранированы, чтобы препятствовать тому, чтобы Ваш
интерпретатор команды обработал их особенно. Например, чтобы подавить
журналирование для <code>UPDATE</code> и <code>DELETE</code>
в дополнение к запросам, которые относятся к паролям, вызовите
<a href="#mysql"><span><strong>mysql</strong></span></a>:
<pre>
shell&gt; mysql --histignore="*UPDATE*:*DELETE*"
</pre>

<h5><a name="idm139965414974384"></a>Управление файлом истории</h5>
<p>Файл <code>.mysql_history</code> должен быть защищен с рестриктивным
режимом доступа, потому что чувствительная информация могла бы быть написана
в него, например, текст запросов SQL, которые содержат пароли. См.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.</p>

<p>Если Вы не хотите поддерживать файл истории, сначала удалите
<code>.mysql_history</code>, если есть. Затем используйте любой из следующих
методов, чтобы препятствовать тому, чтобы это было создано снова:</p>

<ul><li><p>Установите переменную окружения <code>MYSQL_HISTFILE</code> в
<code>/dev/null</code>. Чтобы заставить эту установку вступать в силу каждый
раз, когда Вы входите в систему, поместите это в один из файлов
запуска Вашей оболочки.</li>

<li>Создайте <code>.mysql_history</code> как символическую ссылку к
<code>/dev/null</code>, это надо сделать только однажды:
<pre>
shell&gt; ln -s /dev/null $HOME/.mysql_history
</pre></li></ul>

<h5><a name="idm139965414963920"></a>Журналирование характеристик syslog</h5>
<p>Если дана опция <code>--syslog</code>,
<a href="#mysql"><span><strong>mysql</strong></span></a> пишет
интерактивные запросы системному средству журналирования.
У журналирования сообщения есть следующие характеристики.</p>

<p>Журналирование происходит в уровень <span><span>information</span></span>.
Это соответствует приоритету <code>LOG_INFO</code> для
<code>syslog</code> в Unix/Linux <code>syslog</code> и
<code>EVENTLOG_INFORMATION_TYPE</code> для Windows Event Log.</p>

<p>Размер сообщения ограничен 1024 байтами.</p>
<p>Сообщения состоят из идентификатора
<code>MysqlClient</code> сопровождаемого этими значениями:</p>

<ul><li><p><code>SYSTEM_USER</code></p>
<p>Системное имя пользователя (имя для входа в систему) или <code>--</code>,
если пользователь неизвестен.</li>

<li><code>MYSQL_USER</code></p>
<p>Имя пользователя MySQL (определенное опцией
<a href="#option_mysql_user"><code>--user</code></a>) или
<code>--</code>, если пользователь неизвестен.</li>

<li><code>CONNECTION_ID</code>:</p>
<p>Идентификатор соединения клиента. Это то же самое, как в пределах сеанса
<a href="funct.htm#function_connection-id"><code>CONNECTION_ID()</code></a>.
</li>

<li><code>DB_SERVER</code></p>
<p>Хост сервера или <code>--</code>, если хост неизвестен.</li>
<li><code>DB</code></p>
<p>База данных по умолчанию или <code>--</code>,
если никакая база данных не была выбрана.</li>

<li><code>QUERY</code></p>
<p>Текст зарегистрированного запроса.</p></li></ul>
<p>Вот образец вывода, произведенного в Linux при использовании
<code>--syslog</code>. Этот вывод отформатирован для удобочитаемости, каждое
зарегистрированное сообщение фактически берет одну строку.
<pre>
Mar  7 12:39:25 myhost MysqlClient[20824]:
  SYSTEM_USER:'oscar', MYSQL_USER:'my_oscar', CONNECTION_ID:23,
  DB_SERVER:'127.0.0.1', DB:'--', QUERY:'USE test;'
Mar  7 12:39:28 myhost MysqlClient[20824]:
  SYSTEM_USER:'oscar', MYSQL_USER:'my_oscar', CONNECTION_ID:23,
  DB_SERVER:'127.0.0.1', DB:'test', QUERY:'SHOW TABLES;'
</pre>

<h4><a name="mysql-server-side-help"></a>5.5.1.4. Справка сервера mysql</h4>
<pre>
mysql&gt; help <em><code>search_string</code></em>
</pre>

Если Вы обеспечиваете параметр <code>help</code>,
<a href="#mysql"><span><strong>mysql</strong></span></a>
использует это в качестве строки поиска, чтобы получить доступ к серверной
справке MySQL Reference Manual. Правильное функционирование этой команды
требует, чтобы таблицы справки в базе данных <code>mysql</code>
были инициализированы с информацией о теме справки (см.
<a href="server.htm#server-side-help-support">раздел 6.1.10</a>).</p>

<p>Если там нет совпадения со строкой поиска, поиск терпит неудачу:
<pre>
mysql&gt; help me

Nothing found
Please try to run 'help contents' for a list of all accessible topics
</pre>

Используйте <a href="sql.htm#help"><span><strong>help contents</strong>
</span></a>, чтобы видеть список категорий справки:
<pre>
mysql&gt; help contents
You asked for help about help category: "Contents"
For more information, type 'help &lt;item&gt;', where &lt;item&gt; is one of the
following categories:
   Account Management
   Administration
   Data Definition
   Data Manipulation
   Data Types
   Functions
   Functions and Modifiers for Use with GROUP BY
   Geographic Features
   Language Structure
   Plugins
   Storage Engines
   Stored Routines
   Table Maintenance
   Transactions
   Triggers
</pre>

Если строка поиска соответствует многим элементам,
<a href="#mysql"><span><strong>mysql</strong></span></a>
показывает список соответствия тем:
<pre>
mysql&gt; help logs
Many help items for your request exist.
To make a more specific request, please type 'help &lt;item&gt;',
where &lt;item&gt; is one of the following topics:
   SHOW
   SHOW BINARY LOGS
   SHOW ENGINE
   SHOW LOGS
</pre>

Используйте тему в качестве строки поиска, чтобы видеть
элемент справки для той темы:
<pre>
mysql&gt; help show binary logs
Name: 'SHOW BINARY LOGS'
Description:
Syntax:
SHOW BINARY LOGS
SHOW MASTER LOGS

Lists the binary log files on the server. This statement is used as
part of the procedure described in [purge-binary-logs], that shows how
to determine which logs can be purged.

mysql&gt; SHOW BINARY LOGS;
+---------------+-----------+
| Log_name      | File_size |
+---------------+-----------+
| binlog.000015 | 724935    |
| binlog.000016 | 733481    |
+---------------+-----------+
</pre>

Строка поиска может содержать подстановочные символы
<code>%</code> и <code>_</code>. У них есть то же самое значение, что
касается соответствия образцу операций, выполненных с
<a href="funct.htm#operator_like"><code>LIKE</code></a>. Например,
<code>HELP rep%</code> возвращает список тем,
которые начинаются с <code>rep</code>:
<pre>
mysql&gt; HELP rep%
Many help items for your request exist.
To make a more specific request, please type 'help &lt;item&gt;',
where &lt;item&gt; is one of the following
topics:
   REPAIR TABLE
   REPEAT FUNCTION
   REPEAT LOOP
   REPLACE
   REPLACE FUNCTION
</pre>

<h4><a name="mysql-batch-commands"></a>5.5.1.5.
Выполнение запросов SQL из текстового файла</h4>
<p><a href="#mysql"><span><strong>mysql</strong></span></a>,
как правило, используется в интерактивном режиме:
<pre>
shell&gt; mysql <em><code>db_name</code></em>
</pre>

Однако, также возможно поместить Ваши запросы SQL в файл и затем велеть
<a href="#mysql"><span><strong>mysql</strong></span></a>
читать свой ввод из того файла. Чтобы сделать так, создайте текстовый файл
<em><code>text_file</code></em>, который содержит запросы, которые Вы хотите
выполнить. Тогда вызовите <a href="#mysql"><span><strong>mysql
</strong></span></a>:
<pre>
shell&gt; mysql <em><code>db_name</code></em> &lt; <em><code>text_file</code></em>
</pre>

Если Вы помещаете <code>USE <em><code>db_name</code></em></code> как первый
запрос в файле, не нужно определить имя базы данных в командной строке:
<pre>
shell&gt; mysql &lt; text_file
</pre>

Если Вы уже выполняете <a href="#mysql"><span><strong>mysql
</strong></span></a>, Вы можете выполнить файл скрипта SQL, используя
команду <code>source</code> или <code>\.</code>:
<pre>
mysql&gt; source <em><code>file_name</code></em>
mysql&gt; \. <em><code>file_name</code></em>
</pre>

Иногда Вы можете хотеть, чтобы Ваш скрипт вывел на экран информацию о
работе. Для этого Вы можете вставить запросы так:
<pre>
SELECT '&lt;info_to_display&gt;' AS ' ';
</pre>
Этот запрос выведет <code>&lt;info_to_display&gt;</code>.</p>

<p>Вы можете также вызвать <a href="#mysql"><span><strong>mysql
</strong></span></a> с опцией <a href="#option_mysql_verbose">
<code>--verbose</code></a>, которая заставляет каждый запрос быть выведенным
на экран прежде, чем результат, к которому он приводит.</p>

<p><a href="#mysql"><span><strong>mysql</strong></span></a>
игнорирует символы Unicode byte order mark (BOM) в начале входных файлов.
Ранеео он считал их и посылал в сервер, приводя к синтаксической ошибке.
Присутствие BOM не заставляет <a href="#mysql"><span><strong>
mysql</strong></span></a> изменять свой набор символов по умолчанию.
Чтобы сделать это, вызовите <a href="#mysql"><span><strong>mysql
</strong></span></a> с опцией
<a href="#option_mysql_default-character-set"><code>
--default-character-set=utf8</code></a>.</p>
<p>См. <a href="tutorial.htm#batch-mode">раздел 4.5</a>.</p>

<h4><a name="mysql-tips"></a>5.5.1.6. Подсказки по mysql</h4>
<p>Этот раздел описывает некоторые методы, которые могут помочь Вам
использовать <a href="#mysql"><span><strong>mysql</strong>
</span></a>.</p>

<h5><a name="mysql-input-editing"></a>
5.5.1.6.1. Редактирование входной строки</h5>
<p><a href="#mysql"><span><strong>mysql</strong></span></a>
поддерживает редактирование входной строки, которое позволяет Вам изменить
текущую входную строку или вспомнить предыдущие входные строки. Например,
<span><strong>left-arrow</strong></span> и <span><strong>right-arrow</strong>
</span> перемещают курсор горизонтально в пределах текущей входной строки, а
<span><strong>up-arrow</strong></span> и <span><strong>down-arrow</strong>
</span> вверх и вниз через набор ранее вводимых строк. <span><strong>
Backspace</strong></span> удаляет символ перед курсором, ввод новых символов
вводит их в позиции курсора. Чтобы ввести строку, нажмите
<span><strong>Enter</strong></span>.</p>

<p>В Windows последовательности клавиш для редактирования
те же самые, как поддержано для редактирования команды в консолях.
В Unix сочетания клавиш зависят от входной библиотеки, использовавшейся,
чтобы создать <a href="#mysql"><span><strong>mysql</strong>
</span></a> (например, <code>libedit</code> или <code>readline</code>).</p>

<p>Документация для <code>libedit</code> и <code>readline</code>
доступны онлайн. Чтобы изменить набор сочетаний клавиш, разрешенных данной
входной библиотекой, определите привязки клавиш в файле запуска библиотеки.
Это файл в Вашем корневом каталоге: <code>.editrc</code> для
<code>libedit</code> и  <code>.inputrc</code> для <code>readline</code>.</p>

<p>Например, в <code>libedit</code> <span><strong>Control+W</strong></span>
удаляет все перед текущей позицией курсора и
<span><strong>Control+U</strong></span> удаляет всю строку. В
<code>readline</code> <span><strong>Control+W</strong></span>
удаляет слово перед курсором и <span><strong>Control+U</strong></span>
удаляет все перед текущей позицией курсора. Если
<a href="#mysql"><span><strong>mysql</strong></span></a> был
создан, используя <code>libedit</code>, пользователь, который предпочитает
<code>readline</code> для этих двух клавиш может вставить следующие строки в
свой файл <code>.editrc</code>:
<pre>
bind "^W" ed-delete-prev-word
bind "^U" vi-kill-line-prev
</pre>

Чтобы видеть текущий набор привязок клавиш, временно поместите строку,
которая говорит только <code>bind</code> в конце
<code>.editrc</code>. <a href="#mysql"><span><strong>mysql
</strong></span></a> покажет привязку, когда он запустится.</p>

<h5><a name="windows-unicode-support"></a>5.5.1.6.2.
Поддержка Unicode в Windows</h5>
<p>Windows обеспечивает API на основе UTF-16LEдля того, чтобы читать из и
писать в консоль, клиент <a href="#mysql"><span><strong>mysql
</strong></span></a> для Windows в состоянии использовать эти API.
Установщик Windows создает элемент в меню MySQL под именем <code>MySQL
command line client - Unicode</code>. Этот элемент вызывает
<a href="#mysql"><span><strong>mysql</strong></span></a>
с набором свойств, чтобы сообщить через консоль серверу, что
надо применить Unicode.</p>

<p>Чтобы использовать в своих интересах эту поддержку вручную, выполните
<a href="#mysql"><span><strong>mysql</strong></span></a>
в пределах консоли, которая использует совместимый шрифт Unicode и
устанавливает набор символов по умолчанию в набор символов Unicode, который
поддержан для коммуникации с сервером:</p>

<ol type="1"><li><p>Откройте окно консоли.</li>
<li>Перейдите в свойства консоли, выберите вкладку шрифта и выберите
Lucida Console или некоторый другой совместимый шрифт Unicode. Это
необходимо, потому что консоли запускаются по умолчанию, используя растровый
шрифт DOS, который является несоответствующим для Unicode.</li>

<li>Выполните <a href="#mysql"><span><strong>mysql.exe</strong>
</span></a> с опцией <a href="#option_mysql_default-character-set">
<code>--default-character-set=utf8</code></a> (или <code>utf8mb4</code>).
Эта опция необходима потому, что <code>utf16le</code> не
поддержан как набор символов соединения.</p></li></ol>

<p>С этими изменениями <a href="#mysql"><span><strong>mysql
</strong></span></a> будет использовать Windows API, чтобы общаться с
консолью, используя UTF-16LE и с сервером, используя UTF-8. Пункт меню,
упомянутый ранее, устанавливает набор шрифтов и набор символов как
только что описано.</p>

<p>Чтобы избежать этих шагов каждый раз, когда Вы выполняете
<a href="#mysql"><span><strong>mysql</strong></span></a>,
Вы можете создать ярлык, который вызывает
<a href="#mysql"><span><strong>mysql.exe</strong></span></a>.
Ярлык должен установить шрифт консоли в Lucida Console
или некоторый другой совместимый шрифт Unicode и передать опцию
<a href="#option_mysql_default-character-set"><code>
--default-character-set=utf8</code></a> (или <code>utf8mb4</code>)
<a href="#mysql"><span><strong>mysql.exe</strong></span></a>.</p>

<p>Альтернативно, создайте ярлык, который только устанавливает шрифт и
установите набор символов в группе <code>[mysql]</code> файла <code>my.ini
</code>:
<pre>
[mysql]
default-character-set=utf8
</pre>

<h5><a name="vertical-query-results"></a>5.5.1.6.3.
Отображение результатов запроса вертикально</h5>
<p>Некоторые результаты запроса намного больше читаемы,
когда выведены на экран вертикально, а не в обычном горизонтальном формате
таблицы. Запросы могут быть выведены на экран вертикально, заканчивая запрос
с \G вместо точки с запятой. Например, более длинные текстовые значения,
которые включают новые строки, намного легче считать с вертикальным выводом:
<pre>
mysql&gt; SELECT * FROM mails WHERE LENGTH(txt) &lt; 300 LIMIT 300,1\G
*************************** 1. row ***************************
  msg_nro: 3068
 date: 2000-03-01 23:29:50
time_zone: +0200
mail_from: Monty
reply: monty@no.spam.com
  mail_to: "Thimble Smith" &lt;tim@no.spam.com&gt;
sbj: UTF-8
txt: &gt;&gt;&gt;&gt;&gt; "Thimble" == Thimble Smith writes:

Thimble&gt; Hi.  I think this is a good idea.  Is anyone familiar
Thimble&gt; with UTF-8 or Unicode? Otherwise, I'll put this on my
Thimble&gt; TODO list and see what happens.

Yes, please do that.

Regards,
Monty
 file: inbox-jani-1
 hash: 190402944
1 row in set (0.09 sec)
</pre>

<h5><a name="safe-updates"></a>5.5.1.6.4. Использование опции
--safe-updates</h5>
<p>Для новичков полезная опция запуска
<a href="#option_mysql_safe-updates"><code>--safe-updates</code>
</a> (или <a href="#option_mysql_safe-updates"><code>
--i-am-a-dummy</code></a>). Полезно для случаев, когда Вы, возможно,
скомандовали <code>DELETE FROM <em><code>tbl_name</code></em></code>, но
забыли про <code>WHERE</code>. Обычно такой запрос удаляет все строки из
таблицы, что очень полезно в целях обучения. С
<a href="#option_mysql_safe-updates"><code>--safe-updates</code>
</a> Вы можете удалить строки только определяя значения ключа, которые
идентифицируют их. Это помогает предотвратить несчастные случаи.</p>

<p>Когда Вы используете <a href="#option_mysql_safe-updates">
<code>--safe-updates</code></a>, <a href="#mysql"><span><strong>
mysql</strong></span></a> делает следующий запрос, когда
соединяется с сервером MySQL:
<pre>
SET sql_safe_updates=1, sql_select_limit=1000, max_join_size=1000000;
</pre>
См. <a href="server.htm#server-system-variables">раздел 6.1.5</a>.</p>

<p><a href="sql.htm#set-variable"><code>SET</code></a>
имеет следующие эффекты:</p>
<ul><li><p>Вам не разрешают выполнить
<a href="sql.htm#update"><code>UPDATE</code></a> или
<a href="sql.htm#delete"><code>DELETE</code></a>, если Вы не определяете
ключевое ограничение в <code>WHERE</code> или не зададите
<code>LIMIT</code> (можно то и другое сразу):
<pre>
UPDATE <em><code>tbl_name</code></em> SET <em><code>not_key_column</code></em>=<em><code>val</code></em>
       WHERE <em><code>key_column</code></em>=<em><code>val</code></em>;
UPDATE <em><code>tbl_name</code></em> SET <em><code>not_key_column</code></em>=<em><code>val</code></em> LIMIT 1;
</pre></li>

<li>Сервер ограничивает все большие
<a href="sql.htm#select"><code>SELECT</code></a> 1000 строк, если запрос
не включает <code>LIMIT</code>.</li>

<li>Сервер прерывает многотабличный
<a href="sql.htm#select"><code>SELECT</code></a>, который, вероятно, должен
обработать больше 1000000 комбинаций строк.</p></li></ul>

<p>Чтобы определить пределы, отличающиеся от 1000 и 1000000,
Вы можете переопределить значения по умолчанию при использовании опций
<code>--select_limit</code> и <code>--max_join_size</code>:
<pre>
shell&gt; mysql --safe-updates --select_limit=500 --max_join_size=10000
</pre>

<h5><a name="mysql-reconnect"></a>5.5.1.6.5.
Отключение mysql реконнекта</h5>
<p>Если <a href="#mysql"><span><strong>mysql</strong></span></a>
теряет его соединение с сервером, посылая запрос, это немедленно и
автоматически пытается повторно соединиться с сервером и послать запрос
снова. Однако, даже если <a href="#mysql"><span><strong>mysql
</strong></span></a> преуспевает в том, чтобы повторно соединиться, Ваше
первое соединение закончилось и все Ваши предыдущие объекты сеанса и
настройки потеряны: временные таблицы, режим autocommit и
и переменные, определяемые пользователем и сеанса. Кроме того, любая текущая
транзакция откатывается. Это поведение может быть опасным для Вас, как в
следующем примере, где сервер был закрыт и перезапущен между первым и вторым
запросами, о чем Вы не знали:
<pre>
mysql&gt; SET @a=1;
Query OK, 0 rows affected (0.05 sec)

mysql&gt; INSERT INTO t VALUES(@a);
ERROR 2006: MySQL server has gone away
No connection. Trying to reconnect...
Connection id:1
Current database: test

Query OK, 1 row affected (1.30 sec)

mysql&gt; SELECT * FROM t;
+------+
| a    |
+------+
| NULL |
+------+
1 row in set (0.05 sec)
</pre>

Переменная <code>@a</code> была потеряна с соединением и после пересоединения
это неопределено. Если важно иметь <a href="#mysql"><span>
<strong>mysql</strong></span></a> прерванный с ошибкой, если соединение было
потеряно, Вы можете запустить клиент <a href="#mysql"><span>
<strong>mysql</strong></span></a> с опцией
<a href="#option_mysql_reconnect"><code>--skip-reconnect</code>
</a>.</p>
<p>См. <a href="connect.htm#auto-reconnect">раздел 25.8.16</a>.</p>

<h3><a name="mysqladmin"></a>5.5.2. <span><strong>mysqladmin</strong></span>
Клиент для управления сервером MySQL</h3>
<p><a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> это клиент для того, чтобы выполнить административные задачи.
Вы можете использовать это, чтобы проверить конфигурацию сервера и текущий
статус, создать и удалить базы данных и много всего еще.</p>

<p>Вызов <a href="#mysqladmin"><span><strong>mysqladmin</strong>
</span></a>:
<pre>
shell&gt; mysqladmin [<em><code>options</code></em>] <em><code>command</code></em>
                     [<em><code>command-arg</code></em>]
                     [<em><code>command</code></em>
                     [<em><code>command-arg</code></em>]] ...
</pre>
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> поддерживает следующие команды. Некоторые из команд берут параметр
после названия команды.</p>

<ul><li><p><a name="command_mysqladmin_db_name"></a>
<code>create <em><code>db_name</code></em></code></p>
<p>Создайте новую базу данных <em><code>db_name</code></em>.</li>

<li><a name="command_mysqladmin_debug"></a><code>debug</code></p>
<p>Скажите серверу писать информацию об отладке в журнал ошибок.
Формат и контент этой информации подвержены изменениям.</p>
<p>Это включает информацию о Event Scheduler. См.
<a href="stored.htm#events-status-info">раздел 21.4.5</a>.</li>

<li><a name="command_mysqladmin_drop"></a>
<code>drop <em><code>db_name</code></em></code></p>
<p>Удалить базу данных <em><code>db_name</code></em> и все ее таблицы.</li>

<li><a name="command_mysqladmin_extended-status"></a>
<code>extended-status</code></p>
<p>Вывести на экран переменные состояния сервера и их значения.</li>

<li><a name="command_mysqladmin_flush-hosts"></a>
<code>flush-hosts</code></p>
<p>Сбросить всю информацию в кэше хоста.</li>

<li><a name="command_mysqladmin_flush-logs"></a>
<code>flush-logs [<em><code>log_type</code></em> ...]</code></p>
<p>Сбросить все журналы.</p>

<p><a href="#mysqladmin"><span><strong>mysqladmin flush-logs
</strong></span></a> разрешает дополнительным типам журнала быть данными,
чтобы определить, которые журналы сбросить. После <code>flush-logs</code>
Вы можете обеспечить разделенный пробелами список из одного или больше
следующих типов журнала: <code>binary</code>, <code>engine</code>,
<code>error</code>, <code>general</code>, <code>relay</code> и
<code>slow</code>. Они соответствуют типам журнала, которые могут быть
определены для <a href="sql.htm#flush"><code>FLUSH LOGS</code></a>.</li>

<li><a name="command_mysqladmin_flush-privileges"></a>
<code>flush-privileges</code></p>
<p>Перезагрузить таблицы привилегий (аналог <code>reload</code>).</li>

<li><a name="command_mysqladmin_flush-status"></a><code>flush-status</code>
</p>
<p>Очистить переменные статуса.</li>

<li><a name="command_mysqladmin_flush-tables"></a>
<code>flush-tables</code></p>
<p>Сбросить все таблицы.</li>

<li><a name="command_mysqladmin_flush-threads"></a>
<code>flush-threads</code></p>
<p>Сбросить кэш потока.</li>

<li><a name="command_mysqladmin_kill"></a>
<code>kill <em><code>id</code></em>,<em><code>id</code></em>,...</code></p>
<p>Уничтожьте потоки сервера. Если многократные значения идентификаторов
потока даны, в списке не должно быть никаких пробелов.</li>

<li><a name="command_mysqladmin_password"></a>
<code>password <em><code>new_password</code></em></code></p>
<p>Установите новый пароль. Это изменяет пароль на
<em><code>new_password</code></em> для учетной записи, которую Вы используете
с <a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> для того, чтобы соединиться с сервером. Таким образом, в следующий раз,
когда Вы вызываете <a href="#mysqladmin"><span><strong>mysqladmin
</strong></span></a> (или любую другую программу клиента) с использованием
той же самой учетной записи, Вы должны будете определить новый пароль.</p>

<p>Если <em><code>new_password</code></em> содержит пробелы или другие
символы, которые являются особенными для Вашего интерпретатора
команды, Вы должны приложить его в пределах кавычек. В Windows надо
убедиться, что использовали двойные кавычки, а не одинарные кавычки,
одинарные кавычки не отрезаны от пароля, а интерпретируются как
часть пароля. Например:
<pre>
shell&gt; mysqladmin password "my new password"
</pre>

В MySQL 8.0 новый пароль может быть опущен после <code>password</code>.
В этом случае <a href="#mysqladmin"><span><strong>mysqladmin
</strong></span></a> запрашивает значение пароля, которое позволяет Вам
избежать определять пароль в командной строке. Исключение значения пароля
должно быть сделано только, если <code>password</code> заключительная команда
в <a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a>. Иначе следующий параметр будет взят в качестве пароля.</p>

<p>Не используйте эту команду, если сервер был запущен с
<a href="server.htm#option_mysqld_skip-grant-tables"><code>
--skip-grant-tables</code></a>. Никакое изменение пароля не будет применено.
Это истина, даже если Вы перед <code>password</code> выполните
<code>flush-privileges</code> на той же самой командной строке, чтобы
повторно включить таблицы привилегий, потому что работа сброса происходит
после того, как Вы соединяетесь. Однако, Вы можете использовать
<a href="#mysqladmin"><span><strong>mysqladmin flush-privileges
</strong></span></a>, чтобы повторно включить таблицы привилегий
и затем использовать отдельную команду
<a href="#mysqladmin"><span><strong>mysqladmin password</strong>
</span></a>, чтобы изменить пароль.</p></li>

<li><p><a name="command_mysqladmin_ping"></a><code>ping</code></p>
<p>Проверьте, доступен ли сервер. Статус возврата от
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> 0, если сервер работает, 1, если это не так. Это 0 даже в случае такой
ошибки, как <code>Access denied</code>, потому что это означает, что сервер
выполняется, но отказался от соединения, что отличается от
не работающего сервера.</li>

<li><a name="command_mysqladmin_processlist"></a><code>processlist</code></p>
<p>Покажите список активных потоков сервера. Это походит на вывод
<a href="sql.htm#show-processlist"><code>SHOW PROCESSLIST</code></a>.
Если дана опция <a href="#option_mysqladmin_verbose"><code>
--verbose</code></a>, вывод походит на вывод
<a href="sql.htm#show-processlist"><code>SHOW FULL PROCESSLIST</code></a>,
см. <a href="sql.htm#show-processlist">раздел 14.7.5.29</a>.</li>

<li><a name="command_mysqladmin_reload"></a><code>reload</code></p>
<p>Перезагрузите таблицы привилегий.</li>
<li><a name="command_mysqladmin_refresh"></a><code>refresh</code></p>
<p>Сбросить все таблицы, закрыть и открыть снова файлы системного журнала.
</li>

<li><a name="command_mysqladmin_shutdown"></a><code>shutdown</code></p>
<p>Остановите работу сервера.</li>
<li><a name="command_mysqladmin_start-slave"></a><code>start-slave</code></p>
<p>Запустите репликацию на ведомом сервере.</li>

<li><a name="command_mysqladmin_status"></a><code>status</code></p>
<p>Выведите на экран короткое сообщение о состоянии сервера.</li>
<li><a name="command_mysqladmin_stop-slave"></a><code>stop-slave</code></p>
<p>Остановить репликацию на ведомом сервере.</li>

<li><a name="command_mysqladmin_variables"></a><code>variables</code></p>
<p>Выведите на экран системные переменные сервера и их значения.</li>
<li><a name="command_mysqladmin_version"></a><code>version</code></p>
<p>Информация о версии сервера.</p></li></ul>

<p>Все команды могут быть сокращены к любой уникальной приставке. Например:
<pre>
shell&gt; mysqladmin proc stat
+----+-------+-----------+----+---------+------+-------+------------------+
| Id | User  | Host      | db | Command | Time | State | Info             |
+----+-------+-----------+----+---------+------+-------+------------------+
| 51 | monty | localhost |    | Query   |    0 |       | show processlist |
+----+-------+-----------+----+---------+------+-------+------------------+
Uptime: 1473624  Threads: 1  Questions: 39487
Slow queries: 0  Opens: 541  Flush tables: 1
Open tables: 19  Queries per second avg: 0.0268
</pre>

<p><a href="#mysqladmin"><span><strong>mysqladmin status</strong>
</span></a> выводит на экран следующие значения:</p>
<ul><li><p><a href="server.htm#statvar_Uptime"><code>Uptime</code></a></p>
<p>Число секунд, которое сервер MySQL работал.</li>

<li><code>Threads</code></p>
<p>Число активных потоков (клиенты).</li>
<li><a href="server.htm#statvar_Questions"><code>Questions</code></a></p>
<p>Число запросов от клиентов, начиная с запуска сервера.</li>

<li><code>Slow queries</code></p>
<p>Число запросов, которые заняли больше
<a href="server.htm#sysvar_long_query_time"><code>long_query_time</code></a>
секунд, см. <a href="server.htm#slow-query-log">раздел 6.4.5</a>.</li>

<li><code>Opens</code></p>
<p>Число открытых таблиц сервера.</li>
<li><code>Flush tables</code></p>
<p>Число выполенных команд <code>flush-*</code>,
<code>refresh</code> и <code>reload</code>.</li>
<li><code>Open tables</code></p>
<p>Число таблиц, которые в настоящее время открыты.</p></li></ul>

<p>Если Вы выполняете <a href="#mysqladmin"><span><strong>
mysqladmin shutdown</strong></span></a>, соединяясь с локальным сервером,
используя файл сокета Unix, <a href="#mysqladmin"><span><strong>
mysqladmin</strong></span></a> ждет, пока файл ID процесса сервера не был
удален, чтобы гарантировать, что сервер остановился должным образом.</p>

<p><a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> поддерживает следующие опции, которые могут быть определены в командной
строке или в группах <code>[mysqladmin]</code> и <code>[client]</code>
файла опции. Для информации о файлах опции, используемых программами MySQL,
см. <a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965414607296"></a><p><b>Таблица 5.9. Опции
<code>mysqladmin</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row">
<a href="#option_mysqladmin_bind-address">
--bind-address</a></td><td>Используйте определенный сетевой интерфейс, чтобы
соединиться с MySQL Server</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_compress">
--compress</a></td><td>Сжать всю информацию, посланную
между клиентом и сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_connect_timeout">
--connect_timeout</a></td><td>Число секунд перед тайм-аутом соединения
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_count">--count
</a></td><td>Число итераций повторного выполнения команды</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_debug">--debug
</a></td><td>Писать журнал отладки</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_debug-check">
--debug-check</a></td><td>Информация об отладке, когда программа выходит
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_debug-info">
--debug-info</a></td><td>Информация об отладке, памяти и статистика
центрального процессора, когда программа выходит</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_default-auth">
--default-auth</a></td><td>Плагин аутентификации, чтобы использовать
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_default-character-set">
--default-character-set</a></td><td>Определите набор символов по умолчанию
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать этот файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опции</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_enable-cleartext-plugin">
--enable-cleartext-plugin</a></td><td>
Включить плагин аутентификации открытого текста</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_force">--force
</a></td><td>Продолжить, даже если ошибка SQL происходит</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_help">--help</a>
</td><td>Отобразить сообщение справки</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_host">--host</a>
</td><td>Соединитесь с сервером MySQL на данном хосте</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_login-path">
--login-path</a></td><td>Читать опции пути входа в систему из .mylogin.cnf
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_no-beep">
--no-beep</a></td><td>Не пищать при ошибке</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_no-defaults">
--no-defaults</a></td><td>Не читать файлы опции</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_password">
--password</a></td><td>Пароль, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_pipe">--pipe</a>
</td><td>В Windows соединитесь с сервером, используя именованный канал
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_port">--port</a>
</td><td>Номер порта TCP/IP, чтобы использовать для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_print-defaults">
--print-defaults</a></td><td>Напечатать опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_protocol">
--protocol</a></td><td>Протокол соединения, чтобы использовать</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_relative">
--relative</a></td><td>Показать различие между текущими и предыдущими
значениями, когда используется с опцией --sleep</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_secure-auth">
--secure-auth</a></td><td>Не посылайте пароли серверу в
старом формате (pre-4.1)</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_shared-memory-base-name">
--shared-memory-base-name</a></td><td>Название совместно используемой памяти,
чтобы использовать для соединений совместно используемой памяти</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_show-warnings">
--show-warnings</a></td><td>Покажите предупреждения после выполнения запроса
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_shutdown_timeout">
--shutdown_timeout</a></td><td>Максимальное количество секунд, которое ждать
завершения работы сервера</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_silent">--silent
</a></td><td>Тихий режим</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_sleep">--sleep
</a></td><td>Выполнить команды неоднократно, между циклами спать</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_socket">--socket
</a></td><td>Для соединений с localhost файл сокета Unix</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_ssl">--ssl-ca</a>
</td><td>Путь к файлу, который содержит список доверенных SSL CA</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_ssl">--ssl-capath
</a></td><td>Путь к каталогу, который содержит доверенные сертификаты SSL
CA в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_ssl">--ssl-cert
</a></td><td>Путь к файлу, который содержит сертификат X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_ssl">--ssl-cipher
</a></td><td>Список разрешенных шифров, чтобы использовать
для шифрования соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_ssl">--ssl-crl
</a></td><td>Путь к файлу, который содержит списки аннулирования сертификатов
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_ssl">
--ssl-crlpath</a></td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_ssl">--ssl-key
</a></td><td>Путь к файлу, который содержит ключ X509 в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_ssl">--ssl-mode
</a></td><td>Статус безопасности соединения с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_tls-version">
--tls-version</a></td><td>Протоколы, разрешенные для безопасных соединений
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_user">--user</a>
</td><td>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_verbose">
--verbose</a></td><td>Подробный режим</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_version">
--version</a></td><td>Отобразить информацию о версии</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_vertical">
--vertical</a></td><td>Запрос выводит строки вертикально
(одна строка на значение столбца)</td></tr>
<tr><td scope="row"><a href="#option_mysqladmin_wait">--wait</a>
</td><td>Если соединение не может быть установлено, ждать и
повторить вместо прерывания</td></tr></tbody></table>

<ul><li><p><a name="option_mysqladmin_help"></a>
<a href="#option_mysqladmin_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить справочное сообщение.</li>

<li><a name="option_mysqladmin_bind-address"></a>
<a href="#option_mysqladmin_bind-address"><code>
--bind-address=<em><code>ip_address</code></em></code></a></p>

<p>На компьютере, имеющем многократные сетевые интерфейсы, используйте эту
опцию, чтобы выбрать который интерфейс использовать для того, чтобы
соединиться с сервером MySQL.</li>

<li><a name="option_mysqladmin_character-sets-dir"></a>
<a href="#option_mysqladmin_character-sets-dir"><code>
--character-sets-dir=<em><code>dir_name</code></em></code></a></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysqladmin_compress"></a>
<a href="#option_mysqladmin_compress"><code>
--compress</code></a>, <code>-C</code></p>
<p>Сжать всю информацию, посланную между клиентом и сервером,
если оба это умеют.</li>

<li><a name="option_mysqladmin_count"></a>
<a href="#option_mysqladmin_count"><code>
--count=<em><code>N</code></em></code></a>,
<code>-c <em><code>N</code></em></code></p>

<p>Число итераций, которые сделать для повторного выполнения команды, если
дана опция <a href="#option_mysqladmin_sleep"><code>--sleep
</code></a>.</li>

<li><a name="option_mysqladmin_debug"></a>
<a href="#option_mysqladmin_debug"><code>
--debug[=<em><code>debug_options</code></em>]</code></a>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Писать журнал отладки. Типичная строка
<em><code>debug_options</code></em>
<code>d:t:o,<em><code>file_name</code></em></code>. Значение по умолчанию
<code>d:t:o,/tmp/mysqladmin.trace</code>.</li>

<li><a name="option_mysqladmin_debug-check"></a>
<a href="#option_mysqladmin_debug-check"><code>
--debug-check</code></a></p>
<p>Напечатать некоторую информацию об отладке, когда программа выходит.</li>

<li><a name="option_mysqladmin_debug-info"></a>
<a href="#option_mysqladmin_debug-info"><code>
--debug-info</code></a></p>
<p>Информация об отладке, памяти и статистика использования центрального
процессора, когда программа выходит.</li>

<li><a name="option_mysqladmin_default-auth"></a>
<a href="#option_mysqladmin_default-auth"><code>
--default-auth=<em><code>plugin</code></em></code></a></p>
<p>Подсказка о клиентском плагине аутентификации, чтобы использовать. См.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqladmin_default-character-set"></a>
<a href="#option_mysqladmin_default-character-set"><code>
--default-character-set=<em><code>charset_name</code></em></code></a></p>

<p>Использовать <em><code>charset_name</code></em>
как набор символов по умолчанию. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysqladmin_defaults-extra-file"></a>
<a href="#option_mysqladmin_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Читать этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный
путь, а не полный.</li>

<li><a name="option_mysqladmin_defaults-file"></a>
<a href="#option_mysqladmin_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или он иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога,
если дано как относительный путь, а не полный.</p>
<p>Исключение: Даже с <a href="#option_general_defaults-file">
<code>--defaults-file</code></a> клиент читает <code>.mylogin.cnf</code>.
</li>

<li><a name="option_mysqladmin_defaults-group-suffix"></a>
<a href="#option_mysqladmin_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читать не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> обычно читает группы <code>[client]</code> и <code>[mysqladmin]</code>.
Если дана опция
<a href="#option_mysqladmin_defaults-group-suffix"><code>
--defaults-group-suffix=_other</code></a>, <a href="#mysqladmin">
<span><strong>mysqladmin</strong></span></a> также читает группы
<code>[client_other]</code> и <code>[mysqladmin_other]</code>.</li>

<li><a name="option_mysqladmin_enable-cleartext-plugin"></a>
<a href="#option_mysqladmin_enable-cleartext-plugin"><code>
--enable-cleartext-plugin</code></a></p>

<p>Включите плагин аутентификации открытого текста
<code>mysql_clear_password</code>, см.
<a href="security.htm#cleartext-authentication-plugin">раздел 7.5.1.4</a>.
</li>

<li><a name="option_mysqladmin_force"></a>
<a href="#option_mysqladmin_force"><code>--force</code></a>,
<code>-f</code></p>
<p>Не просить подтверждение для <code>drop
<em><code>db_name</code></em></code>.
С многократными командами продолжить, даже если ошибка происходит.</li>

<li><a name="option_mysqladmin_host"></a>
<a href="#option_mysqladmin_host"><code>
--host=<em><code>host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Соединитесь с сервером MySQL на данном хосте.</li>

<li><a name="option_mysqladmin_login-path"></a>
<a href="#option_mysqladmin_login-path"><code>
--login-path=<em><code>name</code></em></code></a></p>

<p>Читать опции из названного пути входа в систему в
файле пути входа в систему <code>.mylogin.cnf</code>. <span><span>login path
</span></span> является группой опции, содержащей опции, которые определяют,
с каким сервером MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysqladmin_no-beep"></a>
<a href="#option_mysqladmin_no-beep"><code>--no-beep</code></a>,
<code>-b</code></p>
<p>Подавить звуковой сигнал предупреждения, который испускается по умолчанию
для таких ошибок, как отказ соединиться с сервером.</li>

<li><a name="option_mysqladmin_no-defaults"></a>
<a href="#option_mysqladmin_no-defaults"><code>--no-defaults
</code></a></p>

<p>Не читать файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций из файла опции,
<a href="#option_mysqladmin_no-defaults"><code>--no-defaults
</code></a> может использоваться, чтобы препятствовать тому, чтобы
они были считаны.</p>

<p>Исключение: файл <code>.mylogin.cnf</code>, если есть, считан во всех
случаях. Это разрешает паролям быть определенными более безопасным способом,
чем в командной строке даже когда применена
<a href="#option_mysqladmin_no-defaults"><code>--no-defaults
</code></a>. <code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysqladmin_password"></a>
<a href="#option_mysqladmin_password"><code>
--password[=<em><code>password</code></em>]</code></a>,
<code>-p[<em><code>password</code></em>]</code></p>

<p>Пароль, чтобы использовать, соединяясь с сервером. Если Вы используете
короткую форму опции (<code>-p</code>), у Вас
<span><em>не должно</em></span> быть пробелов между опцией и паролем. Если Вы
опускаете <em><code>password</code></em> после
<a href="#option_mysqladmin_password"><code>--password</code></a>
или <code>-p</code>, <a href="#mysqladmin"><span><strong>
mysqladmin</strong></span></a> запросит пароль явно.</p>

<p>Определение пароля в командной строке нужно считать опасным, см.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.
Вы можете использовать файл опции, чтобы избежать давать
пароль в командной строке.</li>

<li><a name="option_mysqladmin_pipe"></a>
<a href="#option_mysqladmin_pipe"><code>--pipe</code></a>,
<code>-W</code></p>
<p>В Windows соединитесь с сервером, используя именованный канал.
Эта опция применяется, только если сервер поддерживает
соединения именованного канала.</li>

<li><a name="option_mysqladmin_plugin-dir"></a>
<a href="#option_mysqladmin_plugin-dir"><code>
--plugin-dir=<em><code>dir_name</code></em></code></a></p>

<p>Каталог, в котором можно искать плагины. Определите эту опцию, если
<a href="#option_mysqladmin_default-auth"><code>--default-auth
</code></a> используется, чтобы определить плагин аутентификации, но
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> не находит его. См.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqladmin_port"></a>
<a href="#option_mysqladmin_port"><code>
--port=<em><code>port_num</code></em></code></a>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для соединения.</li>

<li><a name="option_mysqladmin_print-defaults"></a>
<a href="#option_mysqladmin_print-defaults"><code>
--print-defaults</code></a></p>
<p>Напечатайте название программы и все опции, которые это получает
от файлов опции.</li>

<li><a name="option_mysqladmin_protocol"></a>
<a href="#option_mysqladmin_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Протокол соединения, чтобы использовать для того, чтобы соединиться с
сервером. Полезно, когда другие параметры соединения используют
не тот протокол. См. <a href="#connecting">раздел 5.2.2</a>.</li>

<li><a name="option_mysqladmin_relative"></a>
<a href="#option_mysqladmin_relative"><code>--relative</code></a>,
<code>-r</code></p>
<p>Покажите различие между текущими и предыдущими значениями,
когда используется опция
<a href="#option_mysqladmin_sleep"><code>--sleep</code></a>.
Эта опция работает только с командой <code>extended-status</code>.</li>

<li><a name="option_mysqladmin_show-warnings"></a>
<a href="#option_mysqladmin_show-warnings"><code>
--show-warnings</code></a></p>
<p>Покажите предупреждения, следующие из выполнения
запросов, посланных серверу.</li>

<li><a name="option_mysqladmin_secure-auth"></a>
<a href="#option_mysqladmin_secure-auth"><code>--secure-auth
</code></a></p>

<p>Не посылайте пароли в сервер в старом формате (pre-4.1).
Это блокирует соединения за исключением серверов, которые используют более
новый формат пароля.</p>

<p>Эта опция устарела. Это всегда включается и попытка отключить это
(<a href="#option_mysqladmin_secure-auth"><code>
--skip-secure-auth</code></a>,
<a href="#option_mysqladmin_secure-auth"><code>--secure-auth=0
</code></a>) всегда производит ошибку.</p>

<p>Пароли, которые используют хэш pre-4.1, менее безопасны, чем пароли,
которые используют родной метод хеширующего пароля и должны исключаться.
Пароли Pre-4.1 устарели, и поддержка их была удалена.</p></li>

<li><p><a name="option_mysqladmin_shared-memory-base-name"></a>
<a href="#option_mysqladmin_shared-memory-base-name"><code>
--shared-memory-base-name=<em><code>name</code></em></code></a></p>

<p>В Windows имя совместно используемой памяти для соединений, сделанных,
используя совместно используемую память для локального сервера. Значение по
умолчанию <code>MYSQL</code>. Имя совместно используемой памяти
является чувствительным к регистру.</p>

<p>Сервер должен быть запущен с опцией
<a href="server.htm#option_mysqld_shared-memory"><code>
--shared-memory</code></a>, чтобы включить соединения
совместно используемой памяти.</li>

<li><a name="option_mysqladmin_silent"></a>
<a href="#option_mysqladmin_silent"><code>--silent</code></a>,
<code>-s</code></p>
<p>Выйти тихо, если соединение с сервером не может быть установлено.</li>

<li><a name="option_mysqladmin_sleep"></a>
<a href="#option_mysqladmin_sleep"><code>
--sleep=<em><code>delay</code></em></code></a>,
<code>-i <em><code>delay</code></em></code></p>

<p>Выполняйте команды неоднократно, засыпая на
<em><code>delay</code></em> секунд между циклами. Опция
<a href="#option_mysqladmin_count"><code>--count</code></a>
определяет число итераций. Если
<a href="#option_mysqladmin_count"><code>--count</code></a>
не дан, <a href="#mysqladmin"><span><strong>mysqladmin</strong>
</span></a> выполняет команды пока не будет прерван.</li>

<li><a name="option_mysqladmin_socket"></a>
<a href="#option_mysqladmin_socket"><code>
--socket=<em><code>path</code></em></code></a>,
<code>-S <em><code>path</code></em></code></p>
<p>Для соединений с <code>localhost</code> файл сокета Unix или в
Windows имя канала.</li>

<li><a name="option_mysqladmin_ssl"></a><code>--ssl*</code></p>
<p>Опции, которые начинаются с
<a href="security.htm#option_general_ssl"><code>--ssl</code></a>,
определяют, соединиться ли с сервером, используя SSL, и указывают, где найти
ключи и сертификаты SSL. См.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysqladmin_tls-version"></a>
<a href="#option_mysqladmin_tls-version"><code>
--tls-version=<em><code>protocol_list</code></em></code></a></p>

<p>Протоколы, разрешенные клиентом для зашифрованных соединений.
Значение это список разделенных запятой значений, содержащий одно или более
имен протокола. Протоколы, которые могут быть названы по имени в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL.
Для деталей см. <a href="security.htm#secure-connection-protocols-ciphers">
раздел 7.4.3</a>.</li>

<li><a name="option_mysqladmin_user"></a>
<a href="#option_mysqladmin_user"><code>
--user=<em><code>user_name</code></em></code></a>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером.</li>

<li><a name="option_mysqladmin_verbose"></a>
<a href="#option_mysqladmin_verbose"><code>--verbose</code></a>,
<code>-v</code></p>
<p>Подробный режим. Напечатать больше информации о том,
что делает программа.</li>

<li><a name="option_mysqladmin_version"></a>
<a href="#option_mysqladmin_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Отобразить информацию о версии.</li>

<li><a name="option_mysqladmin_vertical"></a>
<a href="#option_mysqladmin_vertical"><code>--vertical</code>
</a>, <code>-E</code></p>

<p>Вывод вертикально. Это подобно опции
<a href="#option_mysqladmin_relative"><code>--relative</code>
</a>, но вывод печатается вертикально.</li>

<li><a name="option_mysqladmin_wait"></a>
<a href="#option_mysqladmin_wait"><code>
--wait[=<em><code>count</code></em>]</code></a>,
<code>-w[<em><code>count</code></em>]</code></p>

<p>Если соединение не может быть установлено, ждать и повторить вместо
прерывания. Если значение <em><code>count</code></em> дано, оно указывает
число раз, сколько повторить. Значение по умолчанию: однократно.
</p></li></ul>

<p>Вы можете также установить следующие переменные при использовании
<code>--<em><code>var_name</code></em>=<em><code>value</code></em></code>.
</p>
<ul><li><p><a name="option_mysqladmin_connect_timeout"></a>
<code>connect_timeout</code></p>
<p>Максимальное количество секунд перед тайм-аутом соединения.
Значение по умолчанию 43200 (12 часов).</li>

<li><a name="option_mysqladmin_shutdown_timeout"></a>
<code>shutdown_timeout</code></p>
<p>Максимальное количество секунд, чтобы ждать завершения работы сервера.
Значение по умолчанию 3600 (1 час).</p></li></ul>

<h3><a name="mysqlcheck"></a>5.5.3. <span><strong>mysqlcheck</strong></span>
табличная программа обслуживания</h3>
<p><a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> выполняет табличное обслуживание: это проверяет, восстанавливает,
оптимизирует или анализирует таблицы.</p>

<p>Каждая таблица заблокирована и поэтому недоступна другим сеансам в то
время, как она обрабатывается, хотя для операций проверки таблица
заблокирована только с блокировкой <code>READ</code> (см.
<a href="sql.htm#lock-tables">раздел 14.3.5</a>).
Табличные операции обслуживания могут быть отнимающими много времени,
особенно для больших таблиц. Если Вы используете опцию
<a href="#option_mysqlcheck_databases"><code>--databases</code>
</a> или <a href="#option_mysqlcheck_all-databases"><code>
--all-databases</code></a>, чтобы обработать все таблицы в одной или более
базах данных, вызов <a href="#mysqlcheck"><span><strong>
mysqlcheck</strong></span></a> может занять много времени. Это также истина
для <a href="#mysql-upgrade"><span><strong>mysql_upgrade</strong>
</span></a>, потому что эта программа вызывает
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a>, чтобы проверить все таблицы и восстановить их в случае необходимости.
</p>

<p><a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> подобен в функциональности <a href="#myisamchk"><span>
<strong>myisamchk</strong></span></a>, но работает по-другому. Основное
операционное различие в том, что <a href="#mysqlcheck"><span>
<strong>mysqlcheck</strong></span></a> должен использоваться, когда
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
работает, тогда как <a href="#myisamchk"><span><strong>myisamchk
</strong></span></a> должен использоваться, когда это не так. Выгода от
использования <a href="#mysqlcheck"><span><strong>mysqlcheck
</strong></span></a> в том, что Вы не должны остановить сервер, чтобы
выполнить табличное обслуживание.</p>

<p><a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> использует запросы SQL
<a href="sql.htm#check-table"><code>CHECK TABLE</code></a>,
<a href="sql.htm#repair-table"><code>REPAIR TABLE</code></a>,
<a href="sql.htm#analyze-table"><code>ANALYZE TABLE</code></a> и
<a href="sql.htm#optimize-table"><code>OPTIMIZE TABLE</code></a>
удобным для пользователя способом. Это определяет, какие запросы использовать
Вы хотите выполнить, а затем посылает запросы серверу, который будет
их выполнять. Для деталей о механизмах хранения см. описания этих запросов в
<a href="sql.htm#table-maintenance-sql">разделе 14.7.2</a>.</p>

<p>Механизм хранения <code>MyISAM</code> поддерживает все четыре операции
обслуживания, таким образом <a href="#mysqlcheck"><span><strong>
mysqlcheck</strong></span></a> может использоваться, чтобы выполнить любую из
них на таблицах <code>MyISAM</code>. Другие механизмы хранения не обязательно
поддерживают все операции. В таких случаях на экран будет выведено сообщение
об ошибке. Например, если <code>test.t</code> является таблицей типа
<code>MEMORY</code>, попытка проверить это приводит к этому результату:
<pre>
shell&gt; mysqlcheck test t
test.t
note: The storage engine for the table doesn't support check
</pre>

Если <a href="#mysqlcheck"><span><strong>mysqlcheck</strong>
</span></a> не способен восстановить таблицу, см.
<a href="install.htm#rebuilding-tables">раздел 2.10.4</a>.
Это будет иметь место, например, для таблиц <code>InnoDB</code>,
которые можно проверить <a href="sql.htm#check-table"><code>CHECK TABLE
</code></a>, но не починить их <a href="sql.htm#repair-table"><code>
REPAIR TABLE</code></a>.</p>

<p>Лучше делать резервное копирование таблицы прежде, чем выполнить работу
ремонта таблицы, при некоторых обстоятельствах работа могла бы вызвать потерю
данных. Возможные причины включают, но не ограничены
ошибками файловой системы.</p>

<p>Есть три общих способа вызвать
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a>:
<pre>
shell&gt; mysqlcheck [<em><code>options</code></em>] <em><code>db_name</code></em>
                     [<em><code>tbl_name</code></em> ...]
shell&gt; mysqlcheck [<em><code>options</code></em>] --databases <em><code>db_name</code></em> ...
shell&gt; mysqlcheck [<em><code>options</code></em>] --all-databases
</pre>

Если Вы не называете таблиц после <em><code>db_name</code></em>
или если Вы используете <a href="#option_mysqlcheck_databases">
<code>--databases</code></a> или
<a href="#option_mysqlcheck_all-databases"><code>--all-databases
</code></a>, все базы данных проверены.</p>

<p>У <a href="#mysqlcheck"><span><strong>mysqlcheck</strong>
</span></a> есть специальная функция по сравнению с другими программами
клиента. Поведение значения по умолчанию проверки таблиц
(<a href="#option_mysqlcheck_check"><code>--check</code></a>)
может быть изменено, переименовывая исполняемый модуль.
Если Вы хотите иметь инструмент, который восстанавливает таблицы по
умолчанию, Вы должны только сделать копию
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> под именем <span><strong>mysqlrepair</strong></span>
или сделать символическую ссылку к
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> под именем <span><strong>mysqlrepair</strong></span>. Если Вы вызываете
<span><strong>mysqlrepair</strong></span>, это восстанавливает таблицы.</p>

<p>Имена, показанные в следующей таблице, могут использоваться, чтобы
изменить логику действий <a href="#mysqlcheck"><span><strong>
mysqlcheck</strong></span></a>.</p>

<table border="1">
<thead><tr><th scope="col">Команда</th><th scope="col">Смысл</th></tr></thead>
<tbody><tr><td scope="row"><span><strong>mysqlrepair</strong></span></td><td>
Опция по умолчанию <a href="#option_mysqlcheck_repair"><code>
--repair</code></a></td></tr>
<tr><td scope="row"><span><strong>mysqlanalyze</strong></span></td><td>
Опция по умолчанию <a href="#option_mysqlcheck_analyze"><code>
--analyze</code></a></td></tr>
<tr><td scope="row"><span><strong>mysqloptimize</strong></span></td><td>
Опция по умолчанию <a href="#option_mysqlcheck_optimize">
<code>--optimize</code></a></td></tr></tbody></table>

<p><a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> поддерживает следующие опции, которые могут быть определены в командной
строке или в группах <code>[mysqlcheck]</code> и <code>[client]</code>
файла опции. Для информации о файлах опции, используемых программами MySQL,
см. <a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965414137008"></a><p><b>Таблица 5.10. Опции
<code>mysqlcheck</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row"><a href="#option_mysqlcheck_all-databases">
--all-databases</a></td><td>Проверить все таблицы во всех базах данных
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_all-in-1">
--all-in-1</a></td><td>Выполнить единственный запрос для каждой базы данных,
который называет все таблицы этой базы данных</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_analyze">
--analyze</a></td><td>Проанализируйте таблицы</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_auto-repair">
--auto-repair</a></td><td>Если проверенная таблица
повреждена, автоматически восстановить</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_bind-address">
--bind-address</a></td><td>Используйте определенный сетевой интерфейс, чтобы
соединиться с MySQL Server</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_character-sets-dir">
--character-sets-dir</a></td><td>Каталог, где наборы символов установлены
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_check">--check
</a></td><td>Проверьте таблицы на ошибки</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_check-only-changed">
--check-only-changed</a></td><td>Проверка только таблиц, которые изменились,
начиная с последней проверки</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_check-upgrade">
--check-upgrade</a></td><td>Вызовите CHECK TABLE с опцией FOR UPGRADE
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_compress">
--compress</a></td><td>Сжать всю информацию, посланную
между клиентом и сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_databases">
--databases</a></td><td>Интерпретируйте все параметры как имена базы данных
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_debug">--debug
</a></td><td>Писать журнал отладки</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_debug-check">
--debug-check</a></td><td>Информация об отладке, когда программа выходит
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_debug-info">
--debug-info</a></td><td>Информация об отладке, памяти и статистика
центрального процессора, когда программа выходит</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_default-auth">
--default-auth</a></td><td>Плагин аутентификации, чтобы использовать</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_default-character-set">
--default-character-set</a></td><td>Определите набор символов по умолчанию
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать этот файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_enable-cleartext-plugin">
--enable-cleartext-plugin</a></td><td>
Включить плагин аутентификации открытого текста</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_extended">
--extended</a></td><td>Проверьте и восстановите таблицы</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_fast">--fast</a>
</td><td>Проверка только таблиц, которые не были закрыты должным образом
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_force">--force
</a></td><td>Продолжите, даже если ошибка SQL происходит</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_help">--help</a>
</td><td>Отобразить справку и выйти</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_host">--host</a>
</td><td>Соединитесь с сервером MySQL на данном хосте</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_login-path">
--login-path</a></td><td>Читать опции пути входа в систему из .mylogin.cnf
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_medium-check">
--medium-check</a></td><td>Сделайте проверку, которая
быстрее, чем --extended</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_no-defaults">
--no-defaults</a></td><td>Не читать файлы опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_optimize">
--optimize</a></td><td>Оптимизируйте таблицы</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_password">
--password</a></td><td>Пароль, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_pipe">--pipe</a>
</td><td>В Windows соединитесь с сервером, используя именованный канал
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_port">--port</a>
</td><td>Номер порта TCP/IP, чтобы использовать для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_print-defaults">
--print-defaults</a></td><td>Напечатайте опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_protocol">
--protocol</a></td><td>Протокол соединения, чтобы использовать</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_quick">--quick
</a></td><td>Самый быстрый метод проверки</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_repair">--repair
</a></td><td>Выполните ремонт, который может восстановить почти все, кроме
уникальных ключей, которые не уникальны</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_secure-auth">
--secure-auth</a></td><td>Не посылайте пароли серверу в
старом формате (pre-4.1)</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_shared-memory-base-name">
--shared-memory-base-name</a></td><td>Название совместно используемой памяти,
чтобы использовать для соединений совместно используемой памяти</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_silent">--silent
</a></td><td>Тихий режим</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_skip-database">
--skip-database</a></td><td>Пропустите эту базу
данных в выполняемых операциях</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_socket">--socket
</a></td><td>Для соединений с localhost, файл сокета Unix</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_ssl">--ssl-ca</a>
</td><td>Путь к файлу, который содержит список доверенных SSL CA</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_ssl">--ssl-capath
</a></td><td>Путь к каталогу, который содержит доверенные сертиифкаты SSL
CA в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_ssl">--ssl-cert
</a></td><td>Путь к файлу, который содержит сертификат X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_ssl">--ssl-cipher
</a></td><td>Список разрешенных шифров, чтобы использовать
для шифрования соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_ssl">--ssl-crl
</a></td><td>Путь к файлу, который содержит списки аннулирования сертификатов
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_ssl">
--ssl-crlpath</a></td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_ssl">--ssl-key
</a></td><td>Путь к файлу, который содержит ключ X509 в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_ssl">--ssl-mode
</a></td><td>Статус безопасности соединения с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_tables">--tables
</a></td><td>Переопределение опции --databases или -B</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_tls-version">
--tls-version</a></td><td>Протоколы, разрешенные для безопасных соединений
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_use-frm">
--use-frm</a></td><td>Для операций ремонта на таблицах MyISAM</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_user">--user</a>
</td><td>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_verbose">
--verbose</a></td><td>Подробный режим</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_version">
--version</a></td><td>Информация о версии и выход</td></tr>
<tr><td scope="row"><a href="#option_mysqlcheck_write-binlog">
--write-binlog</a></td><td>Журналировать запросы ANALYZE, OPTIMIZE, REPAIR
в двоичный журнал. --skip-write-binlog добавляет
NO_WRITE_TO_BINLOG к этим запросам.</td></tr></tbody></table>

<ul><li><p><a name="option_mysqlcheck_help"></a>
<a href="#option_mysqlcheck_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить справку и выйти.</li>

<li><a name="option_mysqlcheck_all-databases"></a>
<a href="#option_mysqlcheck_all-databases"><code>
--all-databases</code></a>, <code>-A</code></p>

<p>Проверьте все таблицы во всех базах данных. Это то же самое, как
использование <a href="#option_mysqlcheck_databases"><code>
--databases</code></a> с перечислением всех
баз данных в командной строке, за исключением того, что
<code>INFORMATION_SCHEMA</code> и <code>performace_schema</code>
не проверены. Они могут быть явно проверены, называя их в опции
<a href="#option_mysqlcheck_databases"><code>--databases</code>
</a>.</li>

<li><a name="option_mysqlcheck_all-in-1"></a>
<a href="#option_mysqlcheck_all-in-1"><code>
--all-in-1</code></a>, <code>-1</code></p>

<p>Вместо того, чтобы делать запрос для каждой таблицы, выполните
единственный для каждой базы данных, которая называет все таблицы той базы
данных, которая будет обработана.</li>

<li><a name="option_mysqlcheck_analyze"></a>
<a href="#option_mysqlcheck_analyze"><code>--analyze</code></a>,
<code>-a</code></p>
<p>Проанализируйте указанные таблицы.</li>

<li><a name="option_mysqlcheck_auto-repair"></a>
<a href="#option_mysqlcheck_auto-repair"><code>
--auto-repair</code></a></p>
<p>Если проверенная таблица повреждена, автоматически восстановите ее.
Любой необходимый ремонт сделан после того, как все таблицы были проверены.
</li>

<li><a name="option_mysqlcheck_bind-address"></a>
<a href="#option_mysqlcheck_bind-address"><code>
--bind-address=<em><code>ip_address</code></em></code></a></p>

<p>На компьютере, имеющем многократные сетевые интерфейсы, используйте эту
опцию, чтобы выбрать который интерфейс использовать для того, чтобы
соединиться с сервером MySQL.</li>

<li><a name="option_mysqlcheck_character-sets-dir"></a>
<a href="#option_mysqlcheck_character-sets-dir"><code>
--character-sets-dir=<em><code>dir_name</code></em></code></a></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysqlcheck_check"></a>
<a href="#option_mysqlcheck_check"><code>--check</code></a>,
<code>-c</code></p>
<p>Проверьте таблицы на ошибки. Это работа по умолчанию.</li>

<li><a name="option_mysqlcheck_check-only-changed"></a>
<a href="#option_mysqlcheck_check-only-changed"><code>
--check-only-changed</code></a>, <code>-C</code></p>
<p>Проверка только таблиц, которые изменились, начиная с последней проверки
или не были закрыты должным образом.</li>

<li><a name="option_mysqlcheck_check-upgrade"></a>
<a href="#option_mysqlcheck_check-upgrade"><code>
--check-upgrade</code></a>, <code>-g</code></p>

<p>Вызов <a href="sql.htm#check-table"><code>CHECK TABLE</code></a> с опцией
<code>FOR UPGRADE</code>, чтобы проверить таблицы на несовместимости с
текущей версией сервера.</li>

<li><a name="option_mysqlcheck_compress"></a>
<a href="#option_mysqlcheck_compress"><code>--compress</code></a>
</p>
<p>Сжать всю информацию, посланную между клиентом и сервером.</li>

<li><a name="option_mysqlcheck_databases"></a>
<a href="#option_mysqlcheck_databases"><code>
--databases</code></a>, <code>-B</code></p>

<p>Обработайте все таблицы в названных базах данных. Обычно
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> обрабатывает параметр имени в командной строке как имя базы данных и
любые последующие имена как имена таблиц. С этой опцией это обрабатывает
все параметры имени как имена баз данных.</li>

<li><a name="option_mysqlcheck_debug"></a>
<a href="#option_mysqlcheck_debug"><code>
--debug[=<em><code>debug_options</code></em>]</code></a>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Писать журнал отладки. Типичная строка <em><code>debug_options</code></em>
<code>d:t:o,<em><code>file_name</code></em></code>. По умолчанию это
<code>d:t:o</code>.</li>

<li><a name="option_mysqlcheck_debug-check"></a>
<a href="#option_mysqlcheck_debug-check"><code>
--debug-check</code></a></p>
<p>Напечатайте некоторую информацию об отладке, когда программа выходит.</li>

<li><a name="option_mysqlcheck_debug-info"></a>
<a href="#option_mysqlcheck_debug-info"><code>
--debug-info</code></a></p>
<p>Информация об отладке, памяти и статистика использования центрального
процессора, когда программа выходит.</li>

<li><a name="option_mysqlcheck_default-character-set"></a>
<a href="#option_mysqlcheck_default-character-set"><code>
--default-character-set=<em><code>charset_name</code></em></code></a></p>
<p>Использовать <em><code>charset_name</code></em> как набор символов
по умолчанию. См. <a href="global.htm#charset-configuration">раздел 11.5</a>.
</li>

<li><a name="option_mysqlcheck_defaults-extra-file"></a>
<a href="#option_mysqlcheck_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Читать этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как
относительный путь, а не полный.</li>

<li><a name="option_mysqlcheck_defaults-file"></a>
<a href="#option_mysqlcheck_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как
относительный путь, а не полный.</p>

<p>Исключение: Даже с опцией
<a href="#option_general_defaults-file"><code>--defaults-file
</code></a> программы клиента читают <code>.mylogin.cnf</code>.</li>

<li><a name="option_mysqlcheck_defaults-group-suffix"></a>
<a href="#option_mysqlcheck_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читайте не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> обычно читает группы <code>[client]</code> и <code>[mysqlcheck]</code>.
Если дана опция
<a href="#option_mysqlcheck_defaults-group-suffix"><code>
--defaults-group-suffix=_other</code></a>,
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> также читает группы <code>[client_other]</code> и
<code>[mysqlcheck_other]</code>.</li>

<li><a name="option_mysqlcheck_extended"></a>
<a href="#option_mysqlcheck_extended"><code>--extended</code>
</a>, <code>-e</code></p>
<p>Если Вы используете эту опцию, чтобы проверить таблицы, она гарантирует,
что они на 100% последовательны, но занимает много времени.</p>

<p>Если Вы используете эту опцию, чтобы восстановить таблицы, она выполняет
расширенный ремонт, который может не только занять много времени,
но может произвести много строк мусора!</li>

<li><a name="option_mysqlcheck_default-auth"></a>
<a href="#option_mysqlcheck_default-auth"><code>
--default-auth=<em><code>plugin</code></em></code></a></p>
<p>Подсказка о клиентском плагине аутентификации, см.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqlcheck_enable-cleartext-plugin"></a>
<a href="#option_mysqlcheck_enable-cleartext-plugin"><code>
--enable-cleartext-plugin</code></a></p>
<p>Включите плагин аутентификации открытого текста
<code>mysql_clear_password</code>, см.
<a href="security.htm#cleartext-authentication-plugin">раздел 7.5.1.4</a>.
</li>

<li><a name="option_mysqlcheck_fast"></a>
<a href="#option_mysqlcheck_fast"><code>--fast</code></a>,
<code>-F</code></p>
<p>Проверка только таблиц, которые не были закрыты должным образом.</li>

<li><a name="option_mysqlcheck_force"></a>
<a href="#option_mysqlcheck_force"><code>--force</code></a>,
<code>-f</code></p>
<p>Продолжите, даже если ошибка SQL происходит.</li>

<li><a name="option_mysqlcheck_host"></a>
<a href="#option_mysqlcheck_host"><code>
--host=<em><code>host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Соединитесь с сервером MySQL на данном хосте.</li>

<li><a name="option_mysqlcheck_login-path"></a>
<a href="#option_mysqlcheck_login-path"><code>
--login-path=<em><code>name</code></em></code></a></p>

<p>Читайте опции из названного пути входа в систему в
<code>.mylogin.cnf</code>. <span><span>login path</span></span>
является группой опции, содержащей опции, которые определяют, с каким
сервером MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysqlcheck_medium-check"></a>
<a href="#option_mysqlcheck_medium-check"><code>
--medium-check</code></a>, <code>-m</code></p>

<p>Сделайте проверку, которая быстрее
<a href="#option_mysqlcheck_extended"><code>--extended</code>
</a>. Это находит только 99.99% всех ошибок, что должно быть достаточно
хорошо в большинстве случаев.</li>

<li><a name="option_mysqlcheck_no-defaults"></a>
<a href="#option_mysqlcheck_no-defaults"><code>
--no-defaults</code></a></p>

<p>Не читайте файлы опции. Если запуск программы терпит неудачу из-за
чтения неизвестных опций из файла опции,
<a href="#option_mysqlcheck_no-defaults"><code>--no-defaults
</code></a> может использоваться, чтобы препятствовать тому, чтобы
они были считаны.</p>

<p>Исключение: файл <code>.mylogin.cnf</code>, если это существует, считан во
всех случаях. Это разрешает паролям быть определенными более безопасным
способом, чем в командной строке даже когда есть опция
<a href="#option_mysqlcheck_no-defaults"><code>--no-defaults
</code></a>. <code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysqlcheck_optimize"></a>
<a href="#option_mysqlcheck_optimize"><code>--optimize</code>
</a>, <code>-o</code></p>
<p>Оптимизируйте заданные таблицы.</li>

<li><a name="option_mysqlcheck_password"></a>
<a href="#option_mysqlcheck_password"><code>
--password[=<em><code>password</code></em>]</code></a>,
<code>-p[<em><code>password</code></em>]</code></p>

<p>Пароль, чтобы использовать, соединяясь с сервером. Если Вы используете
короткую форму опции (<code>-p</code>), Вы <span><em>не можете</em></span>
иметь пробелы между опцией и паролем. Если Вы опускаете
<em><code>password</code></em> после
<a href="#option_mysqlcheck_password"><code>--password</code></a>
или <code>-p</code> в командной строке,
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> запросит пароль явно.</p>

<p>Определение пароля в командной строке нужно считать опасным, см.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.
Вы можете использовать файл опции, чтобы избежать указания
пароля в командной строке.</li>

<li><a name="option_mysqlcheck_pipe"></a>
<a href="#option_mysqlcheck_pipe"><code>--pipe</code></a>,
<code>-W</code></p>

<p>В Windows соединитесь с сервером, используя именованный канал.
Эта опция применяется, только если сервер поддерживает
соединения именованного канала.</li>

<li><a name="option_mysqlcheck_plugin-dir"></a>
<a href="#option_mysqlcheck_plugin-dir"><code>
--plugin-dir=<em><code>dir_name</code></em></code></a></p>

<p>Каталог, в котором можно искать плагины. Определите эту опцию, если
используется опция <a href="#option_mysqlcheck_default-auth">
<code>--default-auth</code></a>, чтобы определить плагин аутентификации, но
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> его не нашел, см.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqlcheck_port"></a>
<a href="#option_mysqlcheck_port"><code>
--port=<em><code>port_num</code></em></code></a>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для соединения.</li>

<li><a name="option_mysqlcheck_print-defaults"></a>
<a href="#option_mysqlcheck_print-defaults"><code>
--print-defaults</code></a></p>
<p>Печатать название программы и все опции, которые это получает
от файлов опции.</li>

<li><a name="option_mysqlcheck_protocol"></a>
<a href="#option_mysqlcheck_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Протокол соединения, чтобы использовать для того, чтобы соединиться с
сервером. Полезно, когда другие параметры соединения обычно заставляли бы
использовать не тот протокол. Для деталей о допустимых значениях см.
<a href="#connecting">раздел 5.2.2</a>.</li>

<li><a name="option_mysqlcheck_quick"></a>
<a href="#option_mysqlcheck_quick"><code>--quick</code></a>,
<code>-q</code></p>

<p>Если Вы используете эту опцию, чтобы проверить таблицы, она препятствует
тому, чтобы проверка просмотрела строки, чтобы проверить на неправильные
ссылки. Это самый быстрый метод проверки.</p>
<p>Если Вы используете эту опцию, чтобы восстановить таблицы, она пытается
восстановить только индексное дерево. Это самый быстрый метод ремонта.</li>

<li><a name="option_mysqlcheck_repair"></a>
<a href="#option_mysqlcheck_repair"><code>--repair</code></a>,
<code>-r</code></p>
<p>Выполните ремонт, который может восстановить почти все,
кроме уникальных ключей, которые ТЕПЕРЬ не уникальны.</li>

<li><a name="option_mysqlcheck_secure-auth"></a>
<a href="#option_mysqlcheck_secure-auth"><code>
--secure-auth</code></a></p>

<p>Не посылайте пароли в старом формате (pre-4.1).
Это блокирует соединения за исключением серверов, которые используют более
новый формат пароля.</p>

<p>Эта опция устарела. Это всегда включается и попытка выключения
(<a href="#option_mysqlcheck_secure-auth"><code>
--skip-secure-auth</code></a>,
<a href="#option_mysqlcheck_secure-auth"><code>--secure-auth=0
</code></a>) производит ошибку авторизации.</p>

<p>Пароли, которые используют хэш pre-4.1, менее безопасны, чем пароли,
которые используют родной метод хеширования пароля. Пароли Pre-4.1 устарели.
</p></li>

<li><p><a name="option_mysqlcheck_shared-memory-base-name"></a>
<a href="#option_mysqlcheck_shared-memory-base-name"><code>
--shared-memory-base-name=<em><code>name</code></em></code></a></p>

<p>В Windows имя совместно используемой памяти для соединений,
сделанных, используя совместно используемую память для локального сервера.
Значение по умолчанию <code>MYSQL</code>. Имя совместно используемой памяти
является чувствительным к регистру.</p>

<p>Сервер должен быть запущен с опцией
<a href="server.htm#option_mysqld_shared-memory"><code>--shared-memory</code>
</a>.</li>

<li><a name="option_mysqlcheck_silent"></a>
<a href="#option_mysqlcheck_silent"><code>--silent</code></a>,
<code>-s</code></p>
<p>Тихий режим. Напечатать только сообщения об ошибках.</li>

<li><a name="option_mysqlcheck_skip-database"></a>
<a href="#option_mysqlcheck_skip-database"><code>
--skip-database=<em><code>db_name</code></em></code></a></p>
<p>Не включайте названную базу данных (имя чувствительно к регистру) в
операции, выполненные <a href="#mysqlcheck"><span><strong>
mysqlcheck</strong></span></a>.</li>

<li><a name="option_mysqlcheck_socket"></a>
<a href="#option_mysqlcheck_socket"><code>
--socket=<em><code>path</code></em></code></a>,
<code>-S <em><code>path</code></em></code></p>
<p>Для соединений с <code>localhost</code>, файл сокета Unix, чтобы
использовать, или в Windows имя именованного канала.</li>

<li><a name="option_mysqlcheck_ssl"></a><code>--ssl*</code></p>
<p>Опции, которые начинаются с <code>--ssl</code>,
определяют, соединиться ли с сервером, используя SSL, и указывают, где найти
ключи SSL и сертификаты, см.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysqlcheck_tables"></a>
<a href="#option_mysqlcheck_tables"><code>--tables</code></a></p>
<p>Переопределить опции <a href="#option_mysqlcheck_databases">
<code>--databases</code></a> или <code>-B</code>.
Все параметры имени после опции расценены как имена таблиц.</li>

<li><a name="option_mysqlcheck_tls-version"></a>
<a href="#option_mysqlcheck_tls-version"><code>
--tls-version=<em><code>protocol_list</code></em></code></a></p>

<p>Протоколы, разрешенные клиентом для зашифрованных соединений.
Значение: список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы по имени в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL.
Для деталей см. <a href="security.htm#secure-connection-protocols-ciphers">
раздел 7.4.3</a>.</li>

<li><a name="option_mysqlcheck_use-frm"></a>
<a href="#option_mysqlcheck_use-frm"><code>--use-frm</code></a>
</p>
<p>Для операций ремонта на <code>MyISAM</code> получите структуру таблицы из
словаря данных так, чтобы таблица могла быть восстановлена, даже если файл
звголовка <code>.MYI</code> поврежден.</li>

<li><a name="option_mysqlcheck_user"></a>
<a href="#option_mysqlcheck_user"><code>
--user=<em><code>user_name</code></em></code></a>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером.</li>

<li><a name="option_mysqlcheck_verbose"></a>
<a href="#option_mysqlcheck_verbose"><code>--verbose</code></a>,
<code>-v</code></p>
<p>Подробный режим. Информация о различных этапах работы программы.</li>

<li><a name="option_mysqlcheck_version"></a>
<a href="#option_mysqlcheck_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Отобразить информацию о версии.</li>

<li><a name="option_mysqlcheck_write-binlog"></a>
<a href="#option_mysqlcheck_write-binlog"><code>
--write-binlog</code></a></p>
<p>Эта опция включена по умолчанию, чтобы
<a href="sql.htm#analyze-table"><code>ANALYZE TABLE</code></a>,
<a href="sql.htm#optimize-table"><code>OPTIMIZE TABLE</code></a> и
<a href="sql.htm#repair-table"><code>REPAIR TABLE</code></a>, произведенные
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a>, записаны в двоичный журнал. Используйте
<a href="#option_mysqlcheck_write-binlog"><code>
--skip-write-binlog</code></a>, чтобы добавить
<code>NO_WRITE_TO_BINLOG</code> к запросам так, чтобы они не
были зарегистрированы. Используйте
<a href="#option_mysqlcheck_write-binlog"><code>
--skip-write-binlog</code></a>, когда эти запросы нельзя послать в ведомые
устройства репликации или выполнить, используя двоичные журналы для
восстановления после резервного копирования.</p></li></ul>

<h3><a name="mysqldump"></a>5.5.4. <span><strong>mysqldump</strong></span>
Резервная программа базы данных</h3>
<p><a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a> выполняет <a href="glossary.htm#glos_logical_backup">
логические резервные копии</a>, производя ряд запросов SQL, которые могут
быть выполнены, чтобы воспроизвести оригинальные определения объекта базы
данных и табличные данные. Это выводит одну или более баз данных MySQL для
резервного копирования или передачи в другой SQL-сервер.
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
может также произвести вывод в CSV, другом разграниченном тексте
или формате XML.</p>

<p><a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a> требует, по крайней мере, привилегию
<a href="security.htm#priv_select"><code>SELECT</code></a> для выводимых
таблиц, <a href="security.htm#priv_show-view"><code>SHOW VIEW</code></a>
для вывода представлений, <a href="security.htm#priv_trigger"><code>TRIGGER
</code></a> для резервирования триггеров и
<a href="security.htm#priv_lock-tables"><code>LOCK TABLES</code></a>, если
не используется опция
<a href="#option_mysqldump_single-transaction"><code>
--single-transaction</code></a>. Определенные опции могли бы потребовать
других привилегий как отмечено в описаниях опции.</p>

<p>Чтобы перезагрузить файл дампа, Вам нужны привилегии, чтобы выполнить
запросы, которые это содержит, такие как соответствующее привилегии
<code>CREATE</code> для объектов, которые будут созданы теми запросами.</p>

<p>Вывод <a href="#mysqldump"><span><strong>mysqldump</strong>
</span></a> может включать запросы <a href="sql.htm#alter-database"><code>
ALTER DATABASE</code></a>, которые изменяют сопоставление базы данных. Они
могут использоваться, когда дамп сохранил кодировки символов.
Чтобы перезагружать файл дампа, содержащий такие запросы, нужна
привилегия <code>ALTER</code> для затронутой базы данных.</p>

<p>Дамп, сделанный, используя PowerShell в Windows с выходным
перенаправлением, создает файл, у которого есть кодирование UTF-16:
<pre>
shell&gt; mysqldump [options] &gt; dump.sql
</pre>

Но UTF-16 не разрешен как набор символов соединения (см.
<a href="global.htm#charset-connection">раздел 11.1.4</a>),
таким образом, файл дампа не будет загружаться правильно. Чтобы обойти эту
проблему, используйте опцию <code>--result-file</code>,
которая создает вывод в формате ASCII:
<pre>
shell&gt; mysqldump [options] --result-file=dump.sql
</pre>

<h4><a name="mysqldump-performance"></a>Работа и соображения масштабируемости
</h4>
<p><code>mysqldump</code> включают удобство и гибкость рассмотрения или даже
редактирования вывода перед восстановлением. Вы можете клонировать базы
данных для развития и работы DBA или произвести небольшие изменения
существующей базы данных для того, чтобы проверить. Это не быстрое или
масштабируемое решение для того, чтобы поддержать значительное количество
данных. С большими размерами данных, даже если резервный шаг занимает
соответствующее время, восстановление данных может быть очень медленным,
потому что переигрывание запросов SQL вовлекает дисковый ввод/вывод для
вставки, построения индексов и так далее.</p>

<p>Для крупномасштабного резервного копирования и восстановления
<a href="glossary.htm#glos_physical">физическое</a> резервное копирование
является более соответствующим, чтобы скопировать файлы с данными в их
оригинальном формате, который может быть восстановлен быстро:</p>

<ul><li><p>Если Ваши таблицы прежде всего <code>InnoDB</code>
или если у Вас есть смесь <code>InnoDB</code> и <code>MyISAM</code>,
рассмотрите использование <span><strong>mysqlbackup</strong></span> из
MySQL Enterprise Backup (доступно как часть подписки Enterprise).
Это обеспечивает лучшую работу для <code>InnoDB</code> с минимальным
разрушением, это может также поддержать таблицы <code>MyISAM</code>
и другие механизмы хранения, это предоставляет много удобных возможностей
приспосабливать различные резервные скрипты. См.
<a href="mysql.htm#mysql-enterprise-backup">раздел 27.2</a>.</p></li></ul>

<p><a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a> может получить и вывести табличное содержание построчно
или это может получить весь контент таблицы и буферизовать его в памяти
прежде, чем вывести. Буферизация в памяти может быть проблемой, если Вы
выводите большие таблицы. Чтобы вывести таблицу построчно, используйте опцию
<a href="#option_mysqldump_quick"><code>--quick</code></a> (или
<a href="#option_mysqldump_opt"><code>--opt</code></a>,
которая включает <a href="#option_mysqldump_quick"><code>--quick
</code></a>). Опция <a href="#option_mysqldump_opt"><code>--opt
</code></a> (и <a href="#option_mysqldump_quick"><code>--quick
</code></a>) включена по умолчанию, так что, чтобы включить буферизацию в
памяти, надо использовать <a href="#option_mysqldump_quick">
<code>--skip-quick</code></a>.</p>

<p>Если Вы используете недавнюю версию
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>,
чтобы произвести дамп, который будет перезагружен в очень старый сервер
MySQL, используйте <a href="#option_mysqldump_skip-opt"><code>
--skip-opt</code></a> вместо <a href="#option_mysqldump_opt">
<code>--opt</code></a> или <a href="#option_mysqldump_extended-insert">
<code>--extended-insert</code></a>.</p>
<p>См. <a href="backup.htm#using-mysqldump">раздел 8.4</a>.</p>

<h4><a name="mysqldump-syntax"></a>Синтаксис вызова</h4>
<p>Есть общие способы использовать
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>,
чтобы вывести одну или большее количество таблиц, одну или более полных баз
данных или весь сервер MySQL, как показано здесь:
<pre>
shell&gt; mysqldump [<em><code>options</code></em>] <em><code>db_name</code></em>
                    [<em><code>tbl_name</code></em> ...]
shell&gt; mysqldump [<em><code>options</code></em>] --databases
                    <em><code>db_name</code></em> ...
shell&gt; mysqldump [<em><code>options</code></em>] --all-databases
</pre>

Чтобы вывести все базы данных, не называйте таблицы после
<em><code>db_name</code></em> или используйте опции
<a href="#option_mysqldump_databases"><code>--databases</code>
</a> или <a href="#option_mysqldump_all-databases"><code>
--all-databases</code></a>.</p>

<p>Чтобы видеть список опций, введите
<a href="#mysqldump"><span><strong>mysqldump --help</strong>
</span></a>.</p>

<h4><a name="mysqldump-option-summary"></a>
Синтаксис опций, алфавитное резюме</h4>
<p><a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a> поддерживает следующие опции, которые могут быть определены в командной
строке или в группах <code>[mysqldump]</code> и <code>[client]</code>
файла опции. Для информации о файлах опции, используемых программами
MySQL, см. <a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965413567440"></a><p><b>Таблица 5.11. Опции
<code>mysqldump</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row">
<a href="#option_mysqldump_add-drop-database">
--add-drop-database</a></td><td>Добавить DROP DATABASE перед
каждым CREATE DATABASE</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_add-drop-table">
--add-drop-table</a></td><td>Добавить DROP TABLE перед каждым CREATE TABLE
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_add-drop-trigger">
--add-drop-trigger</a></td><td>Добавить DROP TRIGGER перед
каждым CREATE TRIGGER</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_add-locks">
--add-locks</a></td>
<td>Окружите каждый табличный дамп LOCK TABLES и UNLOCK TABLES</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_all-databases">
--all-databases</a></td><td>Выведите все таблицы во всех базах данных
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_allow-keywords">
--allow-keywords</a></td><td>Позвольте создание имен столбцов, которые
являются ключевыми словами</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_apply-slave-statements">
--apply-slave-statements</a></td><td>Включить STOP SLAVE перед CHANGE MASTER
и START SLAVE в конце вывода</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_bind-address">
--bind-address</a></td><td>Используйте определенный сетевой интерфейс, чтобы
соединиться с MySQL Server</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_character-sets-dir">
--character-sets-dir</a></td><td>Каталог, где наборы символов установлены
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_comments">
--comments</a></td><td>Добавьте комментарии, чтобы вывести файл</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_compact">
--compact</a></td><td>Произведите более компактный вывод</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_compatible">
--compatible</a></td><td>Произведите вывод, который более совместим с другими
системами базы данных или с более старыми серверами MySQL</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_complete-insert">
--complete-insert</a></td><td>Используйте полные запросы INSERT,
которые включают имена столбцов</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_compress">
--compress</a></td><td>Сжать всю информацию, посланную
между клиентом и сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_create-options">
--create-options</a></td><td>Включайте все MySQL-специфичные табличные
опции в CREATE TABLE</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_databases">
--databases</a></td><td>Интерпретируйте все параметры имени как
имена базы данных</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_debug">
--debug</a></td><td>Писать журнал отладки</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_debug-check">
--debug-check</a></td><td>Информация об отладке, когда программа выходит
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_debug-info">
--debug-info</a></td><td>Информация об отладке, памяти
и статистика центрального процессора, когда программа выходит</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_default-auth">
--default-auth</a></td><td>Плагин аутентификации, чтобы использовать
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_default-character-set">
--default-character-set</a></td><td>Определите набор символов по умолчанию
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать этот файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опции</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_delete-master-logs">
--delete-master-logs</a></td><td>На основном сервере репликации
удалите двоичные журналы после выполнения работы дампа</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_disable-keys">
--disable-keys</a></td><td>Для каждой таблицы окружите запросы INSERT
запросами, чтобы отключить и включить ключи</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_dump-date">
--dump-date</a></td><td>Включайте дату дампа как комменитарий "Dump completed
on", если есть опция --comments</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_dump-slave">
--dump-slave</a></td><td>Включить CHANGE MASTER, который перечисляет
координаты в двоичном журнале ведущего устройства</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_enable-cleartext-plugin">
--enable-cleartext-plugin</a></td><td>
Включите плагин аутентификации открытого текста</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_events">
--events</a></td><td>События дампа от выведенных баз данных</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_extended-insert">
--extended-insert</a></td><td>Многострочный формат INSERT</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_fields">
--fields-enclosed-by</a></td><td>Опция используется с --tab и имеет то же
самое значение как соответствующий пункт для LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_fields">
--fields-escaped-by</a></td><td>Опция используется с --tab и имеет то же
самое значение как соответствующий пункт для LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_fields">
--fields-optionally-enclosed-by</a></td><td>
Опция используется с --tab и имеет то же
самое значение как соответствующий пункт для LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_fields">
--fields-terminated-by</a></td><td>Опция используется с --tab и имеет то же
самое значение как соответствующий пункт для LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_flush-logs">
--flush-logs</a></td><td>Сбросить файлы системного журнала сервера
MySQL перед дампом</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_flush-privileges">
--flush-privileges</a></td><td>Запрос FLUSH PRIVILEGES
после дампа базы данных mysql</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_force">
--force</a></td><td>Продолжите, даже если ошибка SQL происходит во
время табличного дампа</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_help">
--help</a></td><td>Отобразить справочное сообщение</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_hex-blob">
--hex-blob</a></td><td>Выведите двоичные столбцы,
используя шестнадцатеричное представление</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_host">
--host</a></td><td>Хост, чтобы соединиться (IP-адрес или имя)</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_ignore-error">
--ignore-error</a></td><td>Проигнорируйте определенные ошибки</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_ignore-table">
--ignore-table</a></td><td>Не выводите данную таблицу</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_include-master-host-port">
--include-master-host-port</a></td><td>Включить MASTER_HOST/MASTER_PORT в
CHANGE MASTER с --dump-slave</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_insert-ignore">
--insert-ignore</a></td><td>Писать INSERT IGNORE вместо INSERT</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_lines-terminated-by">
--lines-terminated-by</a></td><td>Опция используется с --tab и имеет то же
самое значение как соответствующий пункт для LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_lock-all-tables">
--lock-all-tables</a></td><td>Заблокируйте все таблицы и все базы данных
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_lock-tables">
--lock-tables</a></td><td>Заблокируйте все таблицы прежде, чем вывести их
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_log-error">
--log-error</a></td><td>Добавить предупреждения и ошибки к названному файлу
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_login-path">
--login-path</a></td><td>Читать опции пути входа в систему из .mylogin.cnf
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_master-data">
--master-data</a></td><td>Напишите имя файла системного журнала и
позицию в нем в дамп</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_max_allowed_packet">
--max_allowed_packet</a></td><td>Максимальная пакетная длина, чтобы послать в
или получить от сервера</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_net_buffer_length">
--net_buffer_length</a></td><td>Размер буфера для
TCP/IP и коммуникации сокета</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_no-autocommit">
--no-autocommit</a></td><td>Добавить запросы INSERT
для каждой выведенной таблицы в пределах SET autocommit = 0 и COMMIT
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_no-create-db">
--no-create-db</a></td><td>Не писать CREATE DATABASE</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_no-create-info">
--no-create-info</a></td><td>Не писать CREATE TABLE, которые обновляют
каждую выведенную таблицу</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_no-data">
--no-data</a></td><td>Не выводите табличное содержание</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_no-defaults">
--no-defaults</a></td><td>Не читайте файлы опции</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_no-set-names">
--no-set-names</a></td><td>Аналог --skip-set-charset</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_no-tablespaces">
--no-tablespaces</a></td><td>Не писать CREATE LOGFILE GROUP или
CREATE TABLESPACE в вывод</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_opt">--opt</a></td>
<td>Сокращение для --add-drop-table --add-locks --create-options
--disable-keys --extended-insert --lock-tables --quick --set-charset
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_order-by-primary">
--order-by-primary</a></td><td>Выведите строки каждой таблицы, сортированные
ее первичным ключом, или ее первым уникальным индексом</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_password">
--password</a></td><td>Пароль, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_pipe">
--pipe</a></td><td>В Windows соединитесь с сервером,
используя именованный канал</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_port">
--port</a></td><td>Номер порта TCP/IP для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_print-defaults">
--print-defaults</a></td><td>Напечатайте опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_protocol">
--protocol</a></td><td>Протокол соединения, чтобы использовать</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_quick">--quick</a>
</td><td>Получите строки для таблицы от сервера поштучно</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_quote-names">
--quote-names</a></td><td>Идентификаторы кавычки в пределах
символов обратной кавычки</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_replace">
--replace</a></td><td>Писать REPLACE вместо INSERT</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_result-file">
--result-file</a></td><td>Прямой вывод к данному файлу</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_routines">
--routines</a></td><td>Выведите сохраненные подпрограммы
(процедуры и функции) от выведенных баз данных</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_secure-auth">
--secure-auth</a></td><td>Не посылайте пароли в сервер в
старом формате (pre-4.1)</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_set-charset">
--set-charset</a></td><td>Добавьте SET NAMES default_character_set в вывод
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_set-gtid-purged">
--set-gtid-purged</a></td><td>Добавить ли SET @@GLOBAL.GTID_PURGED в вывод
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_shared-memory-base-name">
--shared-memory-base-name</a></td><td>Название совместно используемой памяти,
чтобы использовать для соединений совместно используемой памяти</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_single-transaction">
--single-transaction</a></td><td>BEGIN прежде, чем вывести данные</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_add-drop-table">
--skip-add-drop-table</a></td><td>Не добавлять DROP TABLE перед
каждым CREATE TABLE</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_add-locks">
--skip-add-locks</a></td><td>Не добавляйте блокировки</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_skip-comments">
--skip-comments</a></td><td>Не добавляйте комментарии</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_compact">
--skip-compact</a></td><td>Не производите более компактный вывод</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_disable-keys">
--skip-disable-keys</a></td><td>Не отключайте ключи</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_extended-insert">
--skip-extended-insert</a></td><td>Выключите расширенный insert</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_skip-opt">
--skip-opt</a></td><td>Выключите опции, установленные --opt</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_quick">
--skip-quick</a></td><td>Не получайте строки для таблицы от сервера поштучно
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_quote-names">
--skip-quote-names</a></td><td>Не заключайте идентификаторы в кавычки
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_set-charset">
--skip-set-charset</a></td><td>Не писать SET NAMES</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_triggers">
--skip-triggers</a></td><td>Не выводить триггеры</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_tz-utc">
--skip-tz-utc</a></td><td>Выключить tz-utc</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_socket">
--socket</a></td><td>Для соединений с localhost файл сокета Unix</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_ssl">
--ssl-ca</a></td><td>Путь к файлу, который содержит список доверенных SSL CA
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_ssl">
--ssl-capath</a></td><td>Путь к каталогу, который содержит доверенные
сертификаты SSL CA в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_ssl">
--ssl-cert</a></td><td>Путь к файлу, который содержит
сертификат X509 в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_ssl">
--ssl-cipher</a></td><td>Список разрешенных шифров, чтобы использовать
для шифрования соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_ssl">
--ssl-crl</a></td><td>Путь к файлу, который содержит
списки аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_ssl">
--ssl-crlpath</a></td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_ssl">
--ssl-key</a></td><td>Путь к файлу, который содержит ключ X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_ssl">
--ssl-mode</a></td><td>Статус безопасности соединения с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_tab">
--tab</a></td><td>Произведите отделенные табуляциями файлы с данными
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_tables">
--tables</a></td><td>Перекрыть --databases или -B</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_tls-version">
--tls-version</a></td><td>Протоколы для безопасных соединений</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_triggers">
--triggers</a></td><td>Дамп триггеров для каждой выведенной таблицы</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_tz-utc">
--tz-utc</a></td><td>Добавить SET TIME_ZONE='+00:00' в дамп</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_user">
--user</a></td><td>Имя пользователя MySQL, чтобы
использовать, соединяясь с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_verbose">
--verbose</a></td><td>Подробный режим</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_version">
--version</a></td><td>Информация о версии</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_where">
--where</a></td><td>Выведите только строки, выбранные данным условием WHERE
</td></tr>
<tr><td scope="row"><a href="#option_mysqldump_xml">
--xml</a></td><td>Вывод в формате XML</td></tr></tbody></table>

<h4><a name="mysqldump-connection-options"></a>Опции соединения</h4>
<p><a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a> регистрируется на сервере MySQL, чтобы извлечь информацию.
Следующие опции определяют, как соединиться с сервером MySQL на той же самой
машине или на удаленной системе.</p>

<ul><li><p><a name="option_mysqldump_bind-address"></a>
<a href="#option_mysqldump_bind-address"><code>
--bind-address=<em><code>ip_address</code></em></code></a></p>

<p>На компьютере, имеющем многократные сетевые интерфейсы, используйте эту
опцию, чтобы выбрать который интерфейс использовать для того, чтобы
соединиться с сервером MySQL.</li>

<li><a name="option_mysqldump_compress"></a>
<code>--compress</code>, <code>-C</code></p>
<p>Сжать всю информацию, посланную между клиентом и сервером.</li>

<li><a name="option_mysqldump_default-auth"></a>
<code>--default-auth=<em><code>plugin</code></em></code></p>
<p>Подсказка о клиентском плагине аутентификации, см.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqldump_enable-cleartext-plugin"></a>
<a href="#option_mysqldump_enable-cleartext-plugin"><code>
--enable-cleartext-plugin</code></a></p>

<p>Включите плагин аутентификации открытого текста
<code>mysql_clear_password</code>, см.
<a href="security.htm#cleartext-authentication-plugin">раздел 7.5.1.4</a>.
</li>

<li><a name="option_mysqldump_host"></a>
<code>--host=<em><code>host_name</code></em></code>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Данные о дампе от сервера MySQL на данном хосте.
Хост по умолчанию <code>localhost</code>.</li>

<li><a name="option_mysqldump_login-path"></a>
<a href="#option_mysqldump_login-path"><code>
--login-path=<em><code>name</code></em></code></a></p>
<p>Читать опции из названного пути входа в систему в
<code>.mylogin.cnf</code>. <span><span>login path</span></span>
является группой опции, содержащей опции, которые определяют, с каким
сервером MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysqldump_password"></a>
<code>--password[=<em><code>password</code></em>]</code>,
<code>-p[<em><code>password</code></em>]</code></p>

<p>Пароль, чтобы использовать, соединяясь с сервером. Если Вы используете
короткую форму опции (<code>-p</code>), у Вас
<span><em>не должно</em></span> быть пробелов между опцией и паролем.
Если Вы опускаете <em><code>password</code></em> после
<code>--password</code> или <code>-p</code>,
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
запросит пароль явно.</p>

<p>Определение пароля в командной строке нужно считать опасным, см.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.
Вы можете использовать файл опции, чтобы избежать давать
пароль в командной строке.</li>

<li><a name="option_mysqldump_pipe"></a>
<code>--pipe</code>, <code>-W</code></p>
<p>В Windows соединитесь с сервером, используя именованный канал.
Эта опция применяется, только если сервер поддерживает
соединения именованного канала.</li>

<li><a name="option_mysqldump_plugin-dir"></a>
<code>--plugin-dir=<em><code>dir_name</code></em></code></p>
<p>Каталог, в котором можно искать плагины. Определите эту опцию, если
<a href="#option_mysqldump_default-auth"><code>--default-auth
</code></a> используется, чтобы определить плагин аутентификации, но
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
не находит это. См. <a href="security.htm#pluggable-authentication">раздел
7.3.9</a>.</li>

<li><a name="option_mysqldump_port"></a>
<code>--port=<em><code>port_num</code></em></code>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для соединения.</li>

<li><a name="option_mysqldump_protocol"></a>
<code>--protocol={TCP|SOCKET|PIPE|MEMORY}</code></p>
<p>Протокол соединения. Полезно, когда другие параметры соединения обычно
заставляли бы использоваться не тот протокол, см.
<a href="#connecting">раздел 5.2.2</a>.</li>

<li><a name="option_mysqldump_secure-auth"></a>
<a href="#option_mysqldump_secure-auth"><code>
--secure-auth</code></a></p>
<p>Не посылайте пароли в сервер в старом формате (pre-4.1).
Это блокирует соединения за исключением серверов, которые
используют более новый формат пароля.</p>

<p>Эта опция устарела и будет удалена.
Это всегда включается и попытка отключить это
(<a href="#option_mysqldump_secure-auth"><code>
--skip-secure-auth</code></a>,
<a href="#option_mysqldump_secure-auth"><code>
--secure-auth=0</code></a>) приводит к ошибке.</p></li>

<li><p><a name="option_mysqldump_socket"></a>
<code>--socket=<em><code>path</code></em></code>,
<code>-S <em><code>path</code></em></code></p>
<p>Для соединений с <code>localhost</code> файл сокета Unix.
Для Windows имя именованного канала.</li>

<li><a name="option_mysqldump_ssl"></a><code>--ssl*</code></p>
<p>Опции, которые начинаются с <a href="security.htm#option_general_ssl">
<code>--ssl</code></a>, определяют, соединиться ли с сервером, используя SSL
и указывают, где найти ключи SSL и сертификаты, см.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysqldump_tls-version"></a>
<a href="#option_mysqldump_tls-version"><code>
--tls-version=<em><code>protocol_list</code></em></code></a></p>
<p>Протоколы разрешены клиентом для зашифрованных соединений.
Значение: список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы по имени в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL.
Для деталей см. <a href="security.htm#secure-connection-protocols-ciphers">
раздел 7.4.3</a>.</li>

<li><a name="option_mysqldump_user"></a>
<code>--user=<em><code>user_name</code></em></code>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером.
</p></li></ul>

<p>Вы можете также установить следующие переменные при использовании
<code>--<em><code>var_name</code></em>=<em><code>value</code></em></code>:
</p>
<ul><li><p><a name="option_mysqldump_max_allowed_packet"></a>
<code>max_allowed_packet</code></p>
<p>Максимальный размер буфера для коммуникации клиент-сервер.
Значение по умолчанию составляет 24MB, максимум 1GB.</li>

<li><a name="option_mysqldump_net_buffer_length"></a>
<code>net_buffer_length</code></p>
<p>Начальный размер буфера для коммуникации клиент-сервер.
Создавая многострочный <a href="sql.htm#insert"><code>INSERT</code></a>
(как с <a href="#option_mysqldump_extended-insert"><code>
--extended-insert</code></a> или
<a href="#option_mysqldump_opt"><code>--opt</code></a>),
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
создает строки до <a href="server.htm#sysvar_net_buffer_length"><code>
net_buffer_length</code></a> байт в длину.
Если Вы увеличиваете эту переменную, гарантируйте, что у системной переменной
<a href="server.htm#sysvar_net_buffer_length"><code>net_buffer_length</code>
</a> сервера есть значение, по крайней мере этого размера.</p></li></ul>

<h4><a name="mysqldump-option-file-options"></a>Опции файла опций</h4>
<p>Эти опции используются, чтобы управлять, который файл опции читать.</p>
<ul><li><p><a name="option_mysqldump_defaults-extra-file"></a>
<a href="#option_mysqldump_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Читать этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный
путь, а не полный.</li>

<li><a name="option_mysqldump_defaults-file"></a>
<a href="#option_mysqldump_defaults-file"><code>--defaults-file=
<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный
путь, а не полный.</p>
<p>Исключение: Даже с <a href="#option_general_defaults-file">
<code>--defaults-file</code></a> клиенты читают <code>.mylogin.cnf</code>.
</li>

<li><a name="option_mysqldump_defaults-group-suffix"></a>
<a href="#option_mysqldump_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читать не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
обычно читает группы <code>[client]</code> и <code>[mysqldump]</code>. Если
дана опция <a href="#option_mysqldump_defaults-group-suffix">
<code>--defaults-group-suffix=_other</code></a>, то
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
также читает группы <code>[client_other]</code> и
<code>[mysqldump_other]</code>.</li>

<li><a name="option_mysqldump_no-defaults"></a>
<a href="#option_mysqldump_no-defaults"><code>--no-defaults
</code></a></p>

<p>Не читать файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций из файла опции,
<a href="#option_mysqldump_no-defaults"><code>--no-defaults
</code></a> может использоваться, чтобы препятствовать тому, чтобы
они были считаны.</p>

<p>Исключение: файл <code>.mylogin.cnf</code>, если существует,
считан во всех случаях. Это разрешает паролям быть определенными более
безопасным способом, чем в командной строке, даже когда есть опция
<a href="#option_mysqldump_no-defaults"><code>--no-defaults
</code></a>. <code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysqldump_print-defaults"></a>
<a href="#option_mysqldump_print-defaults"><code>
--print-defaults</code></a></p>
<p>Напечатайте название программы и все опции, которые это получает
от файлов опции.</p></li></ul>

<h4><a name="mysqldump-ddl-options"></a>Опции DDL</h4>
<p>Скрипты использования для <a href="#mysqldump"><span><strong>
mysqldump</strong></span></a> включают создание нового экземпляра MySQL
(включая таблицы базы данных), и замена данных в существующем экземпляре
с существующими базами данных и таблицами. Следующие опции позволяют Вам
определять, что сделать и настроить, восстанавливая дамп, кодируя различные
запросы DDL в пределах файла дампа.</p>

<ul><li><p><a name="option_mysqldump_add-drop-database"></a>
<code>--add-drop-database</code></p>
<p>Записать <a href="sql.htm#drop-database"><code>DROP DATABASE</code></a>
перед каждым <a href="sql.htm#create-database"><code>CREATE DATABASE</code>
</a>. Эта опция, как правило, используется в соединении с
<a href="#option_mysqldump_all-databases"><code>--all-databases
</code></a> или <a href="#option_mysqldump_databases"><code>
--databases</code></a>, потому что <a href="sql.htm#create-database"><code>
CREATE DATABASE</code></a> не записаны, если одна из тех опций не определена.
</li>

<li><a name="option_mysqldump_add-drop-table"></a>
<code>--add-drop-table</code></p>
<p>Написать <a href="sql.htm#drop-table"><code>DROP TABLE</code></a> перед
каждым <a href="sql.htm#create-table"><code>CREATE TABLE</code></a>.</li>

<li><a name="option_mysqldump_add-drop-trigger"></a>
<code>--add-drop-trigger</code></p>
<p>Написать <a href="sql.htm#drop-trigger"><code>DROP TRIGGER</code></a>
перед каждым <a href="sql.htm#create-trigger"><code>CREATE TRIGGER</code>
</a>.</li>

<li><a name="option_mysqldump_all-tablespaces"></a>
<code>--all-tablespaces</code>, <code>-Y</code></p>
<p>Добавляет к табличному дампу, все запросы SQL, которые должны были создать
любые табличные пространства, используемые
<a href="../../../dev.mysql.com/doc/refman/5.7/en/mysql-cluster.htm"
target="_top"><code>NDB</code></a>. Эта информация иначе не включена в вывод
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>.
Эта опция в настоящее время относится только к таблицам MySQL Cluster,
которые не поддержаны в MySQL 8.0.</li>

<li><a name="option_mysqldump_no-create-db"></a>
<code>--no-create-db</code>, <code>-n</code></p>
<p>Блокировать запросы <a href="sql.htm#create-database"><code>CREATE
DATABASE</code></a>, которые иначе включены в вывод, если заданы опции
<a href="#option_mysqldump_databases"><code>--databases</code>
</a> или <a href="#option_mysqldump_all-databases"><code>
--all-databases</code></a>.</li>

<li><a name="option_mysqldump_no-create-info"></a>
<code>--no-create-info</code>, <code>-t</code></p>
<p>Не писать <a href="sql.htm#create-table"><code>CREATE TABLE</code></a>,
которые составляют каждую выведенную таблицу.</p>

<p>Эта опция <span class="emphasis"><em>не</em></span> исключает запросы,
создающие группы файла системного журнала или табличные пространства из
вывода <a href="#mysqldump"><span><strong>mysqldump</strong>
</span></a>, однако, Вы можете использовать опцию
<a href="#option_mysqldump_no-tablespaces"><code>--no-tablespaces
</code></a> именно с этой целью.</p></li>

<li><p><a name="option_mysqldump_no-tablespaces"></a>
<code>--no-tablespaces</code>, <code>-y</code></p>
<p>Эта опция запрещает все
<a href="../../../dev.mysql.com/doc/refman/5.7/en/create-logfile-group.htm"
target="_top"><code>CREATE LOGFILE GROUP</code></a> и
<a href="sql.htm#create-tablespace"><code>CREATE TABLESPACE</code></a>
в выводе <a href="#mysqldump"><span><strong>mysqldump</strong>
</span></a>.</li>

<li><a name="option_mysqldump_replace"></a><code>--replace</code></p>
<p>Писать <a href="sql.htm#replace"><code>REPLACE</code></a> вместо
<a href="sql.htm#insert"><code>INSERT</code></a>.</p></li></ul>

<h4><a name="mysqldump-debug-options"></a>Опции отладки</h4>
<p>Следующие опции печатают информацию об отладке, кодируют информацию в
файле дампа или позволяют работе дампа продолжаться независимо
от потенциальных проблем.</p>

<ul><li><p><a name="option_mysqldump_allow-keywords"></a>
<code>--allow-keywords</code></p>
<p>Создание разрешения имен столбцов, которые являются ключевыми словами.
Это работает, предварительно устанавливая каждое имя
столбца с именем таблицы.</li>

<li><a name="option_mysqldump_comments"></a>
<code>--comments</code>, <code>-i</code></p>
<p>Напишите дополнительную информацию в файле дампа, такую как версия
программы, версия сервера и хост. Эта опция включена по умолчанию.
Чтобы подавить эту дополнительную информацию, надо использовать
<a href="#option_mysqldump_skip-comments"><code>--skip-comments
</code></a>.</li>

<li><a name="option_mysqldump_debug"></a>
<code>--debug[=<em><code>debug_options</code></em>]</code>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Напишите журнал отладки. Типичная строка
<em><code>debug_options</code></em>
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:o,/tmp/mysqldump.trace</code>.</li>

<li><a name="option_mysqldump_debug-check"></a>
<code>--debug-check</code></p>
<p>Напечатайте некоторую информацию об отладке, когда программа выходит.</li>

<li><a name="option_mysqldump_debug-info"></a><code>--debug-info</code></p>
<p>Информация об отладке, памяти и статистика использования центрального
процессора, когда программа выходит.</li>

<li><a name="option_mysqldump_dump-date"></a><code>--dump-date</code></p>
<p>Если дана опция <a href="#option_mysqldump_comments"><code>
--comments</code></a>, <a href="#mysqldump"><span><strong>
mysqldump</strong></span></a> производит комментарий следующей
формы в конце дампа:
<pre>
-- Dump completed on <em><code>DATE</code></em>
</pre>

Однако, дата заставляет файлы дампа, взятые в разное время, отличаться, даже
если данные иначе идентичны. <a href="#option_mysqldump_dump-date">
<code>--dump-date</code></a> и
<a href="#option_mysqldump_dump-date"><code>--skip-dump-date
</code></a> управляет, добавлена ли дата к комментарию. Значение по умолчанию
<a href="#option_mysqldump_dump-date"><code>--dump-date</code>
</a> (включать дату в комментарий).
<a href="#option_mysqldump_dump-date"><code>--skip-dump-date
</code></a> блокирует печать даты.</li>

<li><a name="option_mysqldump_force"></a>
<code>--force</code>, <code>-f</code></p>
<p>Проигнорируйте все ошибки: продолжите, даже если ошибка SQL происходит во
время табличного дампа.</p>

<p>Одно использование этой опции должно заставить
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
продолжать выполняться, даже когда это сталкивается с представлением, которое
стало недопустимым, потому что определение относится к таблице, которая была
удалена. Без <code>--force</code> <a href="#mysqldump"><span>
<strong>mysqldump</strong></span></a> выходит с сообщением об ошибке. С
<code>--force</code> <a href="#mysqldump"><span><strong>mysqldump
</strong></span></a> печатает сообщение об ошибке, но это также пишет
комментарий SQL, содержащий определение представления в
дамп, и продолжает выполняться.</p>

<p>Если также дана опция <a href="#option_mysqldump_ignore-error">
<code>--ignore-error</code></a>, чтобы проигнорировать определенные ошибки,
<a href="#option_mysqldump_force"><code>--force</code></a>
имеет высший приоритет.</li>

<li><a name="option_mysqldump_log-error"></a>
<code>--log-error=<em><code>file_name</code></em></code></p>
<p>Предупреждения и ошибки журналируются, дописывая их к названному файлу.
Значение по умолчанию не должно сделать никакого журналирования.</li>

<li><a name="option_mysqldump_skip-comments"></a>
<code>--skip-comments</code></p>
<p>См. описание <a href="#option_mysqldump_comments"><code>
--comments</code></a>.</li>

<li><a name="option_mysqldump_verbose"></a>
<code>--verbose</code>, <code>-v</code></p>
<p>Подробный режим. Напечатать больше информации о том,
что делает программа.</p></li></ul>

<h4><a name="mysqldump-help-options"></a>Справочные опции</h4>
<p>Следующие опции выводят на экран информацию о
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>.
</p>

<ul><li><p><a name="option_mysqldump_help"></a>
<code>--help</code>, <code>-?</code></p>
<p>Отобразить справку и выйти.</li>

<li><a name="option_mysqldump_version"></a>
<code>--version</code>, <code>-V</code></p>
<p>Отобразить информацию о версии.</p></li></ul>

<h4><a name="mysqldump-i18n-options"></a>Опции интернационализации</h4>
<p>Следующие опции изменяют, как
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
представляет символьные данные с национальными языковыми настройками.</p>

<ul><li><p><a name="option_mysqldump_character-sets-dir"></a>
<code>--character-sets-dir=<em><code>dir_name</code></em></code></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysqldump_default-character-set"></a>
<code>--default-character-set=<em><code>charset_name</code></em></code></p>
<p>Применить <em><code>charset_name</code></em> как набор символов
по умолчанию. См. <a href="global.htm#charset-configuration">раздел 11.5</a>.
Если никакой набор символов не определен,
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
использует набор <code>utf8</code>.</li>

<li><a name="option_mysqldump_no-set-names"></a>
<code>--no-set-names</code>, <code>-N</code></p>
<p>Выключает <a href="#option_mysqldump_set-charset"><code>
--set-charset</code></a>, то же самое как определение
<code>--skip-set-charset</code>.</li>

<li><a name="option_mysqldump_set-charset"></a><code>--set-charset</code></p>
<p>Писать <a href="sql.htm#set-names"><code>SET NAMES
<em><code>default_character_set</code></em></code></a> в вывод.
Эта опция включена по умолчанию. Чтобы блокировать запрос
<a href="sql.htm#set-names"><code>SET NAMES</code></a>, применяется
<a href="#option_mysqldump_set-charset"><code>--skip-set-charset
</code></a>.</p></li></ul>

<h4><a name="mysqldump-replication-options"></a>Опции репликации</h4>
<p><a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a> часто используется, чтобы создать пустой экземпляр или экземпляр
включая данные, на ведомом сервере в конфигурации репликации.
Следующие опции относятся к дампу и восстановлению данных по ведущему
устройству и ведомым серверам.</p>

<ul><li><p><a name="option_mysqldump_apply-slave-statements"></a>
<code>--apply-slave-statements</code></p>
<p>Для ведомого дампа, произведенного с опцией
<a href="#option_mysqldump_dump-slave"><code>--dump-slave</code>
</a>, добавить <a href="sql.htm#stop-slave"><code>STOP SLAVE</code></a> перед
<a href="sql.htm#change-master-to"><code>CHANGE MASTER TO</code></a> и
<a href="sql.htm#start-slave"><code>START SLAVE</code></a> конце вывода.</li>

<li><a name="option_mysqldump_delete-master-logs"></a>
<code>--delete-master-logs</code></p>
<p>На основном сервере удалите двоичные журналы, посылая
<a href="sql.htm#purge-binary-logs"><code>PURGE BINARY LOGS</code></a>
серверу после выполнения дампа. Эта опция автоматически включает
<a href="#option_mysqldump_master-data"><code>--master-data
</code></a>.</li>

<li><a name="option_mysqldump_dump-slave"></a>
<code>--dump-slave[=<em><code>value</code></em>]</code></p>
<p>Эта опция подобна <a href="#option_mysqldump_master-data">
<code>--master-data</code></a> за исключением того, что это используется,
чтобы вывести ведомый сервер, чтобы произвести файл дампа, который может
использоваться, чтобы настроить другой сервер как ведомое устройство, у
которого есть то же самое ведущее устройство как у выведенного сервера.
Это заставляет вывод дампа включать
<a href="sql.htm#change-master-to"><code>CHANGE MASTER TO</code></a>, который
указывает на координаты двоичного журнала (имя файла и позиция) ведущего
устройства выведенного ведомого устройства.
<a href="sql.htm#change-master-to"><code>CHANGE MASTER TO</code></a>
читает значения <code>Relay_Master_Log_File</code> и
<code>Exec_Master_Log_Pos</code> из вывода
<a href="sql.htm#show-slave-status"><code>SHOW SLAVE STATUS</code></a> и
использует их для <code>MASTER_LOG_FILE</code> и <code>MASTER_LOG_POS</code>.
Это координаты главного сервера, от которых ведомое устройство
должно начать копировать.</p>

<p>Несогласованности в последовательности транзакций от журнала реле, которые
были выполнены, могут заставить неправильную позицию использоваться. См.
<a href="replica.htm#replication-features-transaction-inconsistencies">раздел
19.4.1.34</a>.</p>

<p><code>--dump-slave</code> заставляет координаты от ведущего устройства
использоваться, а не таковые из выведенного сервера, как сделано в
<a href="#option_mysqldump_master-data"><code>--master-data
</code></a>. Кроме того, эта опция вызывает переопределение
<code>--master-data</code>, если используется.</p>

<p>Эта опция не должна использоваться, если сервер, куда дамп будет применен,
использует <a href="replica.htm#sysvar_gtid_mode"><code>gtid_mode=ON</code>
</a> и <code>MASTER_AUTOPOSITION=1</code>.</p>

<p>Значение опции обработано как и
<a href="#option_mysqldump_master-data"><code>--master-data
</code></a> (отсутствие значения или 1 заставляет <code>CHANGE MASTER TO
</code> писать в дамп, установка 2 заставляет запрос быть написанным, но
в комментарии SQL), и имеет тот же самый эффект как <code>--master-data
</code> с точки зрения включения или отключения других опций и в том,
как блокировка обработана.</p>

<p>Эта опция заставляет <a href="#mysqldump"><span><strong>
mysqldump</strong></span></a> останавливать ведомый поток SQL перед дампом и
перезапускать это снова после.</p>

<p>В соединении с <code>--dump-slave</code>
<a href="#option_mysqldump_apply-slave-statements"><code>
--apply-slave-statements</code></a> и
<a href="#option_mysqldump_include-master-host-port"><code>
--include-master-host-port</code></a> могут также использоваться.</li>

<li><a name="option_mysqldump_include-master-host-port"></a>
<code>--include-master-host-port</code></p>
<p>Для <a href="sql.htm#change-master-to"><code>CHANGE MASTER TO</code></a>
в ведомом дампе, произведенном с
<a href="#option_mysqldump_dump-slave"><code>--dump-slave</code>
</a>, добавить <code>MASTER_HOST</code> и <code>MASTER_PORT</code>
для имени хоста и номера порта TCP/IP ведущего устройства.</li>

<li><a name="option_mysqldump_master-data"></a>
<code>--master-data[=<em><code>value</code></em>]</code></p>
<p>Используйте эту опцию, чтобы вывести основной сервер, чтобы произвести
файл дампа, который может использоваться, чтобы настроить другой сервер как
ведомое устройство. Это заставляет вывод дампа включать
<a href="sql.htm#change-master-to"><code>CHANGE MASTER TO</code></a>,
который указывает на двоичные координаты журнала (имя файла и позиция)
выведенного сервера. Это координаты главного сервера, от которых ведомое
устройство должно начать копировать после того, как Вы загружаете файл
дампа в ведомое устройство.</p>

<p>Если значение опции 2, <a href="sql.htm#change-master-to"><code>CHANGE
MASTER TO</code></a> запрос написан как комментарий SQL и таким образом
только информативен, это не имеет никакого эффекта, когда файл дампа
перезагружен. Если значение опции 1, запрос не написан как комментарий и
вступает в силу, когда файл дампа перезагружен. Если никакое значение опции
не определено, значение по умолчанию 1.</p>

<p>Эта опция требует привилегии
<a href="security.htm#priv_reload"><code>RELOAD</code></a>
и двоичный журнал должен быть включен.</p>

<p><code>--master-data</code> автоматически выключает
<a href="#option_mysqldump_lock-tables"><code>--lock-tables
</code></a>. Это также включает
<a href="#option_mysqldump_lock-all-tables"><code>
--lock-all-tables</code></a>, если
<a href="#option_mysqldump_single-transaction"><code>
--single-transaction</code></a> также определена, тогда глобальная блокировка
чтения приобретена только в течение короткого времени в начале дампа (см.
описание для <a href="#option_mysqldump_single-transaction">
<code>--single-transaction</code></a>). Во всех случаях любое действие на
журналах происходит в точный момент дампа.</p>

<p>Также возможно настроить ведомое устройство, выводя существующее ведомое
устройство ведущего устройства, используя
<a href="#option_mysqldump_dump-slave"><code>--dump-slave</code>
</a>, которая перекрывает <code>--master-data</code> и предписывает ее
проигнорировать, если обе опции используются.</li>

<li><a name="option_mysqldump_set-gtid-purged"></a>
<code>--set-gtid-purged=<em><code>value</code></em></code></p>
<p>Эта опция включает информацию по управлению глобальным операционным ID
(GTID), написанную в файл дампа, указывая, добавить ли
<a href="sql.htm#set-variable"><code>SET @@global.gtid_purged</code></a> в
вывод. Эта опция может также заставить написать в вывод запрос, который
отключает двоичное журналирование в то время, как файл дампа перезагружается.
</p>

<p>Следующая таблица показывает разрешенные значения опции.
Значение по умолчанию <code>AUTO</code>.</p>
<table border="1">
<thead><tr><th scope="col">Значение</th><th scope="col">Смысл
</th></tr></thead>
<tbody><tr><td scope="row"><code>OFF</code></td><td>Не добавлять
<code>SET</code> в вывод.</td></tr>
<tr><td scope="row"><code>ON</code></td><td>
Добавить <code>SET</code> в вывод. Ошибка происходит, если GTID
не включены на сервере.</td></tr>
<tr><td scope="row"><code>AUTO</code></td><td>
Добавить <code>SET</code> в вывод, если GTID включены на сервере.
</td></tr></tbody></table>

<p><code>--set-gtid-purged</code> имеет следующий эффект на двоичное
журналирование, когда файл дампа перезагружен:</p>
<ul><li><p><code>--set-gtid-purged=OFF</code>:
<code>SET @@SESSION.SQL_LOG_BIN=0;</code> не добавлен к выводу.</li>

<li><code>--set-gtid-purged=ON</code>:
<code>SET @@SESSION.SQL_LOG_BIN=0;</code> добавлен к выводу.</li>
<li><code>--set-gtid-purged=AUTO</code>: <code>SET
@@SESSION.SQL_LOG_BIN=0;</code> добавлен к выводу, если GTID включены на
сервере (то есть, если <code>AUTO</code> оценивается к <code>ON</code>).
</p></li></ul></li></ul>

<h4><a name="mysqldump-format-options"></a>Опции формата</h4>
<p>Следующие опции определяют, как представить весь файл дампа или
определенные виды данных в файле дампа. Они также управляют, написана ли
определенная дополнительная информация в файл дампа.</p>

<ul><li><p><a name="option_mysqldump_compact"></a>
<code>--compact</code></p>
<p>Произведите более компактный вывод. Эта опция включает
<a href="#option_mysqldump_add-drop-table"><code>
--skip-add-drop-table</code></a>,
<a href="#option_mysqldump_add-locks"><code>--skip-add-locks
</code></a>,
<a href="#option_mysqldump_skip-comments"><code>--skip-comments
</code></a>,
<a href="#option_mysqldump_disable-keys"><code>
--skip-disable-keys</code></a> и
<a href="#option_mysqldump_set-charset"><code>--skip-set-charset
</code></a>.</li>

<li><a name="option_mysqldump_compatible"></a>
<code>--compatible=<em><code>name</code></em></code></p>
<p>Произведите вывод, который более совместим с другими системами базы данных
или с более старыми серверами MySQL. Значение
<em><code>name</code></em> может быть
<code>ansi</code>, <code>mysql323</code>,
<code>mysql40</code>, <code>postgresql</code>,
<code>oracle</code>, <code>mssql</code>,
<code>db2</code>, <code>maxdb</code>, <code>no_key_options</code>,
<code>no_table_options</code> или <code>no_field_options</code>.
Чтобы использовать несколько значений, отделите их запятыми. У этих значений
есть то же самое значение, как соответствующие опции для того, чтобы
установить серверный режим SQL. См. <a href="server.htm#sql-mode">раздел
6.1.8</a>.</p>

<p>Эта опция не гарантирует совместимости с другими серверами. Это только
включает те значения режима SQL, которые в настоящее время доступны для
вывода более совместимого дампа. Например, <code>--compatible=oracle</code>
не отображает типы данных на типы Oracle
или использует синтаксис комментария Oracle.</p>
<p><span><em>Эта опция требует версии сервера 4.1.0 или выше</em></span>.
С более старыми серверами это ничего не делает.</li>

<li><a name="option_mysqldump_complete-insert"></a>
<code>--complete-insert</code>, <code>-c</code></p>
<p>Используйте полные <a href="sql.htm#insert"><code>INSERT</code></a>,
которые включают имена столбцов.</li>

<li><a name="option_mysqldump_create-options"></a>
<code>--create-options</code></p>
<p>Включайте все MySQL-определенные табличные опции в
<a href="sql.htm#create-table"><code>CREATE TABLE</code></a>.</li>

<li><a name="option_mysqldump_fields"></a>
<code>--fields-terminated-by=...</code>,
<code>--fields-enclosed-by=...</code>,
<code>--fields-optionally-enclosed-by=...</code>,
<code>--fields-escaped-by=...</code></p>

<p>Эти опции используются с
<a href="#option_mysqldump_tab"><code>--tab</code></a>
и имеют то же самое значение, как передача <code>FIELDS</code>
в <a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>.
См. <a href="sql.htm#load-data">раздел 14.2.6</a>.</li>

<li><a name="option_mysqldump_hex-blob"></a><code>--hex-blob</code></p>
<p>Выведите двоичные столбцы, используя шестнадцатеричный формат (например,
<code>'abc'</code> станет <code>0x616263</code>). Затронутые типы данных
<a href="types.htm#binary-varbinary"><code>BINARY</code></a>,
<a href="types.htm#binary-varbinary"><code>VARBINARY</code></a>, все
<a href="types.htm#blob"><code>BLOB</code></a> и
<a href="types.htm#bit-type"><code>BIT</code></a>.</li>

<li><a name="option_mysqldump_lines-terminated-by"></a>
<code>--lines-terminated-by=...</code></p>
<p>Эта опция используется с
<a href="#option_mysqldump_tab"><code>--tab</code></a> и имеет то
же самое значение, как передача <code>LINES</code> для
<a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>.
См. <a href="sql.htm#load-data">раздел 14.2.6</a>.</li>

<li><a name="option_mysqldump_quote-names"></a>
<code>--quote-names</code>, <code>-Q</code></p>
<p>Цитировать идентификаторы (такие как имена баз данных, таблиц и столбцов)
в пределах символов <code>`</code>. Если режим SQL
<a href="server.htm#sqlmode_ansi_quotes"><code>ANSI_QUOTES</code></a>
включен, идентификаторы заключены в кавычки в пределах <code>"</code>.
Эта опция включена по умолчанию. Это может быть отключено с
<code>--skip-quote-names</code>, но эта опция должна быть дана после любой
опции, такой как <a href="#option_mysqldump_compatible"><code>
--compatible</code></a>, которая может включить
<a href="#option_mysqldump_quote-names"><code>--quote-names
</code></a>.</li>

<li><a name="option_mysqldump_result-file"></a>
<code>--result-file=<em><code>file_name</code></em></code>,
<code>-r <em><code>file_name</code></em></code></p>

<p>Прямой вывод к названному файлу. Файл результата создается и его
предыдущее содержание будет переписано, даже если ошибка
происходит, производя дамп.</p>
<p>Эта опция должна использоваться в Windows, чтобы предотвратить
конвертацию <code>\n</code> в <code>\r\n</code> carriage return/newline.</li>

<li><a name="option_mysqldump_tab"></a>
<code>--tab=<em><code>dir_name</code></em></code>,
<code>-T <em><code>dir_name</code></em></code></p>

<p>Произведите отделенные табуляциями файлы с данными текстового формата.
Для каждой выведенной таблицы <a href="#mysqldump"><span><strong>
mysqldump</strong></span></a> создает файл
<code><em><code>tbl_name</code></em>.sql</code>, который содержит запрос
<a href="sql.htm#create-table"><code>CREATE TABLE</code></a>,
который составляет таблицу, и файл
<code><em><code>tbl_name</code></em>.txt</code>, который содержит данные.
Значение опции: каталог, в котором можно написать файлы.</p>

<p>Эта опция должна использоваться только, когда
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
выполнен на той же самой машине, что и
<a href="#mysqld"><span><strong>mysqld</strong></span></a>.
Поскольку сервер создает файлы <code>*.txt</code> в каталоге, который Вы
определяете, каталог, должен быть перезаписываемым сервером, учетная запись
MySQL, которую Вы используете, должна иметь привилегию
<a href="security.htm#priv_file"><code>FILE</code></a>. Так как
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
создает <code>*.sql</code> в том же самом каталоге это должно быть
перезаписываемо Вашей системной учетной записью.</p>

<p>По умолчанию файлы <code>.txt</code> с данными отформатированы, используя
символы табуляции между значениями столбцов и новой строкой в конце каждой
строки. Формат может быть определен явно, используя опции
<code>--fields-<em><code>xxx</code></em></code> и
<a href="#option_mysqldump_lines-terminated-by"><code>
--lines-terminated-by</code></a>.</p>

<p>Значения столбцов преобразованы в набор символов, определенный опцией
<a href="#option_mysqldump_default-character-set"><code>
--default-character-set</code></a>.</li>

<li><a name="option_mysqldump_tz-utc"></a><code>--tz-utc</code></p>
<p>Эта опция включает столбцы <a href="types.htm#datetime"><code>TIMESTAMP
</code></a>, которые будут выведены и перезагружены между серверами в
различных часовых поясах. <a href="#mysqldump"><span><strong>
mysqldump</strong></span></a> устанавливает свою зону времени соединения в
UTC и добавляет <code>SET TIME_ZONE='+00:00'</code> к файлу дампа. Без этой
опции столбцы <a href="types.htm#datetime"><code>TIMESTAMP</code></a>
выведены и перезагружены в часовых поясах, местных для источника и целевого
сервера, что может заставить значения изменяться, если серверы находятся в
различных часовых поясах. <code>--tz-utc</code> также защищает от изменений
из-за летнего времени. <code>--tz-utc</code> включен по умолчанию. Чтобы
отключить это, надо использовать <code>--skip-tz-utc</code>.</li>

<li><a name="option_mysqldump_xml"></a>
<code>--xml</code>, <code>-X</code></p>
<p>Напишите вывод дампа как правильно построенный XML.</p>

<p><span>NULL</code>, <code>'NULL'</code> и пустые значения</strong></span>:
Для столбца, названного <em><code>column_name</code></em>, значение
<code>NULL</code>, пустая строка и строковое значение <code>'NULL'</code>
отличны от друг друга в выводе, произведенном этой опцией, следующим образом.
</p>

<table border="1">
<thead><tr><th scope="col">Value:</th><th scope="col">XML Representation:
</th></tr></thead>
<tbody><tr><td scope="row"><code>NULL</code> (<span><em>unknown value</em>
</span>)</td><td><p><code>&lt;field name="<em><code>column_name</code></em>"
xsi:nil="true" /&gt;</code></p></td></tr>
<tr><td scope="row"><code>''</code> (<span><em>пустая строка</em></span>)
</td><td><p><code>&lt;field name="<em><code>column_name</code></em>
"&gt;&lt;/field&gt;</code></p></td></tr>
<tr><td scope="row"><code>'NULL'</code> (<span><em>строковое значение</em>
</span>)</td><td><p><code>&lt;field name="<em><code>column_name</code></em>
"&gt;NULL&lt;/field&gt;</code></p></td></tr></tbody></table>

<p>Вывод <a href="#mysql"><span><strong>mysql</strong></span>
</a>, когда выполнен используя <a href="#option_mysql_xml"><code>
--xml</code></a>, также следует предыдущим правилам. См.
<a href="#mysql-command-options">раздел 5.5.1.1</a>.</p>

<p>Вывод XML из <a href="#mysqldump"><span><strong>mysqldump
</strong></span></a> включает пространство имен XML, как показано здесь:
<pre>
shell&gt; mysqldump --xml -u root world City
&lt;?xml version="1.0"?&gt;
&lt;mysqldump xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"&gt;
&lt;database name="world"&gt;
&lt;table_structure name="City"&gt;
&lt;field Field="ID" Type="int(11)" Null="NO" Key="PRI" Extra="auto_increment" /&gt;
&lt;field Field="Name" Type="char(35)" Null="NO" Key="" Default="" Extra="" /&gt;
&lt;field Field="CountryCode" Type="char(3)" Null="NO" Key="" Default="" Extra="" /&gt;
&lt;field Field="District" Type="char(20)" Null="NO" Key="" Default="" Extra="" /&gt;
&lt;field Field="Population" Type="int(11)" Null="NO" Key="" Default="0" Extra="" /&gt;
&lt;key Table="City" Non_unique="0" Key_name="PRIMARY" Seq_in_index="1" Column_name="ID"
Collation="A" Cardinality="4079" Null="" Index_type="BTREE" Comment="" /&gt;
&lt;options Name="City" Engine="MyISAM" Version="10" Row_format="Fixed" Rows="4079"
Avg_row_length="67" Data_length="273293" Max_data_length="18858823439613951"
Index_length="43008" Data_free="0" Auto_increment="4080"
Create_time="2007-03-31 01:47:01" Update_time="2007-03-31 01:47:02"
Collation="latin1_swedish_ci" Create_options="" Comment="" /&gt;
&lt;/table_structure&gt;
&lt;table_data name="City"&gt;
&lt;row&gt;
&lt;field name="ID"&gt;1&lt;/field&gt;
&lt;field name="Name"&gt;Kabul&lt;/field&gt;
&lt;field name="CountryCode"&gt;AFG&lt;/field&gt;
&lt;field name="District"&gt;Kabol&lt;/field&gt;
&lt;field name="Population"&gt;1780000&lt;/field&gt;
&lt;/row&gt;

<em><code>...</code></em>

&lt;row&gt;
&lt;field name="ID"&gt;4079&lt;/field&gt;
&lt;field name="Name"&gt;Rafah&lt;/field&gt;
&lt;field name="CountryCode"&gt;PSE&lt;/field&gt;
&lt;field name="District"&gt;Rafah&lt;/field&gt;
&lt;field name="Population"&gt;92020&lt;/field&gt;
&lt;/row&gt;
&lt;/table_data&gt;
&lt;/database&gt;
&lt;/mysqldump&gt;
</pre></li></ul>

<h4><a name="mysqldump-filter-options"></a>Фильтрация опций</h4>
<p>Следующие опции управляют, которые виды объектов схемы написаны в файл
дампа: по категориям, такие как триггеры или события, по имени, например,
выбирая, которые базы данных и таблицы вывести, или даже фильтруя строки
табличных данных, используя <code>WHERE</code>.</p>

<ul><li><p><a name="option_mysqldump_all-databases"></a>
<code>--all-databases</code>, <code>-A</code></p>
<p>Выведите все таблицы во всех базах данных. Это то же самое, как
использование <a href="#option_mysqldump_databases"><code>
--databases</code></a> и перечисление всех баз данных в командной строке.</p>

<p>До MySQL 8.0 опции <a href="#option_mysqldump_routines"><code>
--routines</code></a> и <a href="#option_mysqldump_events"><code>
--events</code></a> для <a href="#mysqldump"><span><strong>
mysqldump</strong></span></a> и <a href="#mysqlpump"><span>
<strong>mysqlpump</strong></span></a> не требуются, чтобы сдампить
сохраненные подпрограммы и события, используя
<a href="#option_mysqldump_all-databases"><code>--all-databases
</code></a>: дамп включает системную базу данных <code>mysql</code>, а значит
таблицы <code>mysql.proc</code> и <code>mysql.event</code>, содержащие
сохраненные подпрограммы и определения событий. С MySQL 8.0 таблицы
the <code>mysql.event</code> и <code>mysql.proc</code> не используются.
Определения для соответствующих объектов сохранены в таблицах словаря данных,
но те таблицы не выведены. Чтобы включать сохраненные подпрограммы
и события в дамп, сделанном, используя опцию
<a href="#option_mysqldump_all-databases"><code>--all-databases
</code></a>, используйте явно опции
<a href="#option_mysqldump_routines"><code>--routines</code></a>
и <a href="#option_mysqldump_events"><code>--events</code></a>.
</li>

<li><a name="option_mysqldump_databases"></a>
<code>--databases</code>, <code>-B</code></p>
<p>Выведите несколько баз данных. Обычно
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
обрабатывает первый параметр имени в командной строке как имя базы данных и
последующие имена как имена таблиц. С этой опцией это обрабатывает все
параметры имени как имена базы данных. <a href="sql.htm#create-database">
<code>CREATE DATABASE</code></a> и <a href="sql.htm#use"><code>USE</code></a>
включены в вывод перед каждой новой базой данных.</p>

<p>Эта опция может использоваться, чтобы вывести
<code>performace_schema</code>, которая обычно не выводится даже с
<a href="#option_mysqldump_all-databases"><code>--all-databases
</code></a>. Также используйте опцию
<a href="#option_mysqldump_lock-tables"><code>--skip-lock-tables
</code></a>.</li>

<li><a name="option_mysqldump_events"></a>
<code>--events</code>, <code>-E</code></p>
<p>Включить события Event Scheduler для выведенных баз данных в выводе.
Эта опция требует привилегию <a href="security.htm#priv_event"><code>EVENT
</code></a> для тех баз данных.</p>

<p>Вывод, произведенный при использовании <code>--events</code>,
содержит <a href="sql.htm#create-event"><code>CREATE EVENT</code></a>,
чтобы создать события.</li>

<li><a name="option_mysqldump_ignore-error"></a>
<code>--ignore-error=<em><code>error[,error]...</code></em></code></p>
<p>Проигнорируйте указанные ошибки. Значение опции: список разделенных
запятой значений кодов ошибки, определяющих, какие ошибки проигнорировать во
время <a href="#mysqldump"><span><strong>mysqldump</strong>
</span></a>. Если дана еще и опция
<a href="#option_mysqldump_force"><code>--force</code></a>, чтобы
проигнорировать все ошибки, <a href="#option_mysqldump_force">
<code>--force</code></a> имеет приоритет.</li>

<li><a name="option_mysqldump_ignore-table"></a>
<code>--ignore-table=<em><code>db_name.tbl_name</code></em></code></p>
<p>Не выводите данную таблицу, которая должна быть определена,
используя имя базы данных и имя таблицы. Чтобы проигнорировать много таблиц,
используйте эту опцию многократно. Эта опция также может использоваться,
чтобы проигнорировать представления.</li>

<li><a name="option_mysqldump_no-data"></a>
<code>--no-data</code>, <code>-d</code></p>
<p>Не пишите информацию о строке таблицы (то есть, не выводите табличное
содержание). Это полезно, если Вы хотите вывести только
<a href="sql.htm#create-table"><code>CREATE TABLE</code></a> для таблицы
(например, чтобы создать пустую копию таблицы, загружая файл дампа).</li>

<li><a name="option_mysqldump_routines"></a>
<code>--routines</code>, <code>-R</code></p>
<p>Включайте сохраненные подпрограммы (процедуры и функции) для выведенных
баз данных в вывод. Эта опция требует глобальной привилегии
<a href="security.htm#priv_select"><code>SELECT</code></a>.</p>

<p>Вывод, произведенный при использовании <code>--routines</code> включает
<a href="sql.htm#create-procedure"><code>CREATE PROCEDURE</code></a> и
<a href="sql.htm#create-function"><code>CREATE FUNCTION</code></a>,
чтобы создать подпрограммы.</li>

<li><a name="option_mysqldump_tables"></a><code>--tables</code></p>
<p>Отменяет опции <a href="#option_mysqldump_databases"><code>
--databases</code></a> или <code>-B</code>. <a href="#mysqldump">
<span><strong>mysqldump</strong></span></a> расценивает все параметры имени
после опции как имена таблиц.</li>

<li><a name="option_mysqldump_triggers"></a><code>--triggers</code></p>
<p>Включайте триггеры для каждой выведенной таблицы в вывод.
Эта опция включена по умолчанию, отключите это с <code>--skip-triggers
</code>.</p>

<p>Чтобы быть в состоянии вывести триггеры таблицы, Вы должны иметь
привилегию <a href="security.htm#priv_trigger"><code>TRIGGER</code></a>
для этой таблицы.</p>

<p>Многократные триггеры допустимы.
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
выводит триггеры в порядке активации, чтобы, когда файл дампа перезагружен,
триггеры были созданы в том же самом порядке активации. Однако, если файл
дампа содержит многократные триггеры для таблицы, у которых есть те же самые
событие и момент действия, ошибка происходит для попыток загрузить файл дампа
в более старый сервер, который не поддерживает многократные триггеры. См.
<a href="install.htm#downgrading-to-previous-series">раздел 2.10.2.1</a>,
Вы можете преобразовать триггеры, чтобы быть совместимыми с
более старыми серверами.</li>

<li><a name="option_mysqldump_where"></a>
<code>--where='<em><code>where_condition</code></em>'</code>,
<code>-w '<em><code>where_condition</code></em>'</code></p>

<p>Выведите только строки, выбранные данным условием <code>WHERE</code>.
Кавычки вокруг условия принудительны, если оно содержит пробелы или другие
символы, которые являются особенными для Вашего интерпретатора команды.</p>

<p>Например:
<pre>
--where="user='jimf'"
-w"userid&gt;1"
-w"userid&lt;1"
</pre></li></ul>

<h4><a name="mysqldump-performance-options"></a>Исполнительные опции</h4>
<p>Следующие опции являются самыми важными для исполнения, особенно операций
восстановления. Для больших наборов данных, восстановление (обработка
<code>INSERT</code> в файле дампа), самая отнимающая много времени часть.
Когда не срочно восстановить данные быстро, стоит запланировать и проверить
исполнение этого этапа заранее. В случае времен восстановления, измеренных в
часах, Вы могли бы предпочесть альтернативное резервное копирование и
восстановление, такое как <a href="mysql.htm#mysql-enterprise-backup">MySQL
Enterprise Backup</a> для <code>InnoDB</code> и смешанных баз данных.</p>

<p>Работа также затронута
<a href="#mysqldump-transaction-options">транзакционнными опциями
</a>, прежде всего для работы дампа.</p>

<ul><li><p><a name="option_mysqldump_disable-keys"></a>
<code>--disable-keys</code>, <code>-K</code></p>
<p>Для каждой таблицы, окружите
<a href="sql.htm#insert"><code>INSERT</code></a> <code>/*!40000 ALTER TABLE
<em><code>tbl_name</code></em> DISABLE KEYS */;</code> и
<code>/*!40000 ALTER TABLE <em><code>tbl_name</code></em> ENABLE KEYS */;
</code>. Это делает загрузку файла дампа быстрее, потому что индексирование
создается после того, как все строки вставлены. Эта опция эффективна только
для группового индекса <code>MyISAM</code>.</li>

<li><a name="option_mysqldump_extended-insert"></a>
<code>--extended-insert</code>, <code>-e</code></p>
<p>Писать <a href="sql.htm#insert"><code>INSERT</code></a>,
используя синтаксис многократной строки, который включает несколько списков
<code>VALUES</code>. Это приводит к меньшему файлу дампа и убыстряет
вставки, когда файл перезагружен.</li>

<li><a name="option_mysqldump_insert-ignore"></a>
<code>--insert-ignore</code></p>
<p>Писать <a href="sql.htm#insert"><code>INSERT IGNORE</code></a>
вместо <a href="sql.htm#insert"><code>INSERT</code></a>.</li>

<li><a name="option_mysqldump_opt"></a><code>--opt</code></p>
<p>Эта опция, включенная по умолчанию, является сокращением для комбинации
<a href="#option_mysqldump_add-drop-table"><code>--add-drop-table
</code></a>,
<a href="#option_mysqldump_add-locks"><code>--add-locks</code>
</a>, <a href="#option_mysqldump_create-options"><code>
--create-options</code></a>,
<a href="#option_mysqldump_disable-keys"><code>--disable-keys
</code></a>,
<a href="#option_mysqldump_extended-insert"><code>
--extended-insert</code></a>,
<a href="#option_mysqldump_lock-tables"><code>--lock-tables
</code></a>,
<a href="#option_mysqldump_quick"><code>--quick</code></a> и
<a href="#option_mysqldump_set-charset"><code>--set-charset
</code></a>. Это дает быструю работу дампа и производит файл дампа, который
может быть перезагружен в сервер MySQL быстро.</p>

<p>Поскольку опция <code>--opt</code>
включена по умолчанию, Вы только определяете обратную
<a href="#option_mysqldump_skip-opt"><code>--skip-opt</code></a>,
чтобы выключить несколько настроек по умолчанию. См. обсуждение
<a href="#mysqldump-option-groups">групп опций
<code>mysqldump</code></a> для информации об отборном включении или
отключении подмножества опций, затронутых <code>--opt</code>.</li>

<li><a name="option_mysqldump_quick"></a>
<code>--quick</code>, <code>-q</code></p>
<p>Эта опция полезна для дампа больших таблиц. Это вынуждает
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
получить строки для таблицы от сервера поштучно вместо того, чтобы получить
весь набор строк и буферизовать это в памяти перед выписыванием.</li>

<li><a name="option_mysqldump_skip-opt"></a><code>--skip-opt</code></p>
<p>См. описание опции
<a href="#option_mysqldump_opt"><code>--opt</code></a>.
</p></li></ul>

<h4><a name="mysqldump-transaction-options"></a>Опции транзакций</h4>
<p>Следующие опции балансируют между исполнением работы дампа, надежностью и
последовательностью экспортируемых данных.</p>

<ul><li><p><a name="option_mysqldump_add-locks"></a>
<code>--add-locks</code></p>
<p>Окружите каждый табличный дамп <a href="sql.htm#lock-tables"><code>LOCK
TABLES</code></a> и <a href="sql.htm#lock-tables"><code>UNLOCK TABLES</code>
</a>. Это приводит к быстрой вставке, когда файл дампа перезагружен. См.
<a href="optimiz.htm#insert-speed">раздел 9.2.2.1</a>.</li>

<li><a name="option_mysqldump_flush-logs"></a>
<code>--flush-logs</code>, <code>-F</code></p>
<p>Сбросить файлы системного журнала сервера MySQL прежде, чем запустить
дамп. Эта опция требует привилегии
<a href="security.htm#priv_reload"><code>RELOAD</code></a>.
Если Вы используете эту опцию в комбинации с
<a href="#option_mysqldump_all-databases"><code>--all-databases
</code></a>, журналы сбрасываются <span><em>для каждой выведенной базы данных
</em></span>. Исключение, используя
<a href="#option_mysqldump_lock-all-tables"><code>
--lock-all-tables</code></a>,
<a href="#option_mysqldump_master-data"><code>--master-data
</code></a> или <a href="#option_mysqldump_single-transaction">
<code>--single-transaction</code></a>: в этом случае журналы сбрасываются
только однажды, соответствуя моменту, когда все таблицы заблокированы.
Если Вы хотите, чтобы Ваш дамп и сброс данных журнала на диск произошли в
точно тот же самый момент, Вы должны использовать <code>--flush-logs</code> с
<a href="#option_mysqldump_lock-all-tables"><code>
--lock-all-tables</code></a>,
<a href="#option_mysqldump_master-data"><code>--master-data
</code></a> или <a href="#option_mysqldump_single-transaction"><
code>--single-transaction</code></a>.</li>

<li><a name="option_mysqldump_flush-privileges"></a>
<code>--flush-privileges</code></p>
<p>Добавить <a href="sql.htm#flush"><code>FLUSH PRIVILEGES</code></a>
в вывод дампа после дампа базы данных <code>mysql</code>.
Эта опция должна использоваться в любое время, когда дамп содержит
базу данных <code>mysql</code> и любую другую базу данных, которая зависит от
данных в базе данных <code>mysql</code> для надлежащего восстановления.</p>

<p>Для обновлений до MySQL 5.7.2 или выше от более старых версий
не надо использовать <code>--flush-privileges</code>. Для инструкций по
обновлению в этом случае см.
<a href="install.htm#upgrading-from-previous-series">раздел 2.10.1.1</a>.</p>

</li><li><p><a name="option_mysqldump_lock-all-tables"></a>
<code>--lock-all-tables</code>, <code>-x</code></p>
<p>Заблокируйте все таблицы через все базы данных. Это достигнуто, приобретая
глобальную блокировку чтения на время всего дампа. Эта опция автоматически
выключает <a href="#option_mysqldump_single-transaction"><code>
--single-transaction</code></a> и
<a href="#option_mysqldump_lock-tables"><code>--lock-tables
</code></a>.</li>

<li><a name="option_mysqldump_lock-tables"></a>
<code>--lock-tables</code>, <code>-l</code></p>
<p>Для каждой выведенной базы данных, заблокируйте все таблицы, которые будут
выведены прежде, чем вывести их. Таблицы заблокированы с
<code>READ LOCAL</code>, чтобы разрешить параллельные вставки в случае
<code>MyISAM</code>. Для транзакционных таблиц <code>InnoDB</code>
<a href="#option_mysqldump_single-transaction"><code>
--single-transaction</code></a> намного лучшая опция, чем
<code>--lock-tables</code>, потому что это не должно
заблокировать таблицы вообще.</p>

<p>Так как <code>--lock-tables</code> блокирует таблицы для каждой базы
данных отдельно, эта опция не гарантирует, что таблицы в файле дампа
логически последовательны между базами данных. Таблицы в различных базах
данных могут быть выведены в абсолютно различных статусах.</p>

<p>Некоторые опции, например,
<a href="#option_mysqldump_opt"><code>--opt</code></a>,
автоматически включают <code>--lock-tables</code>. Если Вы хотите
переопределить это, надо использовать <code>--skip-lock-tables</code>
в конце списка опций.</li>

<li><a name="option_mysqldump_no-autocommit"></a>
<code>--no-autocommit</code></p>
<p>Добавить <a href="sql.htm#insert"><code>INSERT</code></a>
для каждой выведенной таблицы в пределах <code>SET autocommit = 0</code> и
<a href="sql.htm#commit"><code>COMMIT</code></a>.</li>

<li><a name="option_mysqldump_order-by-primary"></a>
<code>--order-by-primary</code></p>
<p>Выведите строки каждой таблицы, сортированные ее первичным ключом
или ее первым уникальным индексом, если такой индекс существует.
Это полезно, выводя <code>MyISAM</code>, которая будет загружена в
<code>InnoDB</code>, но заставляет дамп работать значительно дольше.</li>

<li><a name="option_mysqldump_shared-memory-base-name"></a>
<a href="#option_mysqldump_shared-memory-base-name"><code>
--shared-memory-base-name=<em><code>name</code></em></code></a></p>

<p>В Windows имя совместно используемой памяти для соединений, сделанных,
используя совместно используемую память для локального сервера.
Значение по умолчанию <code>MYSQL</code>.
Имя совместно используемой памяти является чувствительным к регистру.</p>

<p>Сервер должен быть запущен с
<a href="server.htm#option_mysqld_shared-memory"><code>--shared-memory</code>
</a>.</li>

<li><a name="option_mysqldump_single-transaction"></a>
<code>--single-transaction</code></p>
<p>Эта опция устанавливает операционный режим изоляции в
<a href="innodb.htm#isolevel_repeatable-read"><code>REPEATABLE READ</code>
</a> и посылает запрос SQL <a href="sql.htm#commit"><code>START TRANSACTION
</code></a> серверу прежде, чем вывести данные. Это полезно только с
транзакционными таблицами вроде <code>InnoDB</code>,
потому что тогда это выводит последовательное состояние базы данных в то
время, как <a href="sql.htm#commit"><code>START TRANSACTION</code></a>
был выпущен, не блокируя приложений.</p>

<p>Используя эту опцию, Вы должны иметь в виду, что только
<code>InnoDB</code> выведены в последовательном состоянии.
Например, любые таблицы <code>MyISAM</code> или <code>MEMORY</code>,
выведенные, используя эту опцию, могут все еще изменить статус.</p>

<p>В то время, как <a href="#option_mysqldump_single-transaction">
<code>--single-transaction</code></a> дамп в процессе, чтобы гарантировать
допустимый файл дампа (правильное табличное содержание и двоичные координаты
журнала), никакое другое соединение не должно использовать следующие запросы:
<a href="sql.htm#alter-table"><code>ALTER TABLE</code></a>,
<a href="sql.htm#create-table"><code>CREATE TABLE</code></a>,
<a href="sql.htm#drop-table"><code>DROP TABLE</code></a>,
<a href="sql.htm#rename-table"><code>RENAME TABLE</code></a>,
<a href="sql.htm#truncate-table"><code>TRUNCATE TABLE</code></a>.
Последовательное чтение не изолировано от этих запросов, таким образом,
использование их на таблице, которая будет выведена, может вызвать
<a href="sql.htm#select"><code>SELECT</code></a>, который выполнен
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>,
чтобы получить табличное содержание, получит неправильное содержание
или потерпит неудачу.</p>

<p>Опции <code>--single-transaction</code> и
<a href="#option_mysqldump_lock-tables"><code>--lock-tables
</code></a> являются взаимоисключающими, потому что
<a href="sql.htm#lock-tables"><code>LOCK TABLES</code></a>
заставляет любые ждущие транзакции передать неявно.</p>

<p>Чтобы вывести большие таблицы, объедините
<code>--single-transaction</code> с
<a href="#option_mysqldump_quick"><code>--quick</code></a>.
</p></li></ul>

<h4><a name="mysqldump-option-groups"></a>Группы опций</h4>
<ul><li><p><a href="#option_mysqldump_opt"><code>--opt</code></a>
включает несколько настроек, которые сотрудничают, чтобы выполнить быструю
работу дампа. Все эти настройки включены по умолчанию, потому что
<code>--opt</code> включена по умолчанию. Вы можете выключить эти настройки
как группу, определяя <code>--skip-opt</code>,
произвольно повторно включая определенные настройки, определяя связанные
опции позже в командной строке</li>

<li><a href="#option_mysqldump_compact"><code>--compact</code>
</a> выключает несколько настроек, которые управляют тем, появляются ли
дополнительные запросы и комментарии в выводе. Вы можете следовать
этой опции с другими опциями, которые повторно включают определенные
настройки или включают все настройки, при использовании формы
<code>--skip-compact</code>.</p></li></ul>

<p>Когда Вы выборочно включаете или отключаете эффект групповой опции,
порядок важен, потому что опции обработаны по порядку. Например,
<a href="#option_mysqldump_disable-keys"><code>--disable-keys
</code></a>
<a href="#option_mysqldump_lock-tables"><code>--lock-tables
</code></a>
<a href="#option_mysqldump_skip-opt"><code>--skip-opt</code></a>
не имело бы намеченного эффекта, это то же самое, как отдельно
<a href="#option_mysqldump_skip-opt"><code>--skip-opt</code></a>.
</p>

<h4><a name="mysqldump-option-examples"></a>Примеры</h4>
<p>Сделать резервное копирование всей базы данных:
<pre>
shell&gt; mysqldump <em><code>db_name</code></em> &gt; em><code>backup-file.sql</code></em>
</pre>

Загрузить файл дампа назад в сервер:
<pre>
shell&gt; mysql <em><code>db_name</code></em> &lt; <em><code>backup-file.sql</code></em>
</pre>

Другой способ перезагрузить файл дампа:
<pre>
shell&gt; mysql -e "source <em><code>/path-to-backup/backup-file.sql</code></em>" <em><code>db_name</code></em>
</pre>

<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
также очень полезен для заполнения баз данных, копируя данные от одного
сервера MySQL в другой:
<pre>
shell&gt; mysqldump --opt <em><code>db_name</code></em> | mysql --host=<em><code>remote_host</code></em>
                    -C <em><code>db_name</code></em>
</pre>

Вы можете вывести несколько баз данных одной командой:
<pre>
shell&gt; mysqldump --databases <em><code>db_name1</code></em>
                    [<em><code>db_name2</code></em> ...] &gt; my_databases.sql
</pre>

Чтобы вывести все базы данных, используйте опцию
<a href="#option_mysqldump_all-databases"><code>--all-databases
</code></a>:
<pre>
shell&gt; mysqldump --all-databases &gt; all_databases.sql
</pre>

Для таблиц <code>InnoDB</code>
<a href="#mysqldump"><span><strong>mysqldump</strong></span></a>
обеспечивает способ сделать резервное копирование онлайн:
<pre>
shell&gt; mysqldump --all-databases --master-data
                    --single-transaction &gt; all_databases.sql
</pre>

Это резервное копирование приобретает глобальную блокировку чтения на всех
таблицах (с использованием <a href="sql.htm#flush"><code>FLUSH TABLES WITH
READ LOCK</code></a>) в начале дампа. Как только эта блокировка была
приобретена, двоичные координаты журнала считаны, и блокировка снята.
Если долго обновляющие запросы работают, когда запущен
<a href="sql.htm#flush"><code>FLUSH</code></a>, сервер MySQL может быть
остановлен, пока те запросы не заканчиваются. После этого дамп
освобождает блокировку и не нарушает чтения и записи на таблицах.
Если запросы обновления, что сервер MySQL получает, коротки
(с точки зрения времени выполнения), начальный период блокировки не должен
быть примечательным, даже со многими обновлениями.</p>

<p>Для восстановления момента времени (также известный как
<span><span>roll-forward</span></span>, когда Вы должны восстановить старую
резервную копию и переиграть изменения, которые произошли начиная с того
резервного копирования), часто полезно ротировать двоичный журнал (см.
<a href="server.htm#binary-log">раздел 6.4.4</a>)
или, по крайней мере, знать двоичные координаты журнала,
которым соответствует дамп:
<pre>
shell&gt; mysqldump --all-databases --master-data=2 &gt; all_databases.sql
</pre>

Или:
<pre>
shell&gt; mysqldump --all-databases --flush-logs --master-data=2
     &gt;           all_databases.sql
</pre>

Опции <a href="#option_mysqldump_master-data"><code>
--master-data</code></a> и
<a href="#option_mysqldump_single-transaction"><code>
--single-transaction</code></a> могут использоваться одновременно, что
обеспечивает удобный способ сделать резервное копирование онлайн подходящим
для использования до восстановления момента времени,
если таблицы сохранены, используя <code>InnoDB</code>.</p>
<p>См. разделы <a href="backup.htm#backup-methods">8.2</a> и
<a href="backup.htm#backup-strategy-example">8.3</a>.</p>

<ul><li><p>Чтобы выбрать эффект <a href="#option_mysqldump_opt">
<code>--opt</code></a> за исключением некоторых особенностей, используйте
<code>--skip</code> для каждой особенности. Чтобы отключить расширенную
вставку и буферизацию памяти, надо использовать
<a href="#option_mysqldump_opt"><code>--opt</code></a>
<a href="#option_mysqldump_extended-insert"><code>
--skip-extended-insert</code></a>
<a href="#option_mysqldump_quick"><code>--skip-quick</code></a>.
Фактически <a href="#option_mysqldump_extended-insert"><code>
--skip-extended-insert</code></a>
<a href="#option_mysqldump_quick"><code>--skip-quick</code></a>
достаточно, потому что <a href="#option_mysqldump_opt"><code>
--opt</code></a> включена по умолчанию.</li>

<li>Чтобы обратить <a href="#option_mysqldump_opt"><code>--opt
</code></a> для всех особенностей, кроме выключения индексов и табличной
блокировки, используйте <a href="#option_mysqldump_skip-opt">
<code>--skip-opt</code></a>
<a href="#option_mysqldump_disable-keys"><code>--disable-keys</code></a>
<a href="#option_mysqldump_lock-tables"><code>--lock-tables</code></a>.
</p></li></ul>

<h4><a name="mysqldump-restrictions"></a>Ограничения</h4>
<p><a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a> не выводит <code>performance_schema</code> или <code>sys</code>
по умолчанию. Чтобы вывести любую из них, назовите их явно в командной
строке. Вы можете также назвать их с опцией
<a href="#option_mysqldump_databases"><code>--databases</code>
</a>. Для <code>performance_schema</code> также используйте опцию
<a href="#option_mysqldump_lock-tables"><code>--skip-lock-tables
</code></a>.</p>

<p><a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a> не выводит <code>INFORMATION_SCHEMA</code>.</p>
<p><a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a> включает запросы, чтобы обновить таблицы
<code>general_log</code> и <code>slow_query_log</code>
для дампов базы данных <code>mysql</code>.
Табличное содержание журнала не выведено.</p>

<p>Если Вы сталкиваетесь с проблемами поддержки представления из-за
недостаточных привилегий, см. <a href="restr.htm#view-restrictions">раздел
C.5</a>.</p>

<h3><a name="mysqlimport"></a>5.5.5.
<span><strong>mysqlimport</strong></span> программа импорта данных</h3>
<p><a href="#mysqlimport"><span><strong>mysqlimport</strong>
</span></a> обеспечивает интерфейс командной строки для SQL-запроса
<a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>.
Большинство опций <a href="#mysqlimport"><span><strong>
mysqlimport</strong></span></a> соответствует непосредственно параметрам
<a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>, см.
<a href="sql.htm#load-data">раздел 14.2.6</a>.</p>

<p>Вызов <a href="#mysqlimport"><span><strong>mysqlimport
</strong></span></a>:
<pre>
shell&gt; mysqlimport [<em><code>options</code></em>] <em><code>db_name</code></em>
                      <em><code>textfile1</code></em> [<em><code>textfile2</code></em> ...]
</pre>

Для каждого текстового файла, названного в командной строке,
<a href="#mysqlimport"><span><strong>mysqlimport</strong></span>
</a> отрезает любое расширение от имени файла и использует результат, чтобы
определить название таблицы, в которую можно импортировать содержание файла.
Например, файлы <code>patient.txt</code>, <code>patient.text</code> и
<code>patient</code> все были бы импортированы в таблицу <code>patient</code>.
</p>

<p><a href="#mysqlimport"><span><strong>mysqlimport</strong>
</span></a> поддерживает следующие опции, которые могут быть определены в
командной строке или в группах <code>[mysqlimport]</code> и
<code>[client]</code> файла опции. Для информации о файлах опции,
используемых программами MySQL, см. <a href="#option-files">
раздел 5.2.6</a>.</p>

<p><b>Таблица 5.12. Опции <code>mysqlimport</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row">
<a href="#option_mysqlimport_bind-address">--bind-address</a>
</td><td>Используйте определенный сетевой интерфейс, чтобы
соединиться с MySQL Server</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_columns">
--columns</a></td><td>Эта опция берет список разделенных запятой значений
имен столбцов как значение</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_compress">
--compress</a></td><td>Сжать всю информацию, посланную
между клиентом и сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_debug">--debug
</a></td><td>Писать журнал отладки</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_debug-check">
--debug-check</a></td><td>Информация об отладке, когда программа выходит
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_debug-info">
--debug-info</a></td><td>Информация об отладке, памяти и статистика
центрального процессора, когда программа выходит</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_default-auth">
--default-auth</a></td><td>Плагин аутентификации, чтобы использовать
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_default-character-set">
--default-character-set</a></td><td>Определите набор символов
значения по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_delete">--delete
</a></td><td>Освободить таблицу прежде, чем импортировать текстовый файл
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_enable-cleartext-plugin">
--enable-cleartext-plugin</a></td>
<td>Включите плагин аутентификации открытого текста</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_fields">
--fields-enclosed-by</a></td><td>У этой опции есть то же самое значение,
как соответствующий параметр LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_fields">
--fields-escaped-by</a></td><td>Эта опция имеет то же значение, что и
соответствующий параметр LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_fields">
--fields-optionally-enclosed-by</a></td><td>Эта опция имеет то же значение,
что и соответствующий параметр LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_fields">
--fields-terminated-by</a></td><td>Эта опция имеет то же значение, что и
соответствующий параметр LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_force">
--force</a></td><td>Продолжите, даже если ошибка SQL происходит</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_help">
--help</a></td><td>Отобразить справочное сообщение</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_host">--host</a>
</td><td>Соединитесь с сервером MySQL на данном хосте</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_ignore">--ignore
</a></td><td>См. описание опции --replace</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_ignore-lines">
--ignore-lines</a></td><td>Проигнорируйте первые N строк файла с данными
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_lines-terminated-by">
--lines-terminated-by</a></td><td>Эта опция имеет то же значение, что и
соответствующий параметр LOAD DATA INFILE</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_local">--local
</a></td><td>Читать входные файлы локально с хоста клиента</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_lock-tables">
--lock-tables</a></td><td>Заблокируйте все таблицы для записи прежде, чем
обработать любые текстовые файлы</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_login-path">
--login-path</a></td><td>Загрузить опции пути входа в систему из .mylogin.cnf
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_low-priority">
--low-priority</a></td><td>Применить LOW_PRIORITY, загружая таблицу</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_no-defaults">
--no-defaults</a></td><td>Не читать файлы опций</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_password">
--password</a></td><td>Пароль, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_pipe">--pipe</a>
</td><td>В Windows соединитесь с сервером, используя именованный канал
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_port">--port</a>
</td><td>Номер порта TCP/IP, чтобы использовать для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_print-defaults">
--print-defaults</a></td><td>Напечатайте опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_protocol">
--protocol</a></td><td>Протокол соединения, чтобы использовать</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_replace">
--replace</a></td><td>Опции --replace и --ignore управляют обработкой
входных строк, которые дублируют существующие строки на
уникальных значениях ключа</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_secure-auth">
--secure-auth</a></td><td>Не посылайте пароли в сервер в
старом формате (pre-4.1)</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_shared-memory-base-name">
--shared-memory-base-name</a></td><td>Название совместно используемой памяти,
чтобы использовать для соединений совместно используемой памяти</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_silent">--silent
</a></td><td>Произведите вывод только, когда ошибки происходят</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_socket">--socket
</a></td><td>Для соединений с localhost файл сокета Unix</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_ssl">--ssl-ca
</a></td><td>Путь к файлу, который содержит список доверенных SSL CA</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_ssl">
--ssl-capath</a></td><td>Путь к каталогу, который содержит доверенные
сертификаты SSL CA в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_ssl">--ssl-cert
</a></td><td>Путь к файлу, который содержит сертификат X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_ssl">
--ssl-cipher</a></td><td>Список разрешенных шифров, чтобы использовать
для шифрования соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_ssl">
--ssl-crl</a></td><td>Путь к файлу, который содержит
списки аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_ssl">
--ssl-crlpath</a></td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_ssl">
--ssl-key</a></td><td>Путь к файлу, который содержит ключ X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_ssl">
--ssl-mode</a></td><td>Статус безопасности соединения с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_tls-version">
--tls-version</a></td><td>Протоколы для безопасных соединений</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_use-threads">
--use-threads</a></td><td>Число потоков для параллельной загрузки файла
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_user">--user</a>
</td><td>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_verbose">
--verbose</a></td><td>Подробный режим отчета</td></tr>
<tr><td scope="row"><a href="#option_mysqlimport_version">
--version</a></td><td>Отобразить информацию о версии
</td></tr></tbody></table>

<ul><li><p><a name="option_mysqlimport_help"></a>
<a href="#option_mysqlimport_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить справочное сообщение.</li>

<li><a name="option_mysqlimport_bind-address"></a>
<a href="#option_mysqlimport_bind-address"><code>
--bind-address=<em><code>ip_address</code></em></code></a></p>

<p>На компьютере, имеющем многократные сетевые интерфейсы, используйте эту
опцию, чтобы выбрать который интерфейс использовать для того, чтобы
соединиться с сервером MySQL.</li>

<li><a name="option_mysqlimport_character-sets-dir"></a>
<a href="#option_mysqlimport_character-sets-dir"><code>
--character-sets-dir=<em><code>dir_name</code></em></code></a></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysqlimport_columns"></a>
<a href="#option_mysqlimport_columns"><code>
--columns=<em><code>column_list</code></em></code></a>,
<code>-c <em><code>column_list</code></em></code></p>

<p>Эта опция берет список разделенных запятой значений имен столбцов.
Порядок имен столбцов указывает, как соответствуют столбцы файла с
данными и столбцы таблицы.</li>

<li><a name="option_mysqlimport_compress"></a>
<a href="#option_mysqlimport_compress"><code>--compress</code>
</a>, <code>-C</code></p>
<p>Сжать всю информацию, посланную между клиентом и сервером.</li>

<li><a name="option_mysqlimport_debug"></a>
<a href="#option_mysqlimport_debug"><code>
--debug[=<em><code>debug_options</code></em>]</code></a>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Писать журнал отладки. Типичная строка <em><code>debug_options</code></em>
<code>d:t:o,<em><code>file_name</code></em></code>. По умолчанию это
<code>d:t:o</code>.</li>

<li><a name="option_mysqlimport_debug-check"></a>
<a href="#option_mysqlimport_debug-check"><code>
--debug-check</code></a></p>
<p>Напечатайте некоторую информацию об отладке, когда программа выходит.</li>

<li><a name="option_mysqlimport_debug-info"></a>
<a href="#option_mysqlimport_debug-info"><code>
--debug-info</code></a></p>
<p>Информация об отладке, памяти и статистика использования центрального
процессора, когда программа выходит.</li>

<li><a name="option_mysqlimport_default-character-set"></a>
<a href="#option_mysqlimport_default-character-set"><code>
--default-character-set=<em><code>charset_name</code></em></code></a></p>

<p>Использовать <em><code>charset_name</code></em>
как набор символов по умолчанию. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysqlimport_default-auth"></a>
<a href="#option_mysqlimport_default-auth"><code>
--default-auth=<em><code>plugin</code></em></code></a></p>
<p>Подсказка о клиентском плагине аутентификации, чтобы использовать. См.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqlimport_defaults-extra-file"></a>
<a href="#option_mysqlimport_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Читать этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный
путь, а не полный.</li>

<li><a name="option_mysqlimport_defaults-file"></a>
<a href="#option_mysqlimport_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как
относительный путь, а не полный.</p>

<p>Исключение: Даже с опцией
<a href="#option_general_defaults-file"><code>--defaults-file
</code></a> программы клиента читают <code>.mylogin.cnf</code>.</li>

<li><a name="option_mysqlimport_defaults-group-suffix"></a>
<a href="#option_mysqlimport_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читать не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysqlimport"><span><strong>mysqlimport</strong></span>
</a> обычно читает группы <code>[client]</code> и <code>[mysqlimport]</code>.
Если есть опция
<a href="#option_mysqlimport_defaults-group-suffix"><code>
--defaults-group-suffix=_other</code></a>,
<a href="#mysqlimport"><span><strong>mysqlimport</strong></span>
</a> также читает группы <code>[client_other]</code> и
<code>[mysqlimport_other]</code>.</li>

<li><a name="option_mysqlimport_delete"></a>
<a href="#option_mysqlimport_delete"><code>--delete</code></a>,
<code>-D</code></p>
<p>Освободите таблицу прежде, чем импортировать текстовый файл.</li>

<li><a name="option_mysqlimport_enable-cleartext-plugin"></a>
<a href="#option_mysqlimport_enable-cleartext-plugin"><code>
--enable-cleartext-plugin</code></a></p>

<p>Включите плагин аутентификации открытого текста
<code>mysql_clear_password</code>, см.
<a href="security.htm#cleartext-authentication-plugin">раздел 7.5.1.4</a>.
</li>

<li><a name="option_mysqlimport_fields"></a>
<a href="#option_mysqlimport_fields"><code>
--fields-terminated-by=...</code></a>,
<a href="#option_mysqlimport_fields"><code>
--fields-enclosed-by=...</code></a>,
<a href="#option_mysqlimport_fields"><code>
--fields-optionally-enclosed-by=...</code></a>,
<a href="#option_mysqlimport_fields"><code>
--fields-escaped-by=...</code></a></p>

<p>У этих опций есть то же самое значение, как у соответствующих параметров
<a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>. См.
<a href="sql.htm#load-data">раздел 14.2.6</a>.</li>

<li><a name="option_mysqlimport_force"></a>
<a href="#option_mysqlimport_force"><code>--force</code></a>,
<code>-f</code></p>

<p>Проигнорируйте ошибки. Например, если таблица для текстового файла не
существует, продолжите обрабатывать любые остающиеся файлы. Без
<a href="#option_mysqlimport_force"><code>--force</code></a>
<a href="#mysqlimport"><span><strong>mysqlimport</strong></span>
</a> выходит, если таблица не существует.</li>

<li><a name="option_mysqlimport_host"></a>
<a href="#option_mysqlimport_host"><code>
--host=<em><code>host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Импортировать данные серверу MySQL на данном хосте.
Хост по умолчанию <code>localhost</code>.</li>

<li><a name="option_mysqlimport_ignore"></a>
<a href="#option_mysqlimport_ignore"><code>--ignore</code></a>,
<code>-i</code></p>
<p>См. описание опции <a href="#option_mysqlimport_replace">
<code>--replace</code></a>.</li>

<li><a name="option_mysqlimport_ignore-lines"></a>
<a href="#option_mysqlimport_ignore-lines"><code>
--ignore-lines=<em><code>N</code></em></code></a></p>
<p>Проигнорируйте первые <em><code>N</code></em> строк файла с данными.</li>

<li><a name="option_mysqlimport_lines-terminated-by"></a>
<a href="#option_mysqlimport_lines-terminated-by"><code>
--lines-terminated-by=...</code></a></p>

<p>У этой опции есть то же самое значение, как у соответствующего параметра
<a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>.
Например, чтобы импортировать файлы Windows, которым закончили строки с
возвратом каретки/перевода строки, надо использовать
<a href="#option_mysqlimport_lines-terminated-by"><code>
--lines-terminated-by="\r\n"</code></a>.
Вам, возможно, придется удвоить наклонные черты влево, в зависимости от
соглашений Вашего интерпретатора команд. См.
<a href="sql.htm#load-data">раздел 14.2.6</a>.</li>

<li><a name="option_mysqlimport_local"></a>
<a href="#option_mysqlimport_local"><code>--local</code></a>,
<code>-L</code></p>
<p>Читать входные файлы локально с хоста клиента.</li>

<li><a name="option_mysqlimport_lock-tables"></a>
<a href="#option_mysqldump_lock-tables"><code>
--lock-tables</code></a>, <code>-l</code></p>
<p>Заблокируйте <span><em>все</em></span> таблицы на запись прежде,
чем обработать любые текстовые файлы. Это гарантирует, что все таблицы
синхронизированы на сервере.</li>

<li><a name="option_mysqlimport_login-path"></a>
<a href="#option_mysqlimport_login-path"><code>
--login-path=<em><code>name</code></em></code></a></p>
<p>Читать опции из названного пути входа в систему в
<code>.mylogin.cnf</code>. <span><span>login path</span></span>
является группой опции, содержащей опции, которые определяют, с каким
сервером MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysqlimport_low-priority"></a>
<a href="#option_mysqlimport_low-priority"><code>
--low-priority</code></a></p>
<p>Использовать <code>LOW_PRIORITY</code>, загружая таблицу.
Это затрагивает только механизмы хранения, которые используют только
блокировку на уровне таблицы (например,
<code>MyISAM</code>, <code>MEMORY</code> и <code>MERGE</code>).</li>

<li><a name="option_mysqlimport_no-defaults"></a>
<a href="#option_mysqlimport_no-defaults"><code>
--no-defaults</code></a></p>

<p>Не читайте файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций от файла опции,
<a href="#option_mysqlimport_no-defaults"><code>--no-defaults
</code></a> может использоваться, чтобы препятствовать тому, чтобы
они были считаны.</p>

<p>Исключение то, что файл <code>.mylogin.cnf</code>, если это существует,
считан во всех случаях. Это разрешает паролям быть определенными более
безопасным способом, чем в командной строке, даже когда применяется
<a href="#option_mysqlimport_no-defaults"><code>--no-defaults
</code></a>. <code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysqlimport_password"></a>
<a href="#option_mysqlimport_password"><code>
--password[=<em><code>password</code></em>]</code></a>,
<code>-p[<em><code>password</code></em>]</code></p>

<p>Пароль, чтобы использовать, соединяясь с сервером. Если Вы используете
короткую форму опции (<code>-p</code>),
<span><em>не должно</em></span> быть пробелов
между опцией и паролем. Если Вы опускаете <em><code>password</code></em>
после <a href="#option_mysqlimport_password"><code>--password
</code></a> или <code>-p</code> в командной строке,
<a href="#mysqlimport"><span><strong>mysqlimport</strong></span>
</a> запросит его явно.</p>

<p>Определение пароля в командной строке нужно считать опасным. См.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.
Вы можете использовать файл опции, чтобы избежать давать
пароль в командной строке.</li>

<li><a name="option_mysqlimport_pipe"></a>
<a href="#option_mysqlimport_pipe"><code>--pipe</code></a>,
<code>-W</code></p>

<p>В Windows соединитесь с сервером, используя именованный канал.
Эта опция применяется, только если сервер поддерживает
соединения именованного канала.</li>

<li><a name="option_mysqlimport_plugin-dir"></a>
<a href="#option_mysqlimport_plugin-dir"><code>
--plugin-dir=<em><code>dir_name</code></em></code></a></p>

<p>Каталог, в котором можно искать плагины. Определите эту опцию, если опция
<a href="#option_mysqlimport_default-auth"><code>--default-auth
</code></a> используется, чтобы определить плагин аутентификации, но
<a href="#mysqlimport"><span><strong>mysqlimport</strong></span>
</a> его не нашел, см.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqlimport_port"></a>
<a href="#option_mysqlimport_port"><code>
--port=<em><code>port_num</code></em></code></a>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для соединения.</li>

<li><a name="option_mysqlimport_print-defaults"></a>
<a href="#option_mysqlimport_print-defaults"><code>
--print-defaults</code></a></p>
<p>Напечатайте название программы и все опции, которые это получает
от файлов опции.</li>

<li><a name="option_mysqlimport_protocol"></a>
<a href="#option_mysqlimport_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Протокол соединения, чтобы использовать для того, чтобы соединиться с
сервером. Полезно, когда другие параметры соединения заставляют
использовать не тот протокол, см.
<a href="#connecting">раздел 5.2.2</a>.</li>

<li><a name="option_mysqlimport_replace"></a>
<a href="#option_mysqlimport_replace"><code>--replace</code></a>,
<code>-r</code></p>

<p>Опции <a href="#option_mysqlimport_replace"><code>--replace
</code></a> и <a href="#option_mysqlimport_ignore"><code>--ignore
</code></a> управляют обработкой входных строк, которые дублируют
существующие строки на уникальных значениях ключа. Если Вы определяете
<a href="#option_mysqlimport_replace"><code>--replace</code></a>,
новые строки заменяют существующие строки, у которых есть то же самое
уникальное значение ключа. Если Вы определяете
<a href="#option_mysqlimport_ignore"><code>--ignore</code></a>,
входные строки, которые дублируют существующую строку на уникальном значении
ключа, будут пропущены. Если Вы не определяете ни одну опцию, ошибка
происходит, когда двойное значение ключа найдено, и остальная часть
текстового файла проигнорирована.</li>

<li><a name="option_mysqlimport_secure-auth"></a>
<a href="#option_mysqlimport_secure-auth"><code>
--secure-auth</code></a></p>
<p>Не посылайте пароли в сервер в старом формате (pre-4.1).</p>

<p>Эта опция устарела. Это всегда включается и попытка отключения
(<a href="#option_mysqlimport_secure-auth"><code>
--skip-secure-auth</code></a>,
<a href="#option_mysqlimport_secure-auth"><code>
--secure-auth=0</code></a>) приводит к ошибке.</p></li>

<li><p><a name="option_mysqlimport_shared-memory-base-name"></a>
<a href="#option_mysqlimport_shared-memory-base-name"><code>
--shared-memory-base-name=<em><code>name</code></em></code></a></p>

<p>В Windows имя совместно используемой памяти для соединений, сделанных,
используя совместно используемую память для локального сервера. Значение по
умолчанию <code>MYSQL</code>. Имя совместно используемой памяти
является чувствительным к регистру.</p>

<p>Сервер должен быть запущен с
<a href="server.htm#option_mysqld_shared-memory"><code>--shared-memory</code>
</a>.</li>

<li><a name="option_mysqlimport_silent"></a>
<a href="#option_mysqlimport_silent"><code>--silent</code></a>,
<code>-s</code></p>
<p>Тихий режим. Произведите вывод только, когда ошибки происходят.</li>

<li><a name="option_mysqlimport_socket"></a>
<a href="#option_mysqlimport_socket"><code>--socket=<em><code>
path</code></em></code></a>, <code>-S <em><code>path</code></em></code></p>
<p>Для соединений с <code>localhost</code> файл сокета Unix, в Windows
имя именованного канала.</li>

<li><a name="option_mysqlimport_ssl"></a><code>--ssl*</code></p>
<p>Опции, которые начинаются с
<a href="security.htm#option_general_ssl"><code>--ssl</code></a>,
определяют, соединиться ли с сервером, используя SSL, и указывают, где найти
ключи SSL и сертификаты, см.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysqlimport_tls-version"></a>
<a href="#option_mysqlimport_tls-version"><code>
--tls-version=<em><code>protocol_list</code></em></code></a></p>

<p>Протоколы, разрешенные клиентом для зашифрованных соединений.
Значение: список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы по имени в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL.
Для деталей см. <a href="security.htm#secure-connection-protocols-ciphers">
раздел 7.4.3</a>.</li>

<li><a name="option_mysqlimport_user"></a>
<a href="#option_mysqlimport_user"><code>
--user=<em><code>user_name</code></em></code></a>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером.</li>

<li><a name="option_mysqlimport_use-threads"></a>
<a href="#option_mysqlimport_use-threads"><code>
--use-threads=<em><code>N</code></em></code></a></p>
<p>Файлы загружаются параллельно в <em><code>N</code></em> потоков.</li>

<li><a name="option_mysqlimport_verbose"></a>
<a href="#option_mysqlimport_verbose"><code>--verbose</code></a>,
<code>-v</code></p>
<p>Многословный режим. Напечатать больше информации о том,
что делает программа.</li>

<li><a name="option_mysqlimport_version"></a>
<a href="#option_mysqlimport_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Отобразить информацию о версии.</p></li></ul>

<p>Вот типовой сеанс, который демонстрирует использование
<a href="#mysqlimport"><span><strong>mysqlimport</strong></span>
</a>:
<pre>
shell&gt; mysql -e 'CREATE TABLE imptest(id INT, n VARCHAR(30))' test
shell&gt; ed
a
100 Max Sydow
101 Count Dracula
.
w imptest.txt
32
q
shell&gt; od -c imptest.txt
0000000   1   0   0  \t   M   a   x S   y   d   o   w  \n   1   0
0000020   1  \t   C   o   u   n   t D   r   a   c   u   l   a  \n
0000040

shell&gt; mysqlimport --local test imptest.txt
test.imptest: Records: 2  Deleted: 0  Skipped: 0  Warnings: 0
shell&gt; mysql -e 'SELECT * FROM imptest' test
+-----+---------------+
|  id | n             |
+-----+---------------+
| 100 | Max Sydow     |
| 101 | Count Dracula |
+-----+---------------+
</pre>

<h3><a name="mysqlpump"></a>5.5.6. <span><strong>mysqlpump</strong></span>
программа резервирования базы данных</h3>
<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> выполняет <a href="glossary.htm#glos_logical_backup">логические
резервные копии</a>, производя ряд запросов SQL, которые могут быть
выполнены, чтобы воспроизвести оригинальные определения объекта базы данных и
табличные данные. Это выводит одну или более баз данных MySQL для резервного
копирования или передачи в другой SQL-сервер.</p>

<p>Возможности <a href="#mysqlpump"><span><strong>mysqlpump
</strong></span></a>:</p>
<ul><li><p>Параллельная обработка баз данных и объектов в пределах баз
данных, чтобы ускорить процесс дампа.</li>

<li>Лучшее управление тем, которые базы данных и объекты базы данных
(таблицы, сохраненные программы, учетные записи пользователя) вывести.</li>
<li>Дамп учетных записей пользователя как запросы управления пользователями
(<a href="sql.htm#create-user"><code>CREATE USER</code></a>,
<a href="sql.htm#grant"><code>GRANT</code></a>) вместо вставки в
системную базу данных <code>mysql</code>.</li>

<li>Способность создания сжатого вывода.</li>
<li>Индикатор хода выполнения.</li>
<li>Для перезагрузки файла дампа быстрое создание вторичного индекса для
<code>InnoDB</code> добавлением индексов после того, как строки вставлены.
</p></li></ul>

<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> использует функции MySQL, введенные в MySQL 5.7, и таким образом
предполагает использование с MySQL 5.7 или выше.</p>

<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> требует, по крайней мере, привилегию
<a href="security.htm#priv_select"><code>SELECT</code></a> для выведенных
таблиц, <a href="security.htm#priv_show-view"><code>SHOW VIEW</code></a>
для выведенных представлений, <a href="security.htm#priv_trigger"><code>
TRIGGER</code></a> для выведенных триггеров и
<a href="security.htm#priv_lock-tables"><code>LOCK TABLES</code></a>, если
не применяется опция
<a href="#option_mysqlpump_single-transaction"><code>
--single-transaction</code></a>. Привилегия
<a href="security.htm#priv_select"><code>SELECT</code></a> на
системной базе данных <code>mysql</code> нужна, чтобы
выводить пользовательские определения. Определенные опции могли бы
потребовать других привилегий, как отмечено в описаниях опции.</p>

<p>Чтобы перезагрузить файл дампа, Вы должны иметь приилегии, чтобы
выполнить запросы, которые это содержит, например, <code>CREATE</code>
для объектов, которые созданы теми запросами.</p>

<p>Дамп, сделанный, используя PowerShell на Windows с выходным
перенаправлением, создает файл, у которого есть кодирование UTF-16:
<pre>
shell&gt; mysqlpump [options] &gt; dump.sql
</pre>

Но UTF-16 не разрешен как набор символов соединения (см.
<a href="global.htm#charset-connection">раздел 11.1.4</a>),
таким образом, файл дампа не будет загружаться правильно.
Чтобы решить проблему, используйте опцию <code>--result-file</code>,
которая создает вывод в формате ASCII:
<pre>
shell&gt; mysqlpump [options] --result-file=dump.sql
</pre>

<h4><a name="mysqlpump-syntax"></a>Синтаксис вызова mysqlpump</h4>
<p>По умолчанию <a href="#mysqlpump"><span><strong>mysqlpump
</strong></span></a> выводит все базы данных (с определенными исключениями,
отмеченными в <a href="#mysqlpump-restrictions">ограничениях
mysqlpump</a>). Чтобы определить это поведение явно, используйте
<a href="#option_mysqlpump_all-databases"><code>--all-databases
</code></a>:
<pre>
shell&gt; mysqlpump --all-databases
</pre>

Чтобы вывести единственную базу данных или определенные таблицы в пределах
той базы данных, укажите базу данных в командной строке, произвольно
сопровождаемую именами таблиц:
<pre>
shell&gt; mysqlpump <em><code>db_name</code></em>
shell&gt; mysqlpump <em><code>db_name tbl_name1 tbl_name2 ...</code></em>
</pre>

Чтобы обработать все параметры имени как имена базы данных, используйте
<a href="#option_mysqlpump_databases"><code>--databases</code>
</a>:
<pre>
shell&gt; mysqlpump --databases <em><code>db_name1 db_name2</code></em> ...
</pre>

По умолчанию <a href="#mysqlpump"><span><strong>mysqlpump
</strong></span></a> не выводит определения учетной записи пользователя, даже
если Вы выводите системную базу данных <code>mysql</code>, которая содержит
таблицы привилегий. Чтобы вывести табличное содержание привилегий
как логические определения в форме <a href="sql.htm#create-user"><code>
CREATE USER</code></a> и <a href="sql.htm#grant"><code>GRANT</code></a>,
используйте опцию <a href="#option_mysqlpump_users"><code>
--users</code></a> и весь дамп базы данных:
<pre>
shell&gt; mysqlpump --exclude-databases=% --users
</pre>

В предыдущей команде подстановочный знак <code>%</code>
соответствует всем именам базы данных для
<a href="#option_mysqlpump_exclude-databases"><code>
--exclude-databases</code></a>.</p>

<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> поддерживает несколько опций для включения или исключения базы данных,
таблицы, сохраненных программ и пользовательских определений.</p>

<p>Чтобы перезагрузить файл дампа, выполните запросы, которые
это содержит. Например, используйте <a href="#mysql"><span>
<strong>mysql</strong></span></a>:
<pre>
shell&gt; mysqlpump [options] &gt; dump.sql
shell&gt; mysql &lt; dump.sql
</pre>

Следующее обсуждение обеспечивает дополнительные примеры использования
<a href="#mysqlpump"><span><strong>mysqlpump</strong>.</p>
<p>Чтобы видеть список опций <a href="#mysqlpump"><span><strong>
mysqlpump</strong></span></a>, введите команду
<a href="#mysqlpump"><span><strong>mysqlpump --help</strong>
</span></a>.</p>

<h4><a name="mysqlpump-option-summary"></a>Обзор опций mysqlpump</h4>
<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> поддерживает следующие опции, которые могут быть определены в командной
строке или в группах <code>[mysqlpump]</code> и <code>[client]</code>
файла опции. Для информации о файлах опции, используемых программами MySQL,
см. <a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965411812912"></a><p><b>Таблица 5.13. Опции
<code>mysqlpump</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row"><a href="#option_mysqlpump_add-drop-database">
--add-drop-database</a></td><td>Добавить DROP DATABASE перед
каждым CREATE DATABASE</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_add-drop-table">
--add-drop-table</a></td><td>Добавить DROP TABLE перед
каждым CREATE TABLE</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_add-drop-user">
--add-drop-user</a></td><td>Добавить DROP USER перед
каждым CREATE USER</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_add-locks">
--add-locks</a></td><td>Окружите каждый табличный дамп LOCK
TABLES и UNLOCK TABLES</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_all-databases">
--all-databases</a></td><td>Выведите все базы данных</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_bind-address">
--bind-address</a></td><td>Используйте определенный сетевой интерфейс, чтобы
соединиться с MySQL Server</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_character-sets-dir">
--character-sets-dir</a></td><td>Каталог, где наборы символов установлены
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_complete-insert">
--complete-insert</a></td><td>Используйте полные запросы INSERT, которые
включают имена столбцов</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_compress">
--compress</a></td><td>Сжать всю информацию, посланную
между клиентом и сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_compress-output">
--compress-output</a></td><td>Выходной алгоритм сжатия</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_databases">
--databases</a></td><td>Интерпретируйте все параметры имени как
имена базы данных</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_debug">--debug</a>
</td><td>Вести журнал отладки</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_debug-check">
--debug-check</a></td><td>Информация об отладке, когда программа выходит
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_debug-info">
--debug-info</a></td><td>Информация об отладке, памяти
и статистика центрального процессора, когда программа выходит</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_default-auth">
--default-auth</a></td><td>Плагин аутентификации, чтобы использовать
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_default-character-set">
--default-character-set</a></td><td>Определите набор символов по умолчанию
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_default-parallelism">
--default-parallelism</a></td><td>Число потоков по умолчанию
для параллельной обработки</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_defer-table-indexes">
--defer-table-indexes</a></td><td>Для того, чтобы перезагрузить, задержать
создание индекса до окончания загрузки строк таблицы</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_events">--events
</a></td><td>События дампа от выведенных баз данных</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_exclude-databases">
--exclude-databases</a></td><td>Базы данных, чтобы исключить из дампа
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_exclude-events">
--exclude-events</a></td><td>События, чтобы исключить из дампа</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_exclude-routines">
--exclude-routines</a></td><td>Сохраненные подпрограммы, чтобы
исключить из дампа</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_exclude-tables">
--exclude-tables</a></td><td>Таблицы, чтобы исключить из дампа</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_exclude-triggers">
--exclude-triggers</a></td><td>Триггеры, чтобы исключить из дампа</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_exclude-users">
--exclude-users</a></td><td>Пользователи, чтобы исключить из дампа</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_extended-insert">
--extended-insert</a></td><td>Многострочный синтаксис INSERT</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_help">--help</a>
</td><td>Вывести сообщение справки</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_hex-blob">
--hex-blob</a></td><td>Выведите двоичные столбцы,
используя шестнадцатеричный формат</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_host">--host</a>
</td><td>Хост сервера (IP-адрес или имя)</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_include-databases">
--include-databases</a></td><td>Базы данных, чтобы включать в дамп</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_include-events">
--include-events</a></td><td>События, чтобы включать в дамп</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_include-routines">
--include-routines</a></td><td>Сохраненные подпрограммы, чтобы включать в дамп
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_include-tables">
--include-tables</a></td><td>Таблицы, чтобы включать в дамп</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_include-triggers">
--include-triggers</a></td><td>Триггеры, чтобы включать в дамп</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_include-users">
--include-users</a></td><td>Пользователи, чтобы включать в дамп</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_insert-ignore">
--insert-ignore</a></td><td>Писать INSERT IGNORE вместо INSERT</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_log-error-file">
--log-error-file</a></td><td>
Добавить предупреждения и ошибки к названному файлу</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_login-path">
--login-path</a></td><td>Считайте опции пути входа в систему из .mylogin.cnf
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_max-allowed-packet">
--max-allowed-packet</a></td><td>Максимальная пакетная длина, чтобы послать в
или получить от сервера</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_net-buffer-length">
--net-buffer-length</a></td><td>Размер буфера для TCP/IP</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_no-create-db">
--no-create-db</a></td><td>Не писать CREATE DATABASE</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_no-create-info">
--no-create-info</a></td><td>Не писать CREATE TABLE, которые пересоздают
каждую выведенную таблицу</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_no-defaults">
--no-defaults</a></td><td>Не читать файлы опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_parallel-schemas">
--parallel-schemas</a></td><td>Определите обрабатывающий схему параллелизм
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_password">
--password</a></td><td>Пароль, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_port">--port</a>
</td><td>Номер порта TCP/IP, чтобы использовать для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_print-defaults">
--print-defaults</a></td><td>Напечатайте опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_protocol">
--protocol</a></td><td>Протокол соединения, чтобы использовать</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_replace">--replace
</a></td><td>Писать REPLACE вместо INSERT</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_result-file">
--result-file</a></td><td>Прямой вывод к данному файлу</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_routines">
--routines</a></td><td>Выведите сохраненные подпрограммы (процедуры и
функции) от выведенных баз данных</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_secure-auth">
--secure-auth</a></td><td>Не посылайте пароли в сервер в
старом формате (pre-4.1)</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_set-charset">
--set-charset</a></td><td>Добавить SET NAMES default_character_set в вывод
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_single-transaction">
--single-transaction</a></td><td>
Дамп таблиц в пределах единственной транзакции</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_skip-definer">
--skip-definer</a></td><td>Опустите DEFINER и SQL SECURITY для CREATE,
создающих представления и сохраненные подпрограммы</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_skip-dump-rows">
--skip-dump-rows</a></td><td>Не выводите строки таблицы</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_socket">--socket
</a></td><td>Для соединений с localhost файл сокета Unix</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_ssl">--ssl-ca</a>
</td><td>Путь к файлу, который содержит список доверенных SSL CAs</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_ssl">--ssl-capath
</a></td><td>Путь к каталогу, который содержит доверенные сертификаты SSL
CA в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_ssl">--ssl-cert
</a></td><td>Путь к файлу, который содержит сертификат X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_ssl">--ssl-cipher
</a></td><td>Список разрешенных шифров, чтобы использовать
для шифрования соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_ssl">--ssl-crl</a>
</td><td>Путь к файлу, который содержит списки аннулирования сертификатов
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_ssl">--ssl-crlpath
</a></td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_ssl">--ssl-key</a>
</td><td>Путь к файлу, который содержит ключ X509 в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_ssl">--ssl-mode
</a></td><td>Статус безопасности соединения с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_tls-version">
--tls-version</a></td><td>Протоколы для безопасных соединений</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_triggers">
--triggers</a></td><td>Дамп триггеров для каждой выведенной таблицы</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_tz-utc">--tz-utc
</a></td><td>Добавить в дамп SET TIME_ZONE='+00:00'</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_user">--user</a>
</td><td>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_users">--users</a>
</td><td>Вывести учетные записи пользователей</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_version">--version
</a></td><td>Отобразить информаци о версии</td></tr>
<tr><td scope="row"><a href="#option_mysqlpump_watch-progress">
--watch-progress</a></td><td>Показать индикатор выполнения
</td></tr></tbody></table>

<h4><a name="mysqlpump-options"></a>mysqlpump Option Descriptions</h4>
<ul><li><p><a name="option_mysqlpump_help"></a>
<a href="#option_mysqlpump_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_mysqlpump_add-drop-database"></a>
<a href="#option_mysqlpump_add-drop-database"><code>
--add-drop-database</code></a></p>

<p>Написать <a href="sql.htm#drop-database"><code>DROP DATABASE</code></a>
перед каждым <a href="sql.htm#create-database"><code>CREATE DATABASE</code>
</a>.</li>

<li><a name="option_mysqlpump_add-drop-table"></a>
<a href="#option_mysqlpump_add-drop-table"><code>
--add-drop-table</code></a></p>
<p>Написать <a href="sql.htm#drop-table"><code>DROP TABLE</code></a>
перед каждым <a href="sql.htm#create-table"><code>CREATE TABLE</code></a>.
</li>

<li><a name="option_mysqlpump_add-drop-user"></a>
<a href="#option_mysqlpump_add-drop-user"><code>--add-drop-user
</code></a></p>
<p>Написать <a href="sql.htm#drop-user"><code>DROP USER</code></a> перед
каждым <a href="sql.htm#create-user"><code>CREATE USER</code></a>.</li>

<li><a name="option_mysqlpump_add-locks"></a>
<a href="#option_mysqlpump_add-locks"><code>--add-locks</code>
</a></p>
<p>Окружите каждый табличный дамп <a href="sql.htm#lock-tables"><code>LOCK
TABLES</code></a> и <a href="sql.htm#lock-tables"><code>UNLOCK TABLES</code>
</a>. Это приводит к быстрым вставкам, когда файл дампа перезагружен. См.
<a href="optimiz.htm#insert-speed">раздел 9.2.2.1</a>.</p>

<p>Эта опция не работает с параллелизмом, потому что
<a href="sql.htm#insert"><code>INSERT</code></a>
от различных таблиц могут быть чередованы и
<a href="sql.htm#lock-tables"><code>UNLOCK TABLES</code></a>
после конца вставок для одной таблицы может снять блокировки таблиц,
для которых вставки еще есть.</p>

<p><a href="#option_mysqlpump_add-locks"><code>--add-locks</code>
</a> и <a href="#option_mysqlpump_single-transaction"><code>
--single-transaction</code></a> являются взаимоисключающими.</li>

<li><a name="option_mysqlpump_all-databases"></a>
<a href="#option_mysqlpump_all-databases"><code>--all-databases
</code></a>, <code>-A</code></p>

<p>Выведите все базы данных (с определенными исключениями, отмеченными в
<a href="#mysqlpump-restrictions">ограничениях</a>).
Это поведение по умолчанию, если ничто другое не определено явно.</p>

<p><a href="#option_mysqlpump_all-databases"><code>
--all-databases</code></a> и
<a href="#option_mysqlpump_databases"><code>--databases</code>
</a> являются взаимоисключающими.</p>

<p>До MySQL 8.0 опции
<a href="#option_mysqldump_routines"><code>--routines</code></a>
и <a href="#option_mysqldump_events"><code>--events</code></a>
для <a href="#mysqldump"><span><strong>mysqldump</strong></span>
</a> и <a href="#mysqlpump"><span><strong>mysqlpump</strong>
</span></a> не требовались для включения сохраненных подпрограмм и событий,
используя <a href="#option_mysqldump_all-databases"><code>
--all-databases</code></a>. Дамп включает системную базу данных
<code>mysql</code> и поэтому также таблицы
<code>mysql.proc</code> и <code>mysql.event</code>, содержащие сохраненные
подпрограммы и определения событий. С MySQL 8.0 таблицы
the <code>mysql.event</code> и <code>mysql.proc</code> не применяются.
Определения для соответствующих объектов сохранены в таблицах словаря данных,
но те таблицы не выведены. Чтобы включать сохраненные подпрограммы и события
в дамп, сделанном, используя
<a href="#option_mysqldump_all-databases"><code>--all-databases
</code></a>, используйте <a href="#option_mysqldump_routines">
<code>--routines</code></a> и
<a href="#option_mysqldump_events"><code>--events</code></a>.
</li>

<li><a name="option_mysqlpump_bind-address"></a>
<a href="#option_mysqlpump_bind-address"><code>
--bind-address=<em><code>ip_address</code></em></code></a></p>

<p>На компьютере, имеющем многократные сетевые интерфейсы, используйте эту
опцию, чтобы выбрать, который интерфейс использовать для того, чтобы
соединиться с сервером MySQL.</li>

<li><a name="option_mysqlpump_character-sets-dir"></a>
<a href="#option_mysqlpump_character-sets-dir"><code>
--character-sets-dir=<em><code>path</code></em></code></a></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysqlpump_complete-insert"></a>
<a href="#option_mysqlpump_complete-insert"><code>
--complete-insert</code></a></p>
<p>Писать полный <a href="sql.htm#insert"><code>INSERT</code></a>, который
включает имена столбцов.</li>

<li><a name="option_mysqlpump_compress"></a>
<a href="#option_mysqlpump_compress"><code>--compress</code></a>,
<code>-C</code></p>
<p>Сжать всю информацию, посланную между клиентом и сервером.</li>

<li><a name="option_mysqlpump_compress-output"></a>
<a href="#option_mysqlpump_compress-output"><code>
--compress-output=<em><code>algorithm</code></em></code></a></p>

<p>По умолчанию <a href="#mysqlpump"><span><strong>mysqlpump
</strong></span></a> не сжимает вывод. Эта опция определяет выходное сжатие,
используя указанный алгоритм. Разрешенные алгоритмы
<code>LZ4</code> и <code>ZLIB</code>.</p>

<p>Чтобы разжать сжатый вывод, у Вас должна быть соответствующая утилита.
Если системные команды <span><strong>lz4</strong></span> и
<span><strong>openssl zlib</strong></span> недоступны, дистрибутивы MySQL
включают <a href="#lz4-decompress"><span><strong>lz4_decompress
</strong></span></a> и <a href="#zlib-decompress"><span><strong>
zlib_decompress</strong></span></a>, которые могут использоваться, чтобы
распаковать вывод <a href="#mysqlpump"><span><strong>mysqlpump
</strong></span></a>, который был сжат, используя
<a href="#option_mysqlpump_compress-output"><code>
--compress-output=LZ4</code></a> и
<a href="#option_mysqlpump_compress-output"><code>
--compress-output=ZLIB</code></a>, см. разделы
<a href="#lz4-decompress">5.8.1</a> и
<a href="#zlib-decompress">5.8.5</a>.</li>

<li><a name="option_mysqlpump_databases"></a>
<a href="#option_mysqlpump_databases"><code>--databases</code>
</a>, <code>-B</code></p>

<p>Обычно <a href="#mysqlpump"><span><strong>mysqlpump</strong>
</span></a> обрабатывает первый параметр имени в командной строке как имя
базы данных и любые последующие имена как имена таблиц. С этой опцией это
обрабатывает все параметры имени как имена баз данных.
<a href="sql.htm#create-database"><code>CREATE DATABASE</code></a>
включены в вывод перед каждой новой базой данных.</p>

<p><a href="#option_mysqlpump_all-databases"><code>
--all-databases</code></a> и
<a href="#option_mysqlpump_databases"><code>--databases</code>
</a> являются взаимоисключающими.</li>

<li><a name="option_mysqlpump_debug"></a>
<a href="#option_mysqlpump_debug"><code>--debug[=<em><code>
debug_options</code></em>]</code></a>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Писать журнал отладки. Типичнпя строка
<em><code>debug_options</code></em>
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:O,/tmp/mysqlpump.trace</code>.</li>

<li><a name="option_mysqlpump_debug-check"></a>
<a href="#option_mysqlpump_debug-check"><code>--debug-check
</code></a></p>
<p>Напечатайте некоторую информацию об отладке, когда программа выходит.</li>

<li><a name="option_mysqlpump_debug-info"></a>
<a href="#option_mysqlpump_debug-info"><code>--debug-info</code>
</a>, <code>-T</code></p>
<p>Информация об отладке, памяти и статистика использования центрального
процессора, когда программа выходит.</li>

<li><a name="option_mysqlpump_default-auth"></a>
<a href="#option_mysqlpump_default-auth"><code>--default-auth=
<em><code>plugin</code></em></code></a></p>
<p>Подсказка о клиентском плагине аутентификации, чтобы использовать. См.
See <a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqlpump_default-character-set"></a>
<a href="#option_mysqlpump_default-character-set"><code>
--default-character-set=<em><code>charset_name</code></em></code></a></p>

<p>Использовать <em><code>charset_name</code></em>
как набор символов по умолчанию. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.
Если никакой набор символов не определен,
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
будет использовать <code>utf8</code>.</li>

<li><a name="option_mysqlpump_default-parallelism"></a>
<a href="#option_mysqlpump_default-parallelism"><code>
--default-parallelism=<em><code>N</code></em></code></a></p>
<p>Число потоков по умолчанию для каждой параллельной очереди обработки.
Значение по умолчанию 2.</p>

<p>Опция <a href="#option_mysqlpump_parallel-schemas"><code>
--parallel-schemas</code></a> также затрагивает параллелизм и может
использоваться, чтобы переопределить число потоков по умолчанию.</p>

<p>С <a href="#option_mysqlpump_default-parallelism"><code>
--default-parallelism=0</code></a> и без
<a href="#option_mysqlpump_parallel-schemas"><code>
--parallel-schemas</code></a> <a href="#mysqlpump"><span><strong>
mysqlpump</strong></span></a> работает как однопоточный процесс
и не создает очередей.</p>
<p>С включенным параллелизмом вывод от различных баз данных
может быть чередованным.</li>

<li><a name="option_mysqlpump_defaults-extra-file"></a>
<a href="#option_mysqlpump_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Читать этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как
относительный путь, а не полный.</li>

<li><a name="option_mysqlpump_defaults-file"></a>
<a href="#option_mysqlpump_defaults-file"><code>--defaults-file=
<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога,
если дано как относительный путь, а не полный.</p>

<p>Исключение: Даже с опцией
<a href="#option_general_defaults-file"><code>--defaults-file
</code></a> программы клиента читают <code>.mylogin.cnf</code>.</li>

<li><a name="option_mysqlpump_defaults-group-suffix"></a>
<a href="#option_mysqlpump_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читать не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
обычно читает группы <code>[client]</code> и <code>[mysqlpump]</code>. Если
задана опция <a href="#option_mysqlpump_defaults-group-suffix">
<code>--defaults-group-suffix=_other</code></a>,
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
также читает группы <code>[client_other]</code> и
<code>[mysqlpump_other]</code>.</li>

<li><a name="option_mysqlpump_defer-table-indexes"></a>
<a href="#option_mysqlpump_defer-table-indexes"><code>
--defer-table-indexes</code></a></p>

<p>В выводе дампа задержать создание индекса для каждой таблицы, пока ее
строки не загружены. Это работает на всех механизмах хранения, но на
<code>InnoDB</code> применяется только для вторичных индексов.</p>

<p>Эта опция включена по умолчанию, примените
<a href="#option_mysqlpump_defer-table-indexes"><code>
--skip-defer-table-indexes</code></a>, чтобы отключить это.</li>

<li><a name="option_mysqlpump_events"></a>
<a href="#option_mysqlpump_events"><code>--events</code></a></p>
<p>Включайте события Event Scheduler для выведенных баз данных в выводе.
Дамп событий требует привилегии
<a href="security.htm#priv_event"><code>EVENT</code></a> для базы данных.</p>

<p>Вывод, произведенный при использовании
<a href="#option_mysqlpump_events"><code>--events</code></a>,
содержит <a href="sql.htm#create-event"><code>CREATE EVENT</code></a>,
чтобы создать события.</p>

<p>Эта опция включена по умолчанию, примените для отключения
<a href="#option_mysqlpump_events"><code>--skip-events</code>
</a>.</li>

<li><a name="option_mysqlpump_exclude-databases"></a>
<a href="#option_mysqlpump_exclude-databases"><code>
--exclude-databases=<em><code>db_list</code></em></code></a></p>

<p>Не выводите базы данных в <em><code>db_list</code></em>,
который является списком из разделенных запятой одного или более
имен базы данных. Многократные случаи этой опции являются совокупными.</li>

<li><a name="option_mysqlpump_exclude-events"></a>
<a href="#option_mysqlpump_exclude-events"><code>
--exclude-events=<em><code>event_list</code></em></code></a></p>

<p>Не выводите события в <em><code>event_list</code></em>,
который является списком из разделенных запятой одного или более
имен событий. Многократные случаи этой опции являются совокупными.</li>

<li><a name="option_mysqlpump_exclude-routines"></a>
<a href="#option_mysqlpump_exclude-routines"><code>
--exclude-routines=<em><code>routine_list</code></em></code></a></p>

<p>Не выводите сохраненные подпрограммы в <em><code>routine_list</code></em>,
который является списком из разделенных запятой одного или более
имен сохраненных подпрограмм. Многократные случаи этой
опции являются совокупными.</li>

<li><a name="option_mysqlpump_exclude-tables"></a>
<a href="#option_mysqlpump_exclude-tables"><code>
--exclude-tables=<em><code>table_list</code></em></code></a></p>

<p>Не выводите таблицы в <em><code>table_list</code></em>, который является
списком из разделенных запятой одного или более имен таблиц.
Многократные случаи этой опции являются совокупными.</li>

<li><a name="option_mysqlpump_exclude-triggers"></a>
<a href="#option_mysqlpump_exclude-triggers"><code>
--exclude-triggers=<em><code>trigger_list</code></em></code></a></p>

<p>Не выводите триггеры <em><code>trigger_list</code></em>,
который является списком из разделенных запятой одного или
более имен триггеров.
Многократные случаи этой опции являются совокупными.</li>

<li><a name="option_mysqlpump_exclude-users"></a>
<a href="#option_mysqlpump_exclude-users"><code>
--exclude-users=<em><code>user_list</code></em></code></a></p>

<p>Не выводите учетные записи пользователя в <em><code>user_list</code></em>,
который является списком из разделенных запятой одного или
более имен учетной записи.
Многократные случаи этой опции являются совокупными.</li>

<li><a name="option_mysqlpump_extended-insert"></a>
<a href="#option_mysqlpump_extended-insert"><code>
--extended-insert=<em><code>N</code></em></code></a></p>

<p>Писать <a href="sql.htm#insert"><code>INSERT</code></a>, используя
многострочный синтаксис, который включает несколько списков
<code>VALUES</code>. Это приводит к меньшему файлу дампа и убыстряет вставки,
когда файл перезагружен.</p>

<p>Значение опции указывает на число строк, которое включать в каждый
<a href="sql.htm#insert"><code>INSERT</code></a>.
Значение по умолчанию 250. Значение 1 производит отдельный
<a href="sql.htm#insert"><code>INSERT</code></a> на строку таблицы.</li>

<li><a name="option_mysqlpump_hex-blob"></a>
<a href="#option_mysqlpump_hex-blob"><code>--hex-blob</code></a>
</p>

<p>Выведите двоичные столбцы, используя шестнадцатеричный формат (например,
<code>'abc'</code> будет <code>0x616263</code>).
Затронутые типы данных:
<a href="types.htm#binary-varbinary"><code>BINARY</code></a>,
<a href="types.htm#binary-varbinary"><code>VARBINARY</code></a>, все
<a href="types.htm#blob"><code>BLOB</code></a> и
<a href="types.htm#bit-type"><code>BIT</code></a>.</li>

<li><a name="option_mysqlpump_host"></a>
<a href="#option_mysqlpump_host"><code>
--host=<em><code>host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Данные в дамп от сервера MySQL на данном хосте.</li>

<li><a name="option_mysqlpump_include-databases"></a>
<a href="#option_mysqlpump_include-databases"><code>
--include-databases=<em><code>db_list</code></em></code></a></p>

<p>Выведите базы данных в <em><code>db_list</code></em>,
который является списком из разделенных запятой одного или более имен базы
данных. Дамп включает все объекты в названные базы данных.
Многократные случаи этой опции являются совокупными.</li>

<li><a name="option_mysqlpump_include-events"></a>
<a href="#option_mysqlpump_include-events"><code>
--include-events=<em><code>event_list</code></em></code></a></p>

<p>Выведите события в <em><code>event_list</code></em>,
который является списком из разделенных запятой одного или более имен
событий. Многократные случаи этой опции являются совокупными.</li>

<li><a name="option_mysqlpump_include-routines"></a>
<a href="#option_mysqlpump_include-routines"><code>
--include-routines=<em><code>routine_list</code></em></code></a></p>

<p>Выведите сохраненные подпрограммы в <em><code>routine_list</code></em>,
который является списком из разделенных запятой одного или более имен
сохраненных подпрограмм. Многократные случаи этой опции являются совокупными.
</li>

<li><a name="option_mysqlpump_include-tables"></a>
<a href="#option_mysqlpump_include-tables"><code>
--include-tables=<em><code>table_list</code></em></code></a></p>

<p>Выведите таблицы в <em><code>table_list</code></em>,
который является списком из разделенных запятой одного или
более имен таблиц. Многократные случаи этой опции являются совокупными.</li>

<li><a name="option_mysqlpump_include-triggers"></a>
<a href="#option_mysqlpump_include-triggers"><code>
--include-triggers=<em><code>trigger_list</code></em></code></a></p>

<p>Выведите триггеры в <em><code>trigger_list</code></em>,
который является списком из разделенных запятой одного или
более имен триггеров. Многократные случаи этой опции являются совокупными.
</li>

<li><a name="option_mysqlpump_include-users"></a>
<a href="#option_mysqlpump_include-users"><code>
--include-users=<em><code>user_list</code></em></code></a></p>

<p>Выведите учетные записи пользователя в <em><code>user_list</code></em>,
который является списком из разделенных запятой одного или
более имен пользователя. Многократные случаи этой опции являются совокупными.
</li>

<li><a name="option_mysqlpump_insert-ignore"></a>
<a href="#option_mysqlpump_insert-ignore"><code>
--insert-ignore</code></a></p>
<p>Писать <a href="sql.htm#insert"><code>INSERT IGNORE</code></a> вместо
<a href="sql.htm#insert"><code>INSERT</code></a>.</li>

<li><a name="option_mysqlpump_log-error-file"></a>
<a href="#option_mysqlpump_log-error-file"><code>
--log-error-file=<em><code>file_name</code></em></code></a></p>

<p>Журналировать предупреждения и ошибки, прилагая их к названному файлу.
Если эта опция не дана, <a href="#mysqlpump"><span><strong>
mysqlpump</strong></span></a> пишет предупреждения и ошибки на
стандартный вывод ошибок.</li>

<li><a name="option_mysqlpump_login-path"></a>
<a href="#option_mysqlpump_login-path"><code>
--login-path=<em><code>name</code></em></code></a></p>

<p>Считайте опции из названного пути входа в систему в
<code>.mylogin.cnf</code>. <span><span>login path</span></span>
является группой опции, содержащей опции, которые определяют, с каким
сервером MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysqlpump_max-allowed-packet"></a>
<a href="#option_mysqlpump_max-allowed-packet"><code>
--max-allowed-packet=<em><code>N</code></em></code></a></p>
<p>Максимальный размер буфера для коммуникации клиент-сервер.
Значение по умолчанию составляет 24 МБ, максимум 1GB.</li>

<li><a name="option_mysqlpump_net-buffer-length"></a>
<a href="#option_mysqlpump_net-buffer-length"><code>
--net-buffer-length=<em><code>N</code></em></code></a></p>

<p>Начальный размер буфера для коммуникации клиент-сервер.
Создавая многострочный <a href="sql.htm#insert"><code>INSERT</code></a>
(как с <a href="#option_mysqlpump_extended-insert"><code>
--extended-insert</code></a>), <a href="#mysqlpump"><span>
<strong>mysqlpump</strong></span></a> создает строки до
<em><code>N</code></em> байтов в длину. Если Вы используете эту опцию, чтобы
увеличить значение, гарантируйте, что у системной переменной
<a href="server.htm#sysvar_net_buffer_length"><code>net_buffer_length</code>
</a> сервера MySQL есть, по крайней мере, такое же значение.</li>

<li><a name="option_mysqlpump_no-create-db"></a>
<a href="#option_mysqlpump_no-create-db"><code>--no-create-db
</code></a></p>
<p>Блокировать <a href="sql.htm#create-database"><code>CREATE DATABASE
</code></a>, которые могли бы иначе быть включены в вывод.</li>

<li><a name="option_mysqlpump_no-create-info"></a>
<a href="#option_mysqlpump_no-create-info"><code>
--no-create-info</code></a>, <code>-t</code></p>
<p>Не писать <a href="sql.htm#create-table"><code>CREATE TABLE</code></a>,
которые составляют каждую выведенную таблицу.</li>

<li><a name="option_mysqlpump_no-defaults"></a>
<a href="#option_mysqlpump_no-defaults"><code>
--no-defaults</code></a></p>

<p>Не читайте файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций от файла опции,
<a href="programs.html#option_mysqlpump_no-defaults"><code>--no-defaults
</code></a> может использоваться, чтобы препятствовать тому, чтобы
они были считаны.</p>

<p>Исключение: если есть файл <code>.mylogin.cnf</code>, он
считан во всех случаях. Это разрешает паролям быть определенными более
безопасным способом, чем в командной строке, даже когда используется
<a href="#option_mysqlpump_no-defaults"><code>--no-defaults
</code></a>. <code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см.
<a href="#mysql-config-editor">раздел 5.6.7</a>.</li>

<li><a name="option_mysqlpump_parallel-schemas"></a>
<a href="#option_mysqlpump_parallel-schemas"><code>
--parallel-schemas=[<em><code>N</code></em>:]<em><code>db_list</code>
</em></code></a></p>

<p>Создайте очередь для того, чтобы обработать базы данных в
<em><code>db_list</code></em>, который является списком разделенных запятой
из одного или более имен базы данных. Если дано <em><code>N</code></em>,
очередь использует <em><code>N</code></em> потоков.
Если <em><code>N</code></em> нет,
<a href="#option_mysqlpump_default-parallelism"><code>
--default-parallelism</code></a> определяет число потоков в очереди.</p>

<p>Многократные случаи этой опции создают многократные очереди.
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
также создает очередь по умолчанию, чтобы использовать для баз данных, не
названных в любой <a href="#option_mysqlpump_parallel-schemas">
<code>--parallel-schemas</code></a>, и для дампа пользовательских
определений, если опции команды выбирают их.</li>

<li><a name="option_mysqlpump_password"></a>
<a href="#option_mysqlpump_password"><code>
--password[=<em><code>password</code></em>]</code></a>,
<code>-p[<em><code>password</code></em>]</code></p>

<p>Пароль, чтобы использовать, соединяясь с сервером. Если Вы используете
короткую форму опции (<code>-p</code>), Вы
<span><em>не должны</em></span> иметь пробелы
между опцией и паролем. Если Вы опускаете <em><code>password</code></em>
после <code>--password</code> или <code>-p</code> в командной строке,
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
спросит его явно.</p>

<p>Определение пароля на командной строке нужно считать опасным. См.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.
Вы можете использовать файл опции, чтобы избежать давать
пароль в командной строке.</li>

<li><a name="option_mysqlpump_plugin-dir"></a>
<a href="#option_mysqlpump_plugin-dir"><code>
--plugin-dir=<em><code>dir_name</code></em></code></a></p>

<p>Каталог, в котором можно искать плагины. Определите эту опцию, если опция
<a href="#option_mysqlpump_default-auth"><code>--default-auth
</code></a> используется, чтобы определить плагин аутентификации, но
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
не находит его. См.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqlpump_port"></a>
<a href="#option_mysqlpump_port"><code>
--port=<em><code>port_num</code></em></code></a>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для соединения.</li>

<li><a name="option_mysqlpump_print-defaults"></a>
<a href="#option_mysqlpump_print-defaults"><code>
--print-defaults</code></a></p>
<p>Напечатайте название программы и все опции, которые это получает
от файлов опции.</li>

<li><a name="option_mysqlpump_protocol"></a>
<a href="#option_mysqlpump_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Протокол соединения, чтобы использовать для того, чтобы соединиться с
сервером. Полезно, когда другие параметры соединения применят не тот
протокол, см. <a href="#connecting">раздел 5.2.2</a>.</li>

<li><a name="option_mysqlpump_replace"></a>
<a href="#option_mysqlpump_replace"><code>--replace</code></a>
</p>
<p>Писать <a href="sql.htm#replace"><code>REPLACE</code></a> вместо
<a href="sql.htm#insert"><code>INSERT</code></a>.</li>

<li><a name="option_mysqlpump_result-file"></a>
<a href="#option_mysqlpump_result-file"><code>
--result-file=<em><code>file_name</code></em></code></a></p>

<p>Прямой вывод к названному файлу. Файл результата создается и его
предыдущее содержание перезаписывается, даже если ошибка
происходит, производя дамп.</p>
<p>Эта опция должна использоваться в Windows, чтобы предотвратить
преобразование <code>\n</code> в <code>\r\n</code> carriage return/newline.
</li>

<li><a name="option_mysqlpump_routines"></a>
<a href="#option_mysqlpump_routines"><code>--routines</code></a>
</p>
<p>Включайте сохраненные подпрограммы (процедуры и функции) для выведенных
баз данных в вывод. Эта опция требует глобальной привилегии
<a href="security.htm#priv_select"><code>SELECT</code></a>.</p>

<p>Вывод, произведенный при использовании
<a href="#option_mysqlpump_routines"><code>--routines</code></a>
содержит <a href="sql.htm#create-procedure"><code>CREATE PROCEDURE</code></a>
и <a href="sql.htm#create-function"><code>CREATE FUNCTION</code></a>, чтобы
создать сохраненные подпрограммы.</p>

<p>Эта опция включена по умолчанию, для выклчения надо использовать
<a href="#option_mysqlpump_routines"><code>--skip-routines</code>
</a>.</li>

<li><a name="option_mysqlpump_secure-auth"></a>
<a href="#option_mysqlpump_secure-auth"><code>--secure-auth
</code></a></p>
<p>Не посылайте пароли в сервер в старом формате (pre-4.1)</p>

<p>Эта опция устарела. Это всегда включается и попытка отключить
(<a href="#option_mysqlpump_secure-auth"><code>--skip-secure-auth
</code></a>,
<a href="#option_mysqlpump_secure-auth"><code>--secure-auth=0
</code></a>) сразу производит ошибку.</li>

<li><a name="option_mysqlpump_set-charset"></a>
<a href="#option_mysqlpump_set-charset"><code>
--set-charset</code></a></p>

<p>Писать в вывод <a href="sql.htm#set-names"><code>SET NAMES
<em><code>default_character_set</code></em></code></a>.</p>
<p>Эта опция включена по умолчанию. Чтобы отключить это и подавить запись
<a href="sql.htm#set-names"><code>SET NAMES</code></a>, примените
<a href="#option_mysqlpump_set-charset"><code>--skip-set-charset
</code></a>.</li>

<li><a name="option_mysqlpump_single-transaction"></a>
<a href="#option_mysqlpump_single-transaction"><code>
--single-transaction</code></a></p>

<p>Эта опция устанавливает операционный режим изоляции в
<a href="innodb.htm#isolevel_repeatable-read"><code>REPEATABLE READ</code>
</a> и посылает <a href="sql.htm#commit"><code>START TRANSACTION</code></a>
серверу прежде, чем вывести данные. Это полезно только с транзакционными
таблицами, например, <code>InnoDB</code>, потому что тогда это выводит
последовательное состояние базы данных в то время, когда
<a href="sql.htm#commit"><code>START TRANSACTION</code></a>
был запущен, не блокируя приложений.</p>

<p>Используя эту опцию, Вы должны иметь в виду, что только
<code>InnoDB</code> выведены в последовательном состоянии. Например, любые
таблицы <code>MyISAM</code> или <code>MEMORY</code>
выведенные, используя эту опцию, могут все еще изменить состояние.</p>

<p>В то время, как
<a href="#option_mysqlpump_single-transaction"><code>
--single-transaction</code></a> в процессе, чтобы гарантировать допустимый
файл дампа (правильное табличное содержание и двоичные координаты журнала),
никакое другое соединение не должно использовать следующие запросы:
<a href="sql.htm#alter-table"><code>ALTER TABLE</code></a>,
<a href="sql.htm#create-table"><code>CREATE TABLE</code></a>,
<a href="sql.htm#drop-table"><code>DROP TABLE</code></a>,
<a href="sql.htm#rename-table"><code>RENAME TABLE</code></a>,
<a href="sql.htm#truncate-table"><code>TRUNCATE TABLE</code></a>.
Последовательное чтение не изолировано от этих запросов, таким образом,
использование их на таблице, которая будет выведена, может вызвать
<a href="sql.htm#select"><code>SELECT</code></a>, вызванный
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>,
чтобы получить табличное содержание, рискующий получить
неправильное содержание или потерпеть неудачу.</p>

<p><a href="#option_mysqlpump_add-locks"><code>--add-locks</code>
</a> и <a href="#option_mysqlpump_single-transaction"><code>
--single-transaction</code></a> являются взаимоисключающими.</li>

<li><a name="option_mysqlpump_skip-definer"></a>
<a href="#option_mysqlpump_skip-definer"><code>--skip-definer
</code></a></p>

<p>Пропустить <code>DEFINER</code> и <code>SQL SECURITY</code> в
<code>CREATE</code> для представлений и сохраненных программ. Файл дампа,
когда перезагружен, создает объекты, которые используют значение по умолчанию
<code>DEFINER</code> и <code>SQL SECURITY</code>, см.
<a href="stored.htm#stored-programs-security">раздел 21.6</a>.</li>

<li><a name="option_mysqlpump_skip-dump-rows"></a>
<a href="#option_mysqlpump_skip-dump-rows"><code>
--skip-dump-rows</code></a>, <code>-d</code></p>
<p>Не выводите строки таблицы.</li>

<li><a name="option_mysqlpump_socket"></a>
<a href="#option_mysqlpump_socket"><code>
--socket={<em><code>file_name</code></em>|<em><code>pipe_name</code></em>}
</code></a>, <code>-S {<em><code>file_name</code></em>|<em><code>pipe_name
</code></em>}</code></p>
<p>Для соединений с <code>localhost</code> файл сокета Unix.
В Windows имя именованного канала.</li>

<li><a name="option_mysqlpump_ssl"></a><code>--ssl*</code></p>
<p>Опции, которые начинаются c
<a href="security.htm#option_general_ssl"><code>--ssl</code></a>,
определяют, соединиться ли с сервером, используя SSL и указывают, где найти
ключи SSL и сертификаты, см.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysqlpump_tls-version"></a>
<a href="#option_mysqlpump_tls-version"><code>
--tls-version=<em><code>protocol_list</code></em></code></a></p>

<p>Протоколы, разрешенные клиентом для зашифрованных соединений.
Значение: список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы по имени в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL. Для деталей
см. <a href="security.htm#secure-connection-protocols-ciphers">раздел 7.4.3
</a>.</li>

<li><a name="option_mysqlpump_triggers"></a>
<a href="#option_mysqlpump_triggers"><code>--triggers</code></a>
</p>
<p>Включайте триггеры для каждой выведенной таблицы в выводе.</p>
<p>Эта опция включена по умолчанию, для отключения надо использовать
<a href="#option_mysqlpump_triggers"><code>--skip-triggers</code>
</a>.</li>

<li><a name="option_mysqlpump_tz-utc"></a>
<a href="#option_mysqlpump_tz-utc"><code>--tz-utc</code></a></p>
<p>Эта опция включает столбцы <a href="types.htm#datetime"><code>TIMESTAMP
</code></a>, которые будут выведены и перезагружены между серверами в
различных часовых поясах. <a href="#mysqlpump"><span><strong>
mysqlpump</strong></span></a> устанавливает свою зону времени соединения в
UTC и добавляет <code>SET TIME_ZONE='+00:00'</code> к файлу дампа. Без этой
опции столбцы <a href="types.htm#datetime"><code>TIMESTAMP</code></a>
выведены и перезагружены в часовых поясах, местных для источника и целевого
сервера, что может заставить значения изменяться, если серверы находятся в
различных часовых поясах. <a href="#option_mysqlpump_tz-utc">
<code>--tz-utc</code></a> также защищает от изменений из-за летнего времени.
</p>

<p>Эта опция включена по умолчанию, для выключения используйте
<a href="#option_mysqlpump_tz-utc"><code>--skip-tz-utc</code>
</a>.</li>

<li><a name="option_mysqlpump_user"></a>
<a href="#option_mysqlpump_user"><code>
--user=<em><code>user_name</code></em></code></a>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером.</li>

<li><a name="option_mysqlpump_users"></a>
<a href="#option_mysqlpump_users"><code>--users</code></a></p>
<p>Выводить учетные записи пользователя как логические определения в форме
<a href="sql.htm#create-user"><code>CREATE USER</code></a> и
<a href="sql.htm#grant"><code>GRANT</code></a>.</p>

<p>Пользовательские определения сохранены в таблицах системной базе данных
<code>mysql</code>. По умолчанию
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
не включает эти таблицы в дамп базы данных <code>mysql</code>.
Чтобы вывести содержание таблиц как логические определения, используйте
<a href="#option_mysqlpump_users"><code>--users</code></a> и
блокируйте весь дамп базы данных:
<pre>
shell&gt; mysqlpump --exclude-databases=% --users
</pre></li>

<li><a name="option_mysqlpump_version"></a>
<a href="#option_mysqlpump_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Отобразить информацию о версии.</li>

<li><a name="option_mysqlpump_watch-progress"></a>
<a href="#option_mysqlpump_watch-progress"><code>
--watch-progress</code></a></p>

<p>Периодически выводите на экран индикатор хода выполнения, который
предоставляет информацию о завершенном и общем количестве таблиц,
строк и других объектов.</p>

<p>Эта опция включена по умолчанию, для отключения применяется
<a href="#option_mysqlpump_watch-progress"><code>
--skip-watch-progress</code></a>.</p></li></ul>

<h4><a name="mysqlpump-filtering"></a>Выбор объектов mysqlpump</h4>
<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> имеет ряд опций включения и исключения, которые позволяют фильтровать
несколько типов объектоа и обеспечивают гибкое управление тем,
которые объекты вывести:</p>

<ul><li><p><a href="#option_mysqlpump_include-databases"><code>
--include-databases</code></a> и
<a href="#option_mysqlpump_exclude-databases"><code>
--exclude-databases</code></a> относятся к базам данных и всем
объектам в их пределах.</li>

<li><a href="#option_mysqlpump_include-tables"><code>
--include-tables</code></a> и
<a href="#option_mysqlpump_exclude-tables"><code>--exclude-tables
</code></a> относятся к таблицам. Эти опции также затрагивают триггеры,
связанные с таблицами, если определенные для триггера опции не даны.</li>

<li><a href="#option_mysqlpump_include-triggers"><code>
--include-triggers</code></a> и
<a href="#option_mysqlpump_exclude-triggers"><code>
--exclude-triggers</code></a> относятся к триггерам.</li>

<li><a href="#option_mysqlpump_include-routines"><code>
--include-routines</code></a> и
<a href="#option_mysqlpump_exclude-routines"><code>
--exclude-routines</code></a> относятся к хранимым процедурам и функциям.
Если опция соответствует имени хранимой процедуры, она также соответствует
сохраненной функции с тем же самым именем.</li>

<li><a href="#option_mysqlpump_include-events"><code>
--include-events</code></a> и
<a href="#option_mysqlpump_exclude-events"><code>--exclude-events
</code></a> относятся к событиям Event Scheduler.</li>

<li><a href="#option_mysqlpump_include-users"><code>
--include-users</code></a> и
<a href="#option_mysqlpump_exclude-users"><code>--exclude-users
</code></a> относятся к учетным записям пользователя.</p></li></ul>

<p>Любая опция включения или исключения может быть дана многократно.
Эффект является совокупным. Порядок этих опций не имеет значения.</p>
<p>Значение каждой опции включения и исключения это
список разделенных запятой названий соответствующего типа объекта. Например:
<pre>
--exclude-databases=test,world
--include-tables=customer,invoice
</pre>

Подстановочные символы разрешены в названиях объекта:</p>
<ul><li><p><code>%</code> соответствует любой последовательности из ноля или
большего количества символов.</li>
<li><code>_</code> соответствует любому единственному символу.</p></li></ul>

<p>Например, <a href="#option_mysqlpump_include-tables"><code>
--include-tables=t%,__tmp</code></a> соответствует всем именам таблиц,
которые начинаются на <code>t</code> и всем пятисимвольным именам таблиц,
которые кончаются строго на <code>tmp</code>.</p>

<p>Для пользователей имя, определенное без части хоста, интерпретируется с
подразумеваемым хостом <code>%</code>. Например, <code>u1</code> и
<code>u1@%</code> аналогичны. Это та же самая эквивалентность, которая
применяется в MySQL вообще (см. <a href="security.htm#account-names">
раздел 7.2.3</a>).</p>

<p>Опции включения и исключения взаимодействуют следующим образом:</p>
<ul><li><p>По умолчанию, без опций включения или исключения,
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
выводит все базы данных (с определенными исключениями, отмеченными в
<a href="#mysqlpump-restrictions">ограничениях mysqlpump</a>.
</li>

<li>Если опции включения даны в отсутствие опций исключения, только объекты,
названные как включенные, выведены.</li>
<li>Если опции исключения даны в отсутствие опций включения, все объекты
выведены, кроме названных как исключенные.</li>

<li>Если есть опции включения и исключения, все объекты, названные
исключенными и не названные как включенные, не выведены.
Все другие объекты выведены.</p></li></ul>

<p>Если многократные базы данных выводятся, возможно назвать таблицы,
триггеры и сохраненные подпрограммы в определенной базе данных, квалифицируя
названия объекта с именем базы данных. Следующая команда выводит базы данных
<code>db1</code> и <code>db2</code>, но исключает таблицы
<code>db1.t1</code> и <code>db2.t2</code>:
<pre>
shell&gt; mysqlpump --include-databases=db1,db2 --exclude-tables=db1.t1,db2.t2
</pre></p>

<p>Следующие опции обеспечивают альтернативные способы определить, которые
базы данных вывести:</p>
<ul><li><p><a href="#option_mysqlpump_all-databases"><code>
--all-databases</code></a> выводит все базы данных (с определенными
исключениями, отмеченными в <a href="#mysqlpump-restrictions">
исключениях mysqlpump</a>). Это эквивалентно неопределению никаких опций
объекта вообще (значение по умолчанию
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>,
должен вывести все).</p>

<p><a href="#option_mysqlpump_include-databases"><code>
--include-databases=%</code></a> подобно
<a href="#option_mysqlpump_all-databases"><code>--all-databases
</code></a>, но выбирает все базы данных для дампа, даже те, которые являются
исключениями для <a href="#option_mysqlpump_all-databases"><code>
--all-databases</code></a>.</li>

<li><a href="#option_mysqlpump_databases"><code>--databases
</code></a> заставляет <a href="#mysqlpump"><span><strong>
mysqlpump</strong></span></a> обрабатывать все параметры имени как названия
баз данных, чтобы вывести. Это эквивалентно
<a href="#option_mysqlpump_include-databases"><code>
--include-databases</code></a>, которая называет те же самые базы данных.
</p></li></ul>

<h4><a name="mysqlpump-parallelism"></a>Параллельная обработка mysqlpump</h4>
<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> может использовать параллелизм, чтобы достигнуть параллельной обработки.
Вы можете выбрать параллелизм между базами данных (чтобы вывести многие базы
данных одновременно) и в пределах баз данных (чтобы вывести многие объекты от
данной базы данных одновременно).</p>

<p>По умолчанию <a href="#mysqlpump"><span><strong>mysqlpump
</strong></span></a> настраивает одну очередь с двумя потоками. Вы можете
создать дополнительные очереди и управлять числом потоков, назначенных
каждой, включая очередь по умолчанию:</p>

<ul><li><p><a href="#option_mysqlpump_default-parallelism"><code>
--default-parallelism=<em><code>N</code></em></code></a>
определяет число потоков по умолчанию, используемых для каждой очереди.
В отсутствие этой опции <em><code>N</code></em> = 2.</p>

<p>Очередь по умолчанию всегда использует число потоков по умолчанию.
Дополнительные очереди используют число потоков по умолчанию, если Вы
не определяете иное.</li>

<li><a href="#option_mysqlpump_parallel-schemas"><code>
--parallel-schemas=[<em><code>N</code></em>:]<em><code>db_list</code></em>
</code></a> настраивает очередь обработки для дампа баз данных, названных в
<em><code>db_list</code></em> и произвольно определяет, сколько потоков
очередь использует. <em><code>db_list</code></em> это
список разделенных запятой значений имен базы данных. Если параметр опции
начинается с <code><em><code>N</code></em>:</code>, очередь задействует
<em><code>N</code></em> потоков. Иначе
<a href="#option_mysqlpump_default-parallelism"><code>
--default-parallelism</code></a> определяет число потоков очереди.</p>

<p>Многократные случаи <a href="#option_mysqlpump_parallel-schemas">
<code>--parallel-schemas</code></a> создают многократные очереди.</p>

<p>Имена в списке базы данных могут содержать те же самые подстановочные
символы <code>%</code> и <code>_</code>, поддержанные для того,
чтобы фильтровать опции.</p></li></ul>

<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> использует очередь по умолчанию для того, чтобы обработать любые базы
данных, не названные явно с
<a href="#option_mysqlpump_parallel-schemas"><code>
--parallel-schemas</code></a>, и для дампа пользовательских определений, если
опции команды выбирают их.</p>

<p>Вообще, с многократными очередями, <a href="#mysqlpump"><span>
<strong>mysqlpump</strong></span></a> использует параллелизм между наборами
баз данных, обработанных очередями, чтобы вывести многие базы данных
одновременно. Для очереди, которая использует много потоков,
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
использует параллелизм в пределах баз данных, чтобы вывести многие объекты от
данной базы данных одновременно. Исключения могут произойти, например,
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
может заблокировать очереди в то время, как он получает из сервера списки
объектов в базах данных.</p>

<p>С включенным параллелизмом вывод различных баз данных может быть
чередованным. Например, <a href="sql.htm#insert"><code>INSERT</code></a>
от многих таблиц, выведенных параллельно, могут быть чередованы, запросы не
написаны ни в каком особом порядке. Это не затрагивает перезагрузку, потому
что выведенные запросы квалифицируют названия объекта с именами базы данных
или предваряются <a href="sql.htm#use"><code>USE</code></a> как требуется.
</p>

<p>Степень детализации для параллелизма: единственный объект базы данных.
Например, единственная таблица не может быть выведена,
используя много потоков.</p>

<p>Примеры:
<pre>
shell&gt; mysqlpump --parallel-schemas=db1,db2 --parallel-schemas=db3
</pre>
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
настраивает очередь, чтобы обработать
<code>db1</code> и <code>db2</code>, другую очередь, чтобы обработать
<code>db3</code> и очередь по умолчанию, чтобы обработать все другие базы
данных. Все очереди используют по два потока.

<pre>
shell&gt; mysqlpump --parallel-schemas=db1,db2 --parallel-schemas=db3
                    --default-parallelism=4
</pre>
Это то же самое, как предыдущий пример за исключением того, что все очереди
используют по четыре потока.

<pre>
shell&gt; mysqlpump --parallel-schemas=5:db1,db2 --parallel-schemas=3:db3
</pre>

Очередь для <code>db1</code> и <code>db2</code> применяет
пять потоков, очередь для <code>db3</code> три потока, а очередь по умолчанию
использует значение по умолчанию из двух потоков.</p>

<p>Как особый случай, с
<a href="#option_mysqlpump_default-parallelism"><code>
--default-parallelism=0</code></a> и без
<a href="#option_mysqlpump_parallel-schemas"><code>
--parallel-schemas</code></a>
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>
работает как однопоточный процесс и не создает очередей.</p>

<h4><a name="mysqlpump-restrictions"></a>Ограничения mysqlpump</h4>
<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> не выводит <code>performance_schema</code>,
<code>ndbinfo</code> или <code>sys</code> по умолчанию. Чтобы вывести любую
из них, назовите их явно в командной строке. Вы можете также назвать их с
<a href="#option_mysqlpump_databases"><code>--databases</code>
</a> или <a href="#option_mysqlpump_include-databases"><code>
--include-databases</code></a>.</p>

<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> вообще никак не выводит <code>INFORMATION_SCHEMA</code>.</p>
<p><a href="#mysqlpump"><span><strong>mysqlpump</strong></span>
</a> выводит учетные записи пользователя в логической форме
using <a href="sql.htm#create-user"><code>CREATE USER</code></a> и
<a href="sql.htm#grant"><code>GRANT</code></a> (например, когда Вы
используете <a href="#option_mysqlpump_include-users"><code>
--include-users</code></a> или
<a href="#option_mysqlpump_users"><code>--users</code></a>).
Поэтому дампы системной базы данных <code>mysql</code> по умолчанию не
включают таблицы привилегий, которые содержат пользовательские определения:
<code>user</code>, <code>db</code>, <code>tables_priv</code>,
<code>columns_priv</code>, <code>procs_priv</code> или
<code>proxies_priv</code>. Чтобы вывести любую из этих таблиц, назовите
<code>mysql</code> с именами таблиц:
<pre>
shell&gt; mysqlpump mysql user db ...
</pre>

<h3><a name="mysqlshow"></a>5.5.7. <span><strong>mysqlshow</strong></span>
Показ информации о базе данных, таблице и столбце</h3>
<p><a href="#mysqlshow"><span><strong>mysqlshow</strong></span>
</a> может использоваться, чтобы быстро увидеть, какие базы данных
существуют, их таблицы, столбцы таблиц или индексы.</p>

<p><a href="#mysqlshow"><span><strong>mysqlshow</strong></span>
</a> обеспечивает интерфейс командной строки к нескольким SQL-запросам
<a href="sql.htm#show"><code>SHOW</code></a>, см.
<a href="sql.htm#show">раздел 14.7.5</a>.
Та же самая информация может быть получена при использовании тех запросов
непосредственно. Например, Вы можете дать их из
<a href="#mysql"><span><strong>mysql</strong></span></a>.</p>

<p>Вызов <a href="#mysqlshow"><span><strong>mysqlshow</strong>
</span></a>:
<pre>
shell&gt; mysqlshow [<em><code>options</code></em>] [<em><code>db_name</code></em>
                    [<em><code>tbl_name</code></em> [<em><code>col_name</code></em>]]]
</pre>

<ul><li><p>Если никакая база данных не дана, выведен список имен базы данных.
</li>
<li>Если никакая таблица не дана, показывают все подходящие
таблицы в базе данных.</li>
<li>Если никакой столбец не дан, показывают все подходящие столбцы
и типы столбца в таблице.</p></li></ul>

<p>Вывод выводит на экран только названия тех баз данных, таблиц или
столбцов, для которых у Вас есть хоть какие-то привилегии.</p>
<p>Если последний параметр содержит подстановочные символы SQL или оболочки
(<code>*</code>, <code>?</code>, <code>%</code> или <code>_</code>),
только те имена, которые являются соответствующими подстановочным знаком,
показывают. Если имя базы данных содержит какие-либо подчеркивания,
их нужно экранировать наклонной чертой влево (некоторые оболочки Unix требуют
две), чтобы получить список надлежащих таблиц или столбцов. <code>*</code> и
<code>?</code> преобразованы в SQL <code>%</code> и <code>_</code>.
Это могло бы вызвать некоторый беспорядок, когда Вы пытаетесь вывести на
экран столбцы для таблицы с <code>_</code> в имени, потому что в этом случае
<a href="#mysqlshow"><span><strong>mysqlshow</strong></span></a>
показывает Вам только имена таблиц, которые соответствуют образцу. Это легко
установлено, добавляя дополнительный <code>%</code>
последним в командной строке как отдельный параметр.</p>

<p><a href="#mysqlshow"><span><strong>mysqlshow</strong></span>
</a> поддерживает следующие опции, которые могут быть определены в командной
строке или в группах <code>[mysqlshow]</code> и <code>[client]</code>
файла опции. Для информации о файлах опции, используемых программами MySQL,
см. <a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965410830304"></a><p><b>Таблица 5.14. Опции
<code>mysqlshow</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row"><a href="#option_mysqlshow_bind-address">
--bind-address</a></td><td>Используйте определенный сетевой интерфейс, чтобы
соединиться с MySQL Server</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_compress">
--compress</a></td><td>Сжать всю информацию, посланную
между клиентом и сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_count">--count</a>
</td><td>Покажите число строк в таблице</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_debug">--debug</a>
</td><td>Писать журнал отладки</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_debug-check">
--debug-check</a></td><td>Информация об отладке, когда программа выходит
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_debug-info">
--debug-info</a></td><td>Информация об отладке, памяти и статистика
центрального процессора, когда программа выходит</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_default-auth">
--default-auth</a></td><td>Плагин аутентификации, чтобы использовать
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_default-character-set">
--default-character-set</a></td><td>Определите набор символов по умолчанию
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать этот файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_enable-cleartext-plugin">
--enable-cleartext-plugin</a></td><td>
Включите плагин аутентификации открытого текста</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_help">--help</a>
</td><td>Показать справочное сообщение</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_host">--host</a>
</td><td>Соединитесь с сервером MySQL на данном хосте</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_keys">--keys</a>
</td><td>Покажите индексы таблицы</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_login-path">
--login-path</a></td><td>Читать опции пути входа в систему из .mylogin.cnf
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_no-defaults">
--no-defaults</a></td><td>Не читать файлы опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_password">
--password</a></td><td>Пароль, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_pipe">--pipe</a>
</td><td>В Windows соединитесь с сервером, используя именованный канал
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_port">--port</a>
</td><td>Номер порта TCP/IP, чтобы использовать для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_print-defaults">
--print-defaults</a></td><td>Напечатайте опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_protocol">
--protocol</a></td><td>Протокол для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_secure-auth">
--secure-auth</a></td><td>Не посылайте пароли серверу в
старом формате (pre-4.1)</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_shared-memory-base-name">
--shared-memory-base-name</a></td><td>Название совместно используемой памяти,
чтобы использовать для соединений совместно используемой памяти</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_show-table-type">
--show-table-type</a></td><td>Покажите столбец, указывающий табличный тип
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_socket">--socket
</a></td><td>Для соединений с localhost файл сокета Unix</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_ssl">--ssl-ca</a>
</td><td>Путь к файлу, который содержит список доверенных SSL CA</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_ssl">--ssl-capath
</a></td><td>Путь к каталогу, который содержит доверенные сертификаты SSL
CA в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_ssl">--ssl-cert
</a></td><td>Путь к файлу, который содержит сертификат X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_ssl">--ssl-cipher
</a></td><td>Список разрешенных шифров, чтобы использовать
для шифрования соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_ssl">--ssl-crl</a>
</td><td>Путь к файлу, который содержит списки аннулирования сертификатов
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_ssl">--ssl-crlpath
</a></td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_ssl">--ssl-key</a>
</td><td>Путь к файлу, который содержит ключ X509 в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_ssl">--ssl-mode
</a></td><td>Статус безопасности соединения с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_status">--status
</a></td><td>Выведите на экран дополнительную информацию о каждой таблице
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_tls-version">
--tls-version</a></td><td>Протоколы для безопасных соединений</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_user">--user</a>
</td><td>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_verbose">
--verbose</a></td><td>Подробный режим вывода</td></tr>
<tr><td scope="row"><a href="#option_mysqlshow_version">
--version</a></td><td>Показать информацию о версии</td></tr></tbody></table>

<ul><li><p><a name="option_mysqlshow_help"></a>
<a href="#option_mysqlshow_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить текст справки.</li>

<li><a name="option_mysqlshow_bind-address"></a>
<a href="#option_mysqlshow_bind-address"><code>
--bind-address=<em><code>ip_address</code></em></code></a></p>

<p>На компьютере, имеющем многократные сетевые интерфейсы, используйте эту
опцию, чтобы выбрать, который интерфейс использовать для того, чтобы
соединиться с сервером MySQL.</li>

<li><a name="option_mysqlshow_character-sets-dir"></a>
<a href="#option_mysqlshow_character-sets-dir"><code>
--character-sets-dir=<em><code>dir_name</code></em></code></a></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysqlshow_compress"></a>
<a href="#option_mysqlshow_compress"><code>--compress</code></a>,
<code>-C</code></p>
<p>Сжать всю информацию, посланную между клиентом и сервером.</li>

<li><a name="option_mysqlshow_count"></a>
<a href="#option_mysqlshow_count"><code>--count</code></a></p>
<p>Покажите число строк в таблице. Это может быть медленным для таблиц
не-<code>MyISAM</code>.</li>

<li><a name="option_mysqlshow_debug"></a>
<a href="#option_mysqlshow_debug"><code>
--debug[=<em><code>debug_options</code></em>]</code></a>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Писать журнал отладки. Типичная строка
<em><code>debug_options</code></em>
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:o</code>.</li>

<li><a name="option_mysqlshow_debug-check"></a>
<a href="#option_mysqlshow_debug-check"><code>--debug-check
</code></a></p>
<p>Напечатайте некоторую информацию об отладке, когда программа выходит.
</li>

<li><a name="option_mysqlshow_debug-info"></a>
<a href="#option_mysqlshow_debug-info"><code>--debug-info
</code></a></p>
<p>Информация об отладке, памяти и статистика использования центрального
процессора, когда программа выходит.</li>

<li><a name="option_mysqlshow_default-character-set"></a>
<a href="#option_mysqlshow_default-character-set"><code>
--default-character-set=<em><code>charset_name</code></em></code></a></p>
<p>Использовать <em><code>charset_name</code></em> как набор символов
по умолчанию. См. <a href="global.htm#charset-configuration">раздел 11.5</a>.
</li>

<li><a name="option_mysqlshow_default-auth"></a>
<a href="#option_mysqlshow_default-auth"><code>
--default-auth=<em><code>plugin</code></em></code></a></p>
<p>Подсказка о клиентском плагине аутентификации, чтобы использовать. См.
See <a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqlshow_defaults-extra-file"></a>
<a href="#option_mysqlshow_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Читать этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога,
если дано как относительный путь, а не полный.</li>

<li><a name="option_mysqlshow_defaults-file"></a>
<a href="#option_mysqlshow_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный
путь, а не полный.</p>

<p>Исключение: Даже с опцией
<a href="#option_general_defaults-file"><code>--defaults-file
</code></a> программы клиента читают <code>.mylogin.cnf</code>.</li>

<li><a name="option_mysqlshow_defaults-group-suffix"></a>
<a href="#option_mysqlshow_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читать не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysqlshow"><span><strong>mysqlshow</strong></span></a>
обычно читает группы <code>[client]</code> и <code>[mysqlshow]</code>. Если
задана опция <a href="#option_mysqlshow_defaults-group-suffix">
<code>--defaults-group-suffix=_other</code></a>,
<a href="#mysqlshow"><span><strong>mysqlshow</strong></span></a>
также читает группы <code>[client_other]</code> и
<code>[mysqlshow_other]</code>.</li>

<li><a name="option_mysqlshow_enable-cleartext-plugin"></a>
<a href="#option_mysqlshow_enable-cleartext-plugin"><code>
--enable-cleartext-plugin</code></a></p>

<p>Включите плагин аутентификации открытого текста
<code>mysql_clear_password</code>, см.
<a href="security.htm#cleartext-authentication-plugin">раздел 7.5.1.4</a>.
</li>

<li><a name="option_mysqlshow_host"></a>
<a href="#option_mysqlshow_host"><code>
--host=<em><code>host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Соединитесь с сервером MySQL на данном хосте.</li>

<li><a name="option_mysqlshow_keys"></a>
<a href="#option_mysqlshow_keys"><code>--keys</code></a>,
<code>-k</code></p>
<p>Покажите индексы таблицы.</li>

<li><a name="option_mysqlshow_login-path"></a>
<a href="#option_mysqlshow_login-path"><code>
--login-path=<em><code>name</code></em></code></a></p>

<p>Читать опции из названного пути входа в систему в
<code>.mylogin.cnf</code>. <span><span>login path</span></span>
является группой опции, содержащей опции, которые определяют, с каким
сервером MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см. <a href="#mysql-config-editor">раздел
5.6.7</a>.</li>

<li><a name="option_mysqlshow_no-defaults"></a>
<a href="#option_mysqlshow_no-defaults"><code>
--no-defaults</code></a></p>

<p>Не читайте файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций из файла опции,
<a href="#option_mysqlshow_no-defaults"><code>--no-defaults
</code></a> может использоваться, чтобы препятствовать тому, чтобы
они были считаны.</p>

<p>Исключение то, что файл <code>.mylogin.cnf</code>, если существует, считан
во всех случаях. Это разрешает паролям быть определенными более безопасным
способом, чем в командной строке, даже когда есть опция
<a href="#option_mysqlshow_no-defaults"><code>--no-defaults
</code></a>. <code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см. <a href="#mysql-config-editor">раздел
5.6.7</a>.</li>

<li><a name="option_mysqlshow_password"></a>
<a href="#option_mysqlshow_password"><code>
--password[=<em><code>password</code></em>]</code></a>,
<code>-p[<em><code>password</code></em>]</code></p>

<p>Пароль, чтобы использовать, соединяясь с сервером. Если Вы
используете короткую форму опции (<code>-p</code>), Вы
<span><em>не должны</em></span> иметь пробелы
между опцией и паролем. Если Вы опускаете <em><code>password</code></em>
после <a href="#option_mysqlshow_password"><code>--password
</code></a> или <code>-p</code> в командной строке,
<a href="#mysqlshow"><span><strong>mysqlshow</strong></span></a>
его спросит явно.</p>

<p>Определение пароля в командной строке нужно считать опасным. См.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.
Вы можете использовать файл опции, чтобы избежать задавать
пароль в командной строке.</li>

<li><a name="option_mysqlshow_pipe"></a>
<a href="#option_mysqlshow_pipe"><code>--pipe</code></a>,
<code>-W</code></p>

<p>В Windows соединитесь с сервером, используя именованный канал.
Эта опция применяется, только если сервер поддерживает
соединения именованного канала.</li>

<li><a name="option_mysqlshow_plugin-dir"></a>
<a href="#option_mysqlshow_plugin-dir"><code>
--plugin-dir=<em><code>dir_name</code></em></code></a></p>

<p>Каталог, в котором можно искать плагины. Определите эту опцию, если
<a href="#option_mysqlshow_default-auth"><code>--default-auth
</code></a> используется, чтобы определить плагин аутентификации, но
<a href="#mysqlshow"><span><strong>mysqlshow</strong></span></a>
его не нашел, см. <a href="security.htm#pluggable-authentication">раздел
7.3.9</a>.</li>

<li><a name="option_mysqlshow_port"></a>
<a href="#option_mysqlshow_port"><code>--port=<em><code>
port_num</code></em></code></a>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для соединения.</li>

<li><a name="option_mysqlshow_print-defaults"></a>
<a href="#option_mysqlshow_print-defaults"><code>
--print-defaults</code></a></p>
<p>Напечатайте название программы и все опции, которые это получает
от файлов опции.</li>

<li><a name="option_mysqlshow_protocol"></a>
<a href="#option_mysqlshow_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Протокол соединения, чтобы использовать для того, чтобы соединиться с
сервером. Полезно, когда другие параметры соединения используют
не тот протокол, см. <a href="#connecting">раздел 5.2.2</a>.</li>

<li><a name="option_mysqlshow_secure-auth"></a>
<a href="#option_mysqlshow_secure-auth"><code>--secure-auth
</code></a></p>
<p>Не посылайте пароли в сервер в старом формате (pre-4.1).</p>
<p>Эта опция устарела. Это всегда включается и попытка отключения
(<a href="#option_mysqlshow_secure-auth"><code>--skip-secure-auth
</code></a>,
<a href="#option_mysqlshow_secure-auth"><code>--secure-auth=0
</code></a>) немедлено вызовет ошибку.</p></li>

<li><p><a name="option_mysqlshow_shared-memory-base-name"></a>
<a href="#option_mysqlshow_shared-memory-base-name">
<code>--shared-memory-base-name=<em><code>name</code></em></code></a></p>

<p>В Windows имя совместно используемой памяти для соединений, сделанных,
используя совместно используемую память для локального сервера.
Значение по умолчанию <code>MYSQL</code>. Имя совместно используемой памяти
является чувствительным к регистру.</p>

<p>Сервер должен быть запущен с опцией
<a href="server.htm#option_mysqld_shared-memory"><code>--shared-memory</code>
</a>.</li>

<li><a name="option_mysqlshow_show-table-type"></a>
<a href="#option_mysqlshow_show-table-type">
<code>--show-table-type</code></a>, <code>-t</code></p>

<p>Покажите столбец, указывающий на табличный тип, как в
<a href="sql.htm#show-tables"><code>SHOW FULL TABLES</code></a>.
Тип <code>BASE TABLE</code> или <code>VIEW</code>.</li>

<li><a name="option_mysqlshow_socket"></a>
<a href="#option_mysqlshow_socket"><code>--socket=<em><code>
path</code></em></code></a>,
<code>-S <em><code>path</code></em></code></p>
<p>Для соединений с <code>localhost</code> файл сокета Unix.
В Windows название именованного канала.</li>

<li><a name="option_mysqlshow_ssl"></a><code>--ssl*</code></p>
<p>Опции, которые начинаются с
<a href="security.htm#option_general_ssl"><code>--ssl</code></a>,
определяют, соединиться ли с сервером, используя SSL и указывают, где найти
ключи SSL и сертификаты, см.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysqlshow_status"></a>
<a href="#option_mysqlshow_status"><code>--status</code></a>,
<code>-i</code></p>
<p>Выведите на экран дополнительную информацию о каждой таблице.</li>

<li><a name="option_mysqlshow_tls-version"></a>
<a href="#option_mysqlshow_tls-version"><code>
--tls-version=<em><code>protocol_list</code></em></code></a></p>

<p>Протоколы, разрешенные клиентом для зашифрованных соединений.
Значение: список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы по имени в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL. Для деталей
см. <a href="security.htm#secure-connection-protocols-ciphers">раздел 7.4.3
</a>.</li>

<li><a name="option_mysqlshow_user"></a>
<a href="#option_mysqlshow_user"><code>--user=<em>
<code>user_name</code></em></code></a>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером.</li>

<li><a name="option_mysqlshow_verbose"></a>
<a href="#option_mysqlshow_verbose"><code>--verbose</code></a>,
<code>-v</code></p>

<p>Подробный режим. Напечатайте больше информации о том, что делает
программа. Эта опция может использоваться многократно, чтобы
увеличить количество информации.</li>

<li><a name="option_mysqlshow_version"></a>
<a href="#option_mysqlshow_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Показать информацию о версии.</p></li></ul>

<h3><a name="mysqlslap"></a>5.5.8. <span><strong>mysqlslap</strong></span>
клиент эмуляции загрузки</h3>
<p><a href="#mysqlslap"><span><strong>mysqlslap</strong></span>
</a> это программа диагностирования, разработанная, чтобы подражать загрузке
клиента для сервера MySQL и сообщить о синхронизации каждого этапа.
Это работает, как будто много клиентов получают доступ к серверу.</p>

<p>Вызов <a href="#mysqlslap"><span><strong>mysqlslap</strong>
</span></a>:
<pre>
shell&gt; mysqlslap [<em><code>options</code></em>]
</pre>

Некоторые опции, например, <a href="#option_mysqlslap_create">
<code>--create</code></a> или <a href="#option_mysqlslap_query">
<code>--query</code></a>, позволяют Вам определить строку, содержащую запрос
SQL или файл, содержащий запросы. Если Вы определяете файл, по умолчанию это
должно содержать один запрос на строку. Таким образом, неявный разделитель
запросов это символ новой строки. Примените опцию
<a href="#option_mysqlslap_delimiter"><code>--delimiter</code>
</a>, чтобы определить иной разделитель, который позволяет Вам определить
запросы, которые охватывают многократные строки или помещают многократные
запросы в одной строке. Вы не можете включать комментарии в файл,
<a href="#mysqlslap"><span><strong>mysqlslap</strong></span></a>
не понимает их.</p>

<p><a href="#mysqlslap"><span><strong>mysqlslap</strong></span>
</a> работает в три шага:</p>
<ol type="1"><li><p>Создайте схему, таблицу, и произвольно любые сохраненные
программы или данные, чтобы использовать для теста. Этот этап использует
единственное соединение клиента.</li>

<li>Выполните нагрузочный тест. Этот этап может использовать
много соединений клиента.</li>
<li>Удалите таблицу, если определена.
Этот этап использует единственное соединение клиента.</p></li></ol>

<p>Пример:</p>
<p>Создайте таблицу и выполните запросы SQL с 50 запрашивающими клиентами
и 200 выбирающими для каждого запроса (введите команду в одну строку):
<pre>
mysqlslap --delimiter=";"
          --create="CREATE TABLE a (b int);INSERT INTO a VALUES (23)"
          --query="SELECT * FROM a" --concurrency=50 --iterations=200
</pre>

Пусть <a href="#mysqlslap"><span><strong>mysqlslap</strong>
</span></a> создаст запрос SQL с таблицей из двух столбцов
<a href="types.htm#integer-types"><code>INT</code></a> и трех
<a href="types.htm#char"><code>VARCHAR</code></a>.
Используйте пять клиентов, запрашивающих 20 раз каждый.
Не составляйте таблицу и не вставляйте данные (то есть, используйте схему
предыдущего теста и данные):
<pre>
mysqlslap --concurrency=5 --iterations=20
          --number-int-cols=2 --number-char-cols=3 --auto-generate-sql
</pre>

Скажите программе загружать создавать вставлять и запрашивать запросы SQL от
указанных файлов, где <code>create.sql</code> имеет
много табличные запросы создания, разграниченные <code>';'</code>
и многократные запросы вставки, разграниченные <code>';'</code>. Файл в
<code>--query</code> разграничивает запросы <code>';'</code>.
Выполните все запросы загрузки, затем выполните все запросы в файле запроса с
пятью клиентами (пять раз каждый):
<pre>
mysqlslap --concurrency=5 --iterations=5
          --query=query.sql
          --create=create.sql --delimiter=";"
</pre>

<a href="#mysqlslap"><span><strong>mysqlslap</strong></span></a>
поддерживает следующие опции, которые могут быть определены в командной
строке или в группах <code>[mysqlslap]</code> и <code>[client]</code>
файла опции. Для информации о файлах опции, используемых программами MySQL,
см. <a href="#option-files">раздел 5.2.6</a>.</p>

<p><b>Таблица 5.15. Опции <code>mysqlslap</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row"><a href="#option_mysqlslap_auto-generate-sql">
--auto-generate-sql</a></td><td>Произведите запросы SQL автоматически, когда
они не даны в файлах или опциях команды</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_auto-generate-sql-add-autoincrement">
--auto-generate-sql-add-autoincrement</a></td><td>
Добавить столбец AUTO_INCREMENT к автоматически произведенным таблицам
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_auto-generate-sql-execute-number">
--auto-generate-sql-execute-number</a></td><td>
Определите сколько запросов произвести автоматически</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_auto-generate-sql-guid-primary">
--auto-generate-sql-guid-primary</a></td><td>Добавьте основанный на GUID
первичный ключ к автоматически произведенным таблицам</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_auto-generate-sql-load-type">
--auto-generate-sql-load-type</a></td><td>
Определите испытательный тип загрузки</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_auto-generate-sql-secondary-indexes">
--auto-generate-sql-secondary-indexes</a></td><td>
Определите, сколько вторичных индексов добавить к
автоматически произведенным таблицам</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_auto-generate-sql-unique-query-number">
--auto-generate-sql-unique-query-number</a></td><td>
Сколько различных запросов произвести для автоматических тестов</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_auto-generate-sql-unique-write-number">
--auto-generate-sql-unique-write-number</a></td><td>
Сколько различных запросов произвести для --auto-generate-sql-write-number
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_auto-generate-sql-write-number">
--auto-generate-sql-write-number</a></td><td>
Сколько строк вставлять в каждом потоке</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_commit">--commit
</a></td><td>Сколько запросов выполнить перед commit</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_compress">
--compress</a></td><td>Сжать всю информацию, посланную
между клиентом и сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_concurrency">
--concurrency</a></td><td>Число клиентов, чтобы моделировать, делая SELECT
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_create">--create
</a></td><td>Файл или строка, содержащая запрос, чтобы использовать для того,
чтобы составить таблицу</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_create-schema">
--create-schema</a></td><td>Схема, в которой можно выполнить тесты</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_csv">--csv</a></td>
<td>Произведите вывод в отделенном запятыми формате значений</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_debug">--debug</a>
</td><td>Писать журнал отладки</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_debug-check">
--debug-check</a></td><td>Информация об отладке, когда программа выходит
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_debug-info">
--debug-info</a></td><td>Информация об отладке, памяти и статистика
центрального процессора, когда программа выходит</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_default-auth">
--default-auth</a></td><td>Плагин аутентификации, чтобы использовать
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать этот файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_delimiter">
--delimiter</a></td><td>Разделитель, чтобы использовать в запросах SQL
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_detach">--detach
</a></td><td>Отделить (закрыть и вновь открыть) каждое соединение
после каждых N запросов</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_enable-cleartext-plugin">
--enable-cleartext-plugin</a></td><td>
Включите плагин аутентификации открытого текста</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_engine">--engine
</a></td><td>Механизм хранения для того, чтобы составить таблицу</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_help">--help</a>
</td><td>Отобразить сообщение справки</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_host">--host</a>
</td><td>Соединитесь с сервером MySQL на данном хосте</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_iterations">
--iterations</a></td><td>Сколько раз выполнить тесты</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_login-path">
--login-path</a></td><td>Считайте опции пути входа в систему из .mylogin.cnf
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_no-defaults">
--no-defaults</a></td><td>Не читайте файлы опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_no-drop">
--no-drop</a></td><td>Не удалять любую схему, созданную во время испытания
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_number-char-cols">
--number-char-cols</a></td><td>Число столбцов VARCHAR, чтобы использовать,
если определена --auto-generate-sql</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_number-int-cols">
--number-int-cols</a></td><td>Число столбцов INT, чтобы использовать,
если определена --auto-generate-sql</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_number-of-queries">
--number-of-queries</a></td><td>Ограничьте каждого клиента приблизительно
этим числом запросов</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_only-print">
--only-print</a></td><td>Не соединяйтесь с базами данных.
mysqlslap только печатает то, что он сделал бы</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_password">
--password</a></td><td>Пароль, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_pipe">--pipe</a>
</td><td>В Windows соединитесь с сервером, используя именованный канал
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_port">--port</a>
</td><td>Номер порта TCP/IP, чтобы использовать для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_post-query">
--post-query</a></td><td>Файл или строка, содержащая запрос, чтобы
выполнить после тестов</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_post-system">
--post-system</a></td><td>Строка, чтобы выполнить через system() после тестов
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_pre-query">
--pre-query</a></td><td>Файл или строка, содержащая запрос, чтобы выполнить
прежде, чем выполнить тесты</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_pre-system">
--pre-system</a></td><td>Строка, чтобы выполнить через system() до тестов
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_print-defaults">
--print-defaults</a></td><td>Напечатайте опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_protocol">
--protocol</a></td><td>Протокол соединения, чтобы использовать</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_query">--query</a>
</td><td>Файл или строка, содержащая запрос SELECT, чтобы использовать для
того, чтобы получить данные</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_secure-auth">
--secure-auth</a></td><td>Не посылайте пароли серверу в
старом формате (pre-4.1)</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_shared-memory-base-name">
--shared-memory-base-name</a></td><td>Название совместно используемой памяти,
чтобы использовать для соединений</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_silent">--silent
</a></td><td>Тихий режим</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_socket">
--socket</a></td><td>Для соединений с localhost файл сокета Unix</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_sql-mode">
--sql-mode</a></td><td>Задать режим SQL для сеанса клиента</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_ssl">--ssl-ca</a>
</td><td>Путь к файлу, который содержит список доверенных SSL CA</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_ssl">--ssl-capath
</a></td><td>Путь к каталогу, который содержит доверенные сертификаты
SSL CA в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_ssl">--ssl-cert
</a></td><td>Путь к файлу, который содержит сертификат X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_ssl">--ssl-cipher
</a></td><td>Список разрешенных шифров, чтобы использовать
для шифрования соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_ssl">--ssl-crl</a>
</td><td>Путь к файлу, который содержит списки аннулирования сертификатов
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_ssl">--ssl-crlpath
</a></td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_ssl">
--ssl-key</a></td><td>Путь к файлу, который содержит ключ X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_ssl">
--ssl-mode</a></td><td>Статус безопасности соединения с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_tls-version">
--tls-version</a></td><td>Протоколы для безопасных соединений</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_user">
--user</a></td><td>Имя пользователя MySQL, чтобы
использовать, соединяясь с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_verbose">
--verbose</a></td><td>Подробный режим</td></tr>
<tr><td scope="row"><a href="#option_mysqlslap_version">
--version</a></td><td>Отобразить информацию о версии
</td></tr></tbody></table>

<ul><li><p><a name="option_mysqlslap_help"></a>
<a href="#option_mysqlslap_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_mysqlslap_auto-generate-sql"></a>
<a href="#option_mysqlslap_auto-generate-sql"><code>
--auto-generate-sql</code></a>, <code>-a</code></p>
<p>Произведите запросы SQL автоматически, когда они не даны
в файлах или опциях команды.</li>

<li><a name="option_mysqlslap_auto-generate-sql-add-autoincrement"></a>
<a href="#option_mysqlslap_auto-generate-sql-add-autoincrement">
<code>--auto-generate-sql-add-autoincrement</code></a></p>
<p>Добавить столбец <code>AUTO_INCREMENT</code>
к автоматически произведенным таблицам.</li>

<li><a name="option_mysqlslap_auto-generate-sql-execute-number"></a>
<a href="#option_mysqlslap_auto-generate-sql-execute-number">
<code>--auto-generate-sql-execute-number=<em><code>N</code></em></code></a>
</p>
<p>Определите сколько запросов произвести автоматически.</li>

<li><a name="option_mysqlslap_auto-generate-sql-guid-primary"></a>
<a href="#option_mysqlslap_auto-generate-sql-guid-primary">
<code>--auto-generate-sql-guid-primary</code></a></p>
<p>Добавьте основанный на GUID первичный ключ к
автоматически произведенным таблицам.</li>

<li><a name="option_mysqlslap_auto-generate-sql-load-type"></a>
<a href="#option_mysqlslap_auto-generate-sql-load-type">
<code>--auto-generate-sql-load-type=<em><code>type</code></em></code></a></p>

<p>Определите испытательный тип загрузки. Допустимые значения:
<code>read</code> (просмотр таблицы),
<code>write</code> (вставка в таблицы),
<code>key</code> (считывание первичных ключей),
<code>update</code> (обновление первичных ключей) или
<code>mixed</code> (половина вставки, половина просмотр).
Значение по умолчанию <code>mixed</code>.</li>

<li><a name="option_mysqlslap_auto-generate-sql-secondary-indexes"></a>
<a href="#option_mysqlslap_auto-generate-sql-secondary-indexes">
<code>--auto-generate-sql-secondary-indexes=<em><code>N</code></em></code>
</a></p>
<p>Определите, сколько вторичных индексов добавить к автоматически
произведенным таблицам. По умолчанию ни один не добавлен.</li>

<li><a name="option_mysqlslap_auto-generate-sql-unique-query-number"></a>
<a href="#option_mysqlslap_auto-generate-sql-unique-query-number">
<code>--auto-generate-sql-unique-query-number=<em><code>N</code></em></code>
</a></p>

<p>Сколько различных запросов произвести для автоматических тестов.
Например, если Вы выполняете тест <code>key</code>, который выполняет
1000 выборок, Вы можете использовать эту опцию со значением 1000, чтобы
выполнить 1000 уникальных запросов, или со значением 50, чтобы сделать
разных выборок. Значение по умолчанию 10.</li>

<li><a name="option_mysqlslap_auto-generate-sql-unique-write-number"></a>
<a href="#option_mysqlslap_auto-generate-sql-unique-write-number">
<code>--auto-generate-sql-unique-write-number=<em><code>N</code></em></code>
</a></p>

<p>Какое количествл различных запросов произвести для
<a href="#option_mysqlslap_auto-generate-sql-write-number">
<code>--auto-generate-sql-write-number</code></a>.
Значение по умолчанию 10.</li>

<li><a name="option_mysqlslap_auto-generate-sql-write-number"></a>
<a href="#option_mysqlslap_auto-generate-sql-write-number">
<code>--auto-generate-sql-write-number=<em><code>N</code></em></code></a></p>
<p>Сколько строк вставлять. Значение по умолчанию 100.</li>

<li><a name="option_mysqlslap_commit"></a>
<a href="#option_mysqlslap_commit"><code>
--commit=<em><code>N</code></em></code></a></p>
<p>Сколько запросов выполнить перед commit.
Значение по умолчанию 0 (no commit).</li>

<li><a name="option_mysqlslap_compress"></a>
<a href="#option_mysqlslap_compress"><code>
--compress</code></a>, <code>-C</code></p>
<p>Сжать всю информацию, посланную между клиентом и сервером.</li>

<li><a name="option_mysqlslap_concurrency"></a>
<a href="#option_mysqlslap_concurrency"><code>
--concurrency=<em><code>N</code></em></code></a>,
<code>-c <em><code>N</code></em></code></p>
<p>Число параллельных клиентов.</li>

<li><a name="option_mysqlslap_create"></a>
<a href="#option_mysqlslap_create"><code>
--create=<em><code>value</code></em></code></a></p>
<p>Файл или строка, содержащая запрос, чтобы использовать для того,
чтобы составить таблицу.</li>

<li><a name="option_mysqlslap_create-schema"></a>
<a href="#option_mysqlslap_create-schema">
<code>--create-schema=<em><code>value</code></em></code></a></p>
<p>Схема, в которой можно выполнить тесты.</p>

<p>Если <a href="#option_mysqlslap_auto-generate-sql"><code>
--auto-generate-sql</code></a> тоже есть, <a href="#mysqlslap">
<span><strong>mysqlslap</strong></span></a> удаляет схему в конце испытания.
Чтобы избежать этого, используйте
<a href="#option_mysqlslap_no-drop"><code>--no-drop</code>
</a>.</p></li>

<li><p><a name="option_mysqlslap_csv"></a>
<a href="#option_mysqlslap_csv"><code>
--csv[=<em><code>file_name</code></em>]</code></a></p>

<p>Произведите вывод в отделенном запятыми формате значений.
Вывод идет в названный файл, или в стандартный вывод, если никакой
файл не дан.</li>

<li><a name="option_mysqlslap_debug"></a>
<a href="#option_mysqlslap_debug"><code>
--debug[=<em><code>debug_options</code></em>]</code></a>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Писать журнал отладки. Типичная строка
<em><code>debug_options</code></em>:
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:o,/tmp/mysqlslap.trace</code>.</li>

<li><a name="option_mysqlslap_debug-check"></a>
<a href="#option_mysqlslap_debug-check"><code>
--debug-check</code></a></p>
<p>Напечатайте некоторую информацию об отладке, когда программа выходит.
</li>

<li><a name="option_mysqlslap_debug-info"></a>
<a href="#option_mysqlslap_debug-info"><code>
--debug-info</code></a>, <code>-T</code></p>
<p>Информация об отладке, памяти и статистика использования центрального
процессора, когда программа выходит.</li>

<li><a name="option_mysqlslap_default-auth"></a>
<a href="#option_mysqlslap_default-auth"><code>
--default-auth=<em><code>plugin</code></em></code></a></p>
<p>Подсказка о клиентском плагине аутентификации, чтобы использовать. См.
<a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqlslap_defaults-extra-file"></a>
<a href="#option_mysqlslap_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Читать этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога, если дано как относительный
путь, а не полный.</li>

<li><a name="option_mysqlslap_defaults-file"></a>
<a href="#option_mysqlslap_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога,
если дано как относительный путь, а не полный.</p>

<p>Исключение: Даже с опцией
<a href="#option_general_defaults-file"><code>--defaults-file
</code></a> программы клиента читают <code>.mylogin.cnf</code>.</li>

<li><a name="option_mysqlslap_defaults-group-suffix"></a>
<a href="#option_mysqlslap_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читать не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysqlslap"><span><strong>mysqlslap</strong></span></a>
обычно читает группы <code>[client]</code> и <code>[mysqlslap]</code>. Если
есть опция <a href="#option_mysqlslap_defaults-group-suffix">
<code>--defaults-group-suffix=_other</code></a>,
<a href="#mysqlslap"><span><strong>mysqlslap</strong></span></a>
также читает группы <code>[client_other]</code> и
<code>[mysqlslap_other]</code>.</li>

<li><a name="option_mysqlslap_delimiter"></a>
<a href="#option_mysqlslap_delimiter"><code>
--delimiter=<em><code>str</code></em></code></a>,
<code>-F <em><code>str</code></em></code></p>
<p>Разделитель, чтобы использовать в запросах SQL, поставляемых в файлах
или опциях команды.</li>

<li><a name="option_mysqlslap_detach"></a>
<a href="#option_mysqlslap_detach"><code>
--detach=<em><code>N</code></em></code></a></p>

<p>Закрыть и переоткрыть каждое соединение после каждых
<em><code>N</code></em> запросов. Значение по умолчанию 0
(соединения не отделены).</li>

<li><a name="option_mysqlslap_enable-cleartext-plugin"></a>
<a href="#option_mysqlslap_enable-cleartext-plugin"><code>
--enable-cleartext-plugin</code></a></p>

<p>Включите плагин аутентификации открытого текста
<code>mysql_clear_password</code>, см.
<a href="security.htm#cleartext-authentication-plugin">раздел 7.5.1.4</a>.
</li>

<li><a name="option_mysqlslap_engine"></a>
<a href="#option_mysqlslap_engine"><code>--engine=<em><code>
engine_name</code></em></code></a>,
<code>-e <em><code>engine_name</code></em></code></p>
<p>Механизм хранения, чтобы использовать для того, чтобы составить таблицы.
</li>

<li><a name="option_mysqlslap_host"></a>
<a href="#option_mysqlslap_host"><code>--host=<em><code>
host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Соединитесь с сервером MySQL на данном хосте.</li>

<li><a name="option_mysqlslap_iterations"></a>
<a href="#option_mysqlslap_iterations"><code>--iterations=<em>
<code>N</code></em></code></a>, <code>-i <em><code>N</code></em></code></p>
<p>Сколько раз выполнить тесты.</li>

<li><a name="option_mysqlslap_login-path"></a>
<a href="#option_mysqlslap_login-path"><code>--login-path=<em>
<code>name</code></em></code></a></p>

<p>Читать опции из названного пути входа в систему в
<code>.mylogin.cnf</code>. <span><span>login path</span></span>
является группой опции, содержащей опции, которые определяют, с каким
сервером MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см. <a href="#mysql-config-editor">раздел
5.6.7</a>.</li>

<li><a name="option_mysqlslap_no-drop"></a>
<a href="#option_mysqlslap_no-drop"><code>--no-drop</code></a>
</p>
<p>Не удалять любую схему, которую создали во время испытания.</li>

<li><a name="option_mysqlslap_no-defaults"></a>
<a href="#option_mysqlslap_no-defaults"><code>
--no-defaults</code></a></p>

<p>Не читайте файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций из файла опции,
<a href="#option_mysqlslap_no-defaults"><code>--no-defaults
</code></a> может использоваться, чтобы препятствовать тому, чтобы
они были считаны.</p>

<p>Исключение то, что файл <code>.mylogin.cnf</code>, если есть,
считан во всех случаях. Это разрешает паролям быть определенными более
безопасным способом, чем в командной строке, даже когда задана опция
<a href="#option_mysqlslap_no-defaults"><code>--no-defaults
</code></a>. <code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см. <a href="#mysql-config-editor">раздел
5.6.7</a>.</li>

<li><a name="option_mysqlslap_number-char-cols"></a>
<a href="#option_mysqlslap_number-char-cols"><code>
--number-char-cols=<em><code>N</code></em></code></a>,
<code>-x <em><code>N</code></em></code></p>

<p>Число столбцов <a href="types.htm#char"><code>VARCHAR</code></a>, чтобы
использовать, если задана
<a href="#option_mysqlslap_auto-generate-sql"><code>
--auto-generate-sql</code></a>.</li>

<li><a name="option_mysqlslap_number-int-cols"></a>
<a href="#option_mysqlslap_number-int-cols"><code>
--number-int-cols=<em><code>N</code></em></code></a>,
<code>-y <em><code>N</code></em></code></p>

<p>Число столбцов <a href="types.htm#integer-types"><code>INT</code></a>,
чтобы использовать, если задана
<a href="#option_mysqlslap_auto-generate-sql"><code>
--auto-generate-sql</code></a>.</li>

<li><a name="option_mysqlslap_number-of-queries"></a>
<a href="#option_mysqlslap_number-of-queries"><code>
--number-of-queries=<em><code>N</code></em></code></a></p>

<p>Ограничьте каждого клиента приблизительно этим числом запросов.
Подсчет запросов принимает во внимание разделитель запроса. Например, если Вы
вызываете <a href="#mysqlslap"><span><strong>mysqlslap</strong>
</span></a>, разделитель <code>;</code> признан так, чтобы каждый случай
запроса представил количество в виде строки как два запроса.
В результате вставлены 5 строк (не 10).
<pre>
shell&gt; mysqlslap --delimiter=";" --number-of-queries=10
                    --query="use test;insert into t values(null)"
</pre></li>

<li><a name="option_mysqlslap_only-print"></a>
<a href="#option_mysqlslap_only-print"><code>
--only-print</code></a></p>
<p>Не соединяйтесь с базами данных. <a href="#mysqlslap"><span>
<strong>mysqlslap</strong></span></a> только печатает то, что он сделал бы.
</li>

<li><a name="option_mysqlslap_password"></a>
<a href="#option_mysqlslap_password"><code>
--password[=<em><code>password</code></em>]</code></a>,
<code>-p[<em><code>password</code></em>]</code></p>

<p>Пароль, чтобы использовать, соединяясь с сервером. Если Вы используете
короткую форму опции (<code>-p</code>), Вы
<span><em>не можете</em></span> иметь пробелы между опцией и паролем.
Если Вы опускаете <em><code>password</code></em> после
<a href="#option_mysqlslap_password"><code>--password</code></a>
или <code>-p</code> в командной строке,
<a href="#mysqlslap"><span><strong>mysqlslap</strong></span></a>
запросит пароль явно.</p>

<p>Определение пароля в командной строке нужно считать опасным. См.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.
Вы можете использовать файл опции, чтобы избежать давать
пароль в командной строке.</li>

<li><a name="option_mysqlslap_pipe"></a>
<a href="#option_mysqlslap_pipe"><code>--pipe</code></a>,
<code>-W</code></p>
<p>В Windows соединитесь с сервером, используя именованный канал.</li>

<li><a name="option_mysqlslap_plugin-dir"></a>
<a href="#option_mysqlslap_plugin-dir"><code>
--plugin-dir=<em><code>dir_name</code></em></code></a></p>

<p>Каталог, в котором можно искать плагины. Определите эту опцию, если
<a href="#option_mysqlslap_default-auth"><code>--default-auth
</code></a> задана, чтобы определить плагин аутентификации, но
<a href="#mysqlslap"><span><strong>mysqlslap</strong></span></a>
его не нашел, см. <a href="security.htm#pluggable-authentication">раздел
7.3.9</a>.</li>

<li><a name="option_mysqlslap_port"></a>
<a href="#option_mysqlslap_port"><code>
--port=<em><code>port_num</code></em></code></a>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для соединения.</li>

<li><a name="option_mysqlslap_post-query"></a>
<a href="#option_mysqlslap_post-query"><code>
--post-query=<em><code>value</code></em></code></a></p>
<p>Файл или строка, содержащая запрос, чтобы выполнить после тестов.
Это выполнение не посчитано в целях синхронизации.</li>

<li><a name="option_mysqlslap_post-system"></a>
<a href="#option_mysqlslap_post-system"><code>
--post-system=<em><code>str</code></em></code></a></p>

<p>Строка, чтобы выполнить с использованием <code>system()</code>
после того, как тесты завершились. Это выполнение не
посчитано в целях синхронизации.</li>

<li><a name="option_mysqlslap_pre-query"></a>
<a href="#option_mysqlslap_pre-query"><code>
--pre-query=<em><code>value</code></em></code></a></p>
<p>Файл или строка, содержащая запрос, чтобы выполнить прежде, чем выполнить
тесты. Это выполнение не посчитано в целях синхронизации.</li>

<li><a name="option_mysqlslap_pre-system"></a>
<a href="#option_mysqlslap_pre-system"><code>
--pre-system=<em><code>str</code></em></code></a></p>
<p>Строка, чтобы выполнить с использованием <code>system()</code> прежде, чем
выполнить тесты. Это выполнение не посчитано в целях синхронизации.</li>

<li><a name="option_mysqlslap_print-defaults"></a>
<a href="#option_mysqlslap_print-defaults"><code>
--print-defaults</code></a></p>
<p>Напечатайте название программы и все опции, которые это получает
от файлов опции.</li>

<li><a name="option_mysqlslap_protocol"></a>
<a href="#option_mysqlslap_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Протокол соединения, чтобы использовать для того, чтобы соединиться с
сервером. Полезно, когда другие параметры соединения заставляли бы применить
не тот протокол. См. <a href="#connecting">раздел 5.2.2</a>.</li>

<li><a name="option_mysqlslap_query"></a>
<a href="#option_mysqlslap_query"><code>--query=<em>
<code>value</code></em></code></a>,
<code>-q <em><code>value</code></em></code></p>

<p>Файл или строка, содержащая запрос
<a href="sql.htm#select"><code>SELECT</code></a>
для того, чтобы получить данные.</li>

<li><a name="option_mysqlslap_secure-auth"></a>
<a href="#option_mysqlslap_secure-auth"><code>
--secure-auth</code></a></p>

<p>Не посылайте пароли в сервер в старом формате (pre-4.1).</p>
<p>Эта опция устарела. Это всегда включается и попытка отключения
(<a href="#option_mysqlslap_secure-auth"><code>
--skip-secure-auth</code></a>,
<a href="#option_mysqlslap_secure-auth"><code>--secure-auth=0
</code></a>) сразу приводит к ошибке.</p></li>

<li><p><a name="option_mysqlslap_shared-memory-base-name"></a>
<a href="#option_mysqlslap_shared-memory-base-name">
<code>--shared-memory-base-name=<em><code>name</code></em></code></a></p>

<p>В Windows имя совместно используемой памяти
для соединений, сделанных, используя совместно используемую память для
локального сервера. Эта опция применяется, только если сервер поддерживает
соединения совместно используемой памяти.</li>

<li><a name="option_mysqlslap_silent"></a>
<a href="#option_mysqlslap_silent"><code>--silent</code></a>,
<code>-s</code></p>
<p>Тихий режим. Никакого вывода.</li>

<li><a name="option_mysqlslap_socket"></a>
<a href="#option_mysqlslap_socket"><code>--socket=<em><code>path</code></em></code></a>,
<code>-S <em><code>path</code></em></code></p>
<p>Для соединений с <code>localhost</code> файл сокета Unix, для Windows
имя названного канала.</li>

<li><a name="option_mysqlslap_sql-mode"></a>
<a href="#option_mysqlslap_sql-mode"><code>--sql-mode=
<em><code>mode</code></em></code></a></p>
<p>Установите режим SQL для сеанса клиента.</li>

<li><a name="option_mysqlslap_ssl"></a>
<code>--ssl*</code></p>
<p>Опции, которые начинаются с
<a href="security.htm#option_general_ssl"><code>--ssl</code></a>,
определяют, соединиться ли с сервером, используя SSL, и указывают, где найти
ключи SSL и сертификаты, см.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysqlslap_tls-version"></a>
<a href="#option_mysqlslap_tls-version"><code>--tls-version=<em>
<code>protocol_list</code></em></code></a></p>

<p>Протоколы, разрешенные клиентом для зашифрованных соединений.
Значение: список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы по имени в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL.
Для деталей см. <a href="security.htm#secure-connection-protocols-ciphers">
раздел 7.4.3</a>.</li>

<li><a name="option_mysqlslap_user"></a>
<a href="#option_mysqlslap_user"><code>--user=<em><code>user_name
</code></em></code></a>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать, соединяясь с сервером.</li>

<li><a name="option_mysqlslap_verbose"></a>
<a href="#option_mysqlslap_verbose"><code>--verbose</code></a>,
<code>-v</code></p>

<p>Многословный режим. Напечатать больше информации о том, что делает
программа. Эта опция может использоваться многократно, чтобы
увеличить количество информации.</li>

<li><a name="option_mysqlslap_version"></a>
<a href="#option_mysqlslap_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Отобразить информацию о версии.</p></li></ul>

<h2><a name="programs-admin-utils"></a>5.6.
Административные утилиты MySQL</h2>
<p>Этот раздел описывает административные программы и программы, которые
выполняют разные служебные операции.</p>

<h3><a name="ibd2sdi"></a>5.6.1. <span><strong>ibd2sdi</strong></span>
Утилита извлечения SDI табличного пространства InnoDB</h3>
<p><a href="#ibd2sdi"><span><strong>ibd2sdi</strong></span></a>
это утилита <code>InnoDB</code>, чтобы извлечь
<a href="glossary.htm#glos_serialized_dictionary_information">serialized
dictionary information</a> (SDI) из файлов
табличного пространства <code>InnoDB</code>.</p>

<p>Данные SDI не присутствуют в постоянных табличных пространствах
<code>InnoDB</code> в MySQL 8.0.0.
<a href="#ibd2sdi"><span><strong>ibd2sdi</strong></span></a>
сохранена для будущего использования.</p>

<h3><a name="innochecksum"></a>5.6.2.
<span><strong>innochecksum</strong></span>
офлайновая утилита контрольной суммы файла InnoDB</h3>
<p><a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> печатает контрольные суммы для файлов <code>InnoDB</code>.
Этот инструмент читает файл табличного пространства <code>InnoDB</code>,
вычисляет контрольную сумму для каждой страницы, сравнивает расчетную
контрольную сумму с сохраненной контрольной суммой и сообщает о
несоответствиях, которые указывают на поврежденные страницы. Это было
первоначально сделано, чтобы ускорить подтверждение целостности файлов
табличного пространства после отключений электричества, но может также
использоваться после копий файла. Поскольку несоответствия контрольной суммы
<code>InnoDB</code> предписывают закрыть рабочий сервер, может быть
предпочтительно использовать этот инструмент вместо того, чтобы столкнуться с
поврежденными страницами сервера в производственном использовании.</p>

<p><a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> не может использоваться на файлах табличного пространства,
которые сервер уже открыл. Для таких файлов Вы должны использовать
<a href="sql.htm#check-table"><code>CHECK TABLE</code></a>, чтобы
проверять таблицы в пределах табличного пространства. Попытка выполнить
<a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> на табличном пространстве, которое сервер уже имеет открытым,
приведет к ошибке <span class="errortext">Unable to lock file</span>.</p>

<p>Если несоответствия контрольной суммы найдены, Вы обычно восстанавливали
бы табличное пространство от резервной копии или запускали бы сервер и
использовали <a href="#mysqldump"><span><strong>mysqldump
</strong></span></a>, чтобы сделать резервное копирование таблиц в
пределах табличного пространства.</p>

<p>Вызов <a href="#innochecksum"><span><strong>innochecksum
</strong></span></a>:
<pre>
shell&gt; innochecksum [<em><code>options</code></em>] <em><code>file_name</code></em>
</pre>

<h4><a name="idm139965409938016"></a>Опции innochecksum</h4>
<p><a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> поддерживает следующие опции. Для опций, которые обращаются к
номерам страниц, числа начинаются с 0.</p>

<ul><li><p><a name="option_innochecksum_help"></a>
<a href="#option_innochecksum_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить справочное сообщение.</li>

<li><a name="option_innochecksum_info"></a>
<a href="#option_innochecksum_info"><code>--info</code></a>,
<code>-I</code></p>
<p>Синоним для <a href="#option_innochecksum_help"><code>--help
</code></a>.</li>

<li><a name="option_innochecksum_version"></a>
<a href="#option_innochecksum_version"><code>
--version</code></a>, <code>-V</code></p>
<p>Отобразить информацию о версии.</li>

<li><a name="option_innochecksum_verbose"></a>
<a href="#option_innochecksum_verbose"><code>
--verbose</code></a>, <code>-v</code></p>

<p>Многословный режим, печатает индикатор хода выполнения в
файл системного журнала каждые пять секунд. Для индикатора хода выполнения,
который будет напечатан, файл системного журнала должен быть определен,
используя <code>--log option</code>. Чтобы включить этот режим:
<pre>
shell&gt; innochecksum --verbose
</pre>

Чтобы выключить этот режим:
<pre>
shell&gt; innochecksum --verbose=FALSE
</pre>

Опции <code>--verbose</code> и <code>--log</code>
могут быть определены в то же самое время. Например:
<pre>
shell&gt; innochecksum --verbose --log=/var/lib/mysql/test/logtest.txt
</pre>

Чтобы определить местонахождение информации об индикаторе хода выполнения в
файле системного журнала, Вы можете выполнить следующий поиск:
<pre>
shell&gt; cat ./logtest.txt | grep -i "okay"
</pre>

Информация об индикаторе хода выполнения в файле системного
журнала подобна следующему:
<pre>
page 1663 okay: 2.863% done
page 8447 okay: 14.537% done
page 13695 okay: 23.568% done
page 18815 okay: 32.379% done
page 23039 okay: 39.648% done
page 28351 okay: 48.789% done
page 33023 okay: 56.828% done
page 37951 okay: 65.308% done
page 44095 okay: 75.881% done
page 49407 okay: 85.022% done
page 54463 okay: 93.722% done
...
</pre></li>

<li><a name="option_innochecksum_count"></a>
<a href="#option_innochecksum_count"><code>--count</code></a>,
<code>-c</code></p>

<p>Напечатайте количество страниц в файле. Например:
<pre>
shell&gt; innochecksum --count ../data/test/tab1.ibd
</pre></li>

<li><a name="option_innochecksum_start-page"></a>
<a href="#option_innochecksum_start-page"><code>
--start-page=<em><code>num</code></em></code></a>,
<code>-s <em><code>num</code></em></code></p>

<p>Начать с конкретной страницы в файле:
<pre>
shell&gt; innochecksum --start-page=600 ../data/test/tab1.ibd
</pre>

Или:
<pre>
shell&gt; innochecksum -s 600 ../data/test/tab1.ibd
</pre></li>

<li><a name="option_innochecksum_end-page"></a>
<a href="#option_innochecksum_end-page"><code>
--end-page=<em><code>num</code></em></code></a>,
<code>-e <em><code>num</code></em></code></p>

<p>Закончить на конкретной странице в файле:
<pre>
shell&gt; innochecksum --end-page=700 ../data/test/tab1.ibd
</pre>

Или:
<pre>
shell&gt; innochecksum --p 700 ../data/test/tab1.ibd
</pre></li>

<li><a name="option_innochecksum_page"></a>
<a href="#option_innochecksum_page"><code>--page=<em>
<code>num</code></em></code></a>,
<code>-p <em><code>num</code></em></code></p>

<p>Проверьте только эту страницу:
<pre>
shell&gt; innochecksum --page=701 ../data/test/tab1.ibd
</pre></li>

<li><a name="option_innochecksum_strict-check"></a>
<a href="#option_innochecksum_strict-check"><code>
--strict-check</code></a>, <code>-C</code></p>
<p>Определите строгий алгоритм контрольной суммы. Опции включают
<code>innodb</code>, <code>crc32</code> и <code>none</code>.</p>

<p>В этом примере алгоритм контрольной суммы <code>innodb</code> определен:
<pre>
shell&gt; innochecksum --strict-check=innodb ../data/test/tab1.ibd
</pre>

В этом примере определен алгоритм контрольной суммы <code>crc32</code>:
<pre>
shell&gt; innochecksum -C crc32 ../data/test/tab1.ibd
</pre>

Следующие условия применяются:
<ul><li><p>Если Вы не определяете
<a href="#option_innochecksum_strict-check"><code>--strict-check
</code></a>, <a href="#innochecksum"><span><strong>innochecksum
</strong></span></a> проверяет по <code>innodb</code>,
<code>crc32</code> и <code>none</code>.</li>

<li>Если Вы определяете <code>none</code>, допустимы
только контрольные суммы, произведенные <code>none</code>.</li>
<li>Если Вы определяете <code>innodb</code>, допустимы
только контрольные суммы, произведенные <code>innodb</code>.</li>

<li>Если Вы определяете <code>crc32</code>, допустимы
только контрольные суммы, произведенные <code>crc32</code>.
</p></li></ul></li>

<li><p><a name="option_innochecksum_no-check"></a>
<a href="#option_innochecksum_no-check"><code>
--no-check</code></a>, <code>-n</code></p>

<p>Проигнорируйте проверку контрольной суммы, переписывая контрольную сумму.
Эта опция может использоваться только с опцией
<a href="#option_innochecksum_write"><code>--write</code></a>.
Если <a href="#option_innochecksum_write"><code>--write</code>
</a> не задана, <a href="#innochecksum"><span><strong>
innochecksum</strong></span></a> прерывается.</p>

<p>В этом примере контрольная сумма <code>innodb</code>
переписана, чтобы заменить недопустимую контрольную сумму:
<pre>
shell&gt; innochecksum --no-check --write innodb ../data/test/tab1.ibd
</pre></li>

<li><a name="option_innochecksum_allow-mismatches"></a>
<a href="#option_innochecksum_allow-mismatches"><code>
--allow-mismatches</code></a>, <code>-a</code></p>

<p>Максимальное количество несоответствий контрольной суммы, позволенных
перед прерыванием <a href="#innochecksum"><span><strong>
innochecksum</strong></span></a>. Настройка по умолчанию 0. Если
<code>--allow-mismatches=</code><em><code>N</code></em>,
где <code><em><code>N</code></em>&gt;=0</code>,
<em><code>N</code></em> несоответствий разрешены, и
<a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> заканчивается на <code><em><code>N</code></em>+1</code>. Когда
<code>--allow-mismatches</code> установлена в 0,
<a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> заканчивается на первом несоответствии контрольной суммы.</p>

<p>В этом примере контрольная сумма переписана и
<code>--allow-mismatches</code> установлена в 1.
<pre>
shell&gt; innochecksum --allow-mismatches=1 --write innodb ../data/test/tab1.ibd
</pre>

С <code>--allow-mismatches</code>=1, если есть несоответствие на странице 600
и другое на странице 700 в файле с 1000 страницами, контрольная сумма
обновлена для страниц 0-599 и 601-699. Поскольку
<code>--allow-mismatches</code>=1, контрольная сумма терпит первое
несоответствие и заканчивается на втором несоответствии, страницы 700-999
не будут изменены.</li>

<li><a name="option_innochecksum_write"></a>
<a href="#option_innochecksum_write"><code>
--write=<em><code>name</code></em></code></a>,
<code>-w <em><code>num</code></em></code></p>

<p>Перепишите контрольную сумму. Переписывая недопустимую контрольную сумму,
<a href="#option_innochecksum_no-check"><code>--no-check</code>
</a> должна использоваться вместе с <code>--write</code>. Опция
<a href="#option_innochecksum_no-check"><code>--no-check</code>
</a> говорит <a href="#innochecksum"><span><strong>innochecksum
</strong></span></a> игнорировать проверку недопустимой контрольной суммы. Вы
не должны определить <a href="#option_innochecksum_no-check">
<code>--no-check</code></a>, если текущая контрольная сумма допустима.</p>

<p>Алгоритм должен быть определен, используя опцию
<a href="#option_innochecksum_write"><code>--write</code></a>.
Возможные значения для <code>--write</code>:</p>

<ul><li><p><code>innodb</code>: Контрольная сумма вычислена программно,
используя оригинальный алгоритм <code>InnoDB</code>.</li>
<li><code>crc32</code>: Контрольная сумма вычислена с использованием
алгоритма <code>crc32</code>, возможно, с аппаратной поддержкой.</li>
<li><code>none</code>: Постоянное число.</p></li></ul>

<p><code>--write</code> переписывает все страницы на диск. Если новая
контрольная сумма идентична существующей контрольной сумме, новая контрольная
сумма не написана на диск, чтобы минимизировать ввод/вывод.</p>

<p><a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> получает исключительную блокировку,
когда используется <code>--write</code>.</p>

<p>Контрольная сумма <code>crc32</code> написана для <code>tab1.ibd</code>:
<pre>
shell&gt; innochecksum -w crc32 ../data/test/tab1.ibd
</pre>

<p>Контрольная сумма <code>crc32</code> переписана, чтобы
заменить недопустимую <code>crc32</code>:
<pre>
shell&gt; innochecksum --no-check --write crc32 ../data/test/tab1.ibd
</pre></li>

<li><a name="option_innochecksum_page-type-summary"></a>
<a href="#option_innochecksum_page-type-summary">
<code>--page-type-summary</code></a>, <code>-S</code></p>

<p>Выведите на экран количество страниц каждого
типа в табличном пространстве:
<pre>
shell&gt; innochecksum --page-type-summary ../data/test/tab1.ibd
</pre>

Типовой вывод для <code>--page-type-summary</code>:
<pre>
File::../data/test/tab1.ibd
================PAGE TYPE SUMMARY==============
#PAGE_COUNT PAGE_TYPE
===============================================
 2 Index page
 0 Undo log page
 1 Inode page
 0 Insert buffer free list page
 2 Freshly allocated page
 1 Insert buffer bitmap
 0 System page
 0 Transaction system page
 1 File Space Header
 0 Extent descriptor page
 0 BLOB page
 0 Compressed BLOB page
 0 Other type of page
===============================================
Additional information:
Undo page type: 0 insert, 0 update, 0 other
Undo page state: 0 active, 0 cached, 0 to_free,
                 0 to_purge, 0 prepared, 0 other
</pre></li>

<li><a name="option_innochecksum_page-type-dump"></a>
<a href="#option_innochecksum_page-type-dump"><code>
--page-type-dump</code></a>, <code>-D</code></p>

<p>Выведите информацию о типе страницы для каждой страницы в табличном
пространстве в <code>stderr</code> или <code>stdout</code>:
<pre>
shell&gt; innochecksum --page-type-dump=/tmp/a.txt ../data/test/tab1.ibd
</pre></li>

<li><a name="option_innochecksum_log"></a>
<a href="#option_innochecksum_log"><code>--log</code></a>,
<code>-l</code></p>

<p>Журнал вывода для <a href="#innochecksum"><span><strong>
innochecksum</strong></span></a>. Имя файла системного журнала должно быть
обеспечено. Вывод журнала содержит значения контрольной суммы для каждой
страницы табличного пространства. Для несжатых таблиц также обеспечены
значения LSN. <a href="#option_innochecksum_log"><code>--log
</code></a> заменяет опцию <code>--debug</code>, которая была доступна в
более ранних выпусках:
<pre>
shell&gt; innochecksum --log=/tmp/log.txt ../data/test/tab1.ibd
</pre>

Или:
<pre>
shell&gt; innochecksum -l /tmp/log.txt ../data/test/tab1.ibd
</pre></li>

<li><a name="option_innochecksum_read-from-standard-in"></a><code>-</code>.
<p>Определите <code>-</code>, чтобы читать из стандартного ввода. Если
<code>-</code> отсутствует, когда будет ожидаться <span><span>чтение из
стандартного ввода</span></span>, <a href="#innochecksum"><span>
<strong>innochecksum</strong></span></a> выведет информацию об использовании
<a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a>, указывающую, что пропущена опция <span><span>-</span></span>:
<pre>
shell&gt; cat t1.ibd | innochecksum -
</pre>

В этом примере <a href="#innochecksum"><span><strong>innochecksum
</strong></span></a> пишет контрольную сумму <code>crc32</code>
в <code>a.ibd</code>, не изменяя оригинальный файл <code>t1.ibd</code>.
<pre>
shell&gt; cat t1.ibd | innochecksum --write=crc32 - &gt; a.ibd
</pre></li></ul>

<h4><a name="idm139965409720032"></a>Выполнение innochecksum на многих
определяемых пользователем файлах табличного пространства</h4>
<p>Следующие примеры демонстрируют, как выполнить
<a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> на многих определяемых пользователем файлах табличного
пространства (файлах <code>.ibd</code>).</p>

<p>Запустите <a href="#innochecksum"><span><strong>innochecksum
</strong></span></a> для всего табличного пространства (файлы
<code>.ibd</code>) в базе данных <span><span>test</span></span>:
<pre>
shell&gt; innochecksum ./data/test/*.ibd
</pre>

Запустите <a href="#innochecksum"><span><strong>innochecksum
</strong></span></a> для всех файлов табличного пространства
(файлы <code>.ibd</code>), у которых есть имя файла, начинающееся с
<span><span>t</span></span>:
<pre>
shell&gt; innochecksum ./data/test/t*.ibd
</pre>

Запустите <a href="#innochecksum"><span><strong>innochecksum
</strong></span></a> для всех файлов табличного пространства
(файлы <code>.ibd</code>) в каталоге <code>data</code>:
<pre>
shell&gt; innochecksum ./data/*/*.ibd
</pre>

<p>Запуск <a href="#innochecksum"><span><strong>innochecksum
</strong></span></a> на многих определяемых пользователем файлах табличного
пространства не поддержано на операционных системах Windows, поскольку в
Windows оболочка <span><strong>cmd.exe</strong></span> не понимает
глобальное расширение образца. На системах Windows
<a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> должен быть выполнен отдельно для каждого определяемого
пользователем файла табличного пространства. Например:
<pre>
cmd&gt; innochecksum.exe t1.ibd
cmd&gt; innochecksum.exe t2.ibd
cmd&gt; innochecksum.exe t3.ibd
</pre>

<h4><a name="idm139965409700576"></a>Выполнение innochecksum на многих
системных файлах табличного пространства</h4>
<p>По умолчанию в <code>InnoDB</code> есть только один
системный файл табличного пространства (<code>ibdata1</code>),
но многие файлы для системного табличного пространства могут быть определены,
используя опцию <a href="innodb.htm#sysvar_innodb_data_file_path"><code>
innodb_data_file_path</code></a>. В следующем примере три файла для
системного табличного пространства определены, используя
<a href="innodb.htm#sysvar_innodb_data_file_path"><code>
innodb_data_file_path</code></a>: <code>ibdata1</code>, <code>ibdata2</code>
и <code>ibdata3</code>.
<pre>
shell&gt; ./bin/mysqld --no-defaults
          --innodb-data-file-path="ibdata1:10M;ibdata2:10M;ibdata3:10M:autoextend"
</pre>

Три файла (<code>ibdata1</code>, <code>ibdata2</code> и <code>ibdata3</code>)
формируют одно логическое системное табличное пространство. Чтобы выполнить
<a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> на многих файлах, которые формируют одно логическое системное
табличное пространство, <a href="#innochecksum"><span><strong>
innochecksum</strong></span></a> требует опцию <code>-</code>, чтобы считать
файлы табличного пространства из стандартного ввода, который эквивалентен
связыванию многократных файлов, чтобы создать один единый файл. Для примера,
обеспеченного выше, использовалась бы следующая команда:
<pre>
  shell&gt; cat ibdata* | innochecksum -
</pre>

<p>Запуск <a href="#innochecksum"><span><strong>innochecksum
</strong></span></a> на многократных файлах в том же самом табличном
пространстве не поддержано на операционных системах Windows, так как в
Windows оболочка <span><strong>cmd.exe</strong></span> не понимает
глобальное расширение образца. На системах Windows
<a href="#innochecksum"><span><strong>innochecksum</strong>
</span></a> должен быть выполнен отдельно для каждого системного файла
табличного пространства. Например:
<pre>
cmd&gt; innochecksum.exe ibdata1
cmd&gt; innochecksum.exe ibdata2
cmd&gt; innochecksum.exe ibdata3
</pre>

<h3><a name="myisam-ftdump"></a>5.6.3.
<span><strong>myisam_ftdump</strong></span> отображение
информации полнотекстового индекса</h3>
<p><a href="#myisam-ftdump"><span><strong>myisam_ftdump</strong>
</span></a> выводит на экран информацию об индексах
<code>FULLTEXT</code> таблиц <code>MyISAM</code>. Это читает индексный файл
<code>MyISAM</code> непосредственно, таким образом, это должно быть выполнено
на хосте сервера, где таблица расположена. Перед использованием
<a href="#myisam-ftdump"><span><strong>myisam_ftdump</strong>
</span></a> сначала выполните <code>FLUSH TABLES</code>,
если сервер работает.</p>

<p><a href="#myisam-ftdump"><span><strong>myisam_ftdump</strong>
</span></a> просматривает и выводит все индексные записи, что не особенно
быстро. С другой стороны, распределение слов нечасто изменяется, таким
образом, оно не должно часто выполняться.</p>

<p>Вызов <a href="#myisam-ftdump"><span><strong>myisam_ftdump
</strong></span></a>:
<pre>
shell&gt; myisam_ftdump [<em><code>options</code></em>] <em><code>tbl_name</code></em>
                        <em><code>index_num</code></em>
</pre>

<em><code>tbl_name</code></em> должен быть названием таблицы
<code>MyISAM</code>. Вы можете также определить таблицу, называя ее индексный
файл (файл с расширением <code>.MYI</code>). Если Вы не вызываете
<a href="#myisam-ftdump"><span><strong>myisam_ftdump</strong>
</span></a> в каталоге, где табличные файлы расположены, имени таблицы или
индексного файла должен предшествовать путь к каталогу базы данных таблицы.
Индексы начинаются с 0.</p>

<p>Пример: Предположите, что база данных <code>test</code> содержит таблицу
<code>mytexttable</code>, у которой есть следующее определение:
<pre>
CREATE TABLE mytexttable (id INT NOT NULL, txt TEXT NOT NULL,
                          PRIMARY KEY (id), FULLTEXT (txt)) ENGINE=MyISAM;
</pre>

Индекс на <code>id</code> это индекс 0, а индекс
<code>FULLTEXT</code> на <code>txt</code> это индекс 1.
Если Ваш рабочий каталог это каталог базы данных <code>test</code>, вызов
<a href="#myisam-ftdump"><span><strong>myisam_ftdump</strong>
</span></a>:
<pre>
shell&gt; myisam_ftdump mytexttable 1
</pre>

Если путь к каталогу базы данных <code>test</code> это
<code>/usr/local/mysql/data/test</code>, Вы можете также определить параметр
имени таблицы, используя этот путь. Это полезно, если Вы не вызываете
<a href="#myisam-ftdump"><span><strong>myisam_ftdump</strong>
</span></a> в каталоге базы данных:
<pre>
shell&gt; myisam_ftdump /usr/local/mysql/data/test/mytexttable 1
</pre>

Вы можете использовать <a href="#myisam-ftdump"><span><strong>
myisam_ftdump</strong></span></a>, чтобы произвести список индекных записей
в порядке частоты возникновения:
<pre>
shell&gt; myisam_ftdump -c mytexttable 1 | sort -r
</pre>

<a href="#myisam-ftdump"><span><strong>myisam_ftdump</strong>
</span></a> понимает следующие опции:</p>
<ul><li><p><a name="option_myisam_ftdump_help"></a>
<a href="#option_myisam_ftdump_help"><code>--help</code></a>,
<code>-h</code> <code>-?</code></p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_myisam_ftdump_count"></a>
<a href="#option_myisam_ftdump_count"><code>--count</code></a>,
<code>-c</code></p>
<p>Вычислите статистику на слово (количество и глобальные веса).</li>

<li><a name="option_myisam_ftdump_dump"></a>
<a href="#option_myisam_ftdump_dump"><code>--dump</code></a>,
<code>-d</code></p>
<p>Выведите индексирование, включая смещения данных и веса слова.</li>

<li><a name="option_myisam_ftdump_length"></a>
<a href="#option_myisam_ftdump_length"><code>--length</code></a>,
<code>-l</code></p>
<p>Сообщите о распределении длины.</li>

<li><a name="option_myisam_ftdump_stats"></a>
<a href="#option_myisam_ftdump_stats"><code>--stats</code></a>,
<code>-s</code></p>
<p>Глобальный отчет индексной статистики. Это работа по умолчанию, если
никакая другая работа не определена.</li>

<li><a name="option_myisam_ftdump_verbose"></a>
<a href="#option_myisam_ftdump_verbose"><code>--verbose</code>
</a>, <code>-v</code></p>
<p>Многословный режим. Напечатать подробный вывод о том,
что делает программа.</p></li></ul>

<h3><a name="myisamchk"></a>5.6.4. <span><strong>myisamchk</strong></span>
утилита табличного обслуживания MyISAM</h3>
<p><a href="#myisamchk"><span><strong>myisamchk</strong></span>
</a> получает информацию о Ваших таблицах, базах данных, проверяет,
ремонтирует или оптимизирует их. <a href="#myisamchk"><span>
<strong>myisamchk</strong></span></a> работает с таблицами
<code>MyISAM</code>, которые имеют файлы
<code>.MYD</code> и <code>.MYI</code>, чтобы хранить данные и индексы.</p>

<p>Вы можете также использовать <a href="sql.htm#check-table"><code>CHECK
TABLE</code></a> и <a href="sql.htm#repair-table"><code>REPAIR TABLE</code>
</a> для проверки и ремонта таблиц <code>MyISAM</code>, см. разделы
<a href="sql.htm#check-table">14.7.2.2</a> и
<a href="sql.htm#repair-table">14.7.2.5</a>.</p>

<p>Использование <a href="#myisamchk"><span><strong>myisamchk
</strong></span></a> с разделенными таблицами не поддержано.</p>
<p>Лучше делать резервное копирование таблицы прежде, чем выполнить работу
ремонта, при некоторых обстоятельствах работа могла бы вызвать потерю данных.
Возможные причины включают, но не ограничены ошибками файловой системы.</p>

<p>Вызов <a href="#myisamchk"><span><strong>myisamchk</strong>
</span></a>:
<pre>
shell&gt; myisamchk [<em><code>options</code></em>] <em><code>tbl_name</code></em> ...
</pre>

<em><code>options</code></em> определяют то, что Вы хотите от
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>.
Они описаны в следующих разделах. Вы можете также получить список опций,
вызывая <a href="#myisamchk"><span><strong>myisamchk --help
</strong></span></a>.</p>

<p>Без опций <a href="#myisamchk"><span><strong>myisamchk
</strong></span></a> просто проверяет Вашу таблицу как работа
по умолчанию. Чтобы получить больше информации или сказать
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
принимать меры по ликвидации последствий, определите опции как
описано в следующем обсуждении.</p>

<p><em><code>tbl_name</code></em> это таблица базы данных, которую Вы хотите
проверить или восстановить. Если Вы выполняете
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
где-то кроме каталога базы данных, Вы должны определить путь к каталогу базы
данных, потому что <a href="#myisamchk"><span><strong>myisamchk
</strong></span></a> понятия не имеет, где база данных расположена.
Фактически <a href="#myisamchk"><span><strong>myisamchk</strong>
</span></a> не заботится, расположены ли файлы, с которыми Вы продолжаете
работать, в каталоге базы данных. Вы можете скопировать файлы, которые
соответствуют таблице базы данных, в некоторое другое место и выполнять
операции восстановления на них там.</p>

<p>Вы можете назвать несколько таблиц в командной строке
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>.
Вы можете также определить таблицу, называя ее индексный файл (файл с
расширением <code>.MYI</code>). Это позволяет Вам определить все таблицы в
каталоге при использовании образца <code>*.MYI</code>.
Например, если Вы находитесь в каталоге базы данных, Вы можете проверить
все таблицы <code>MyISAM</code> в этом каталоге:
<pre>
shell&gt; myisamchk *.MYI
</pre>

Если Вы не находитесь в каталоге базы данных, Вы можете проверить все таблицы
там, определяя путь к каталогу:
<pre>
shell&gt; myisamchk <em><code>/path/to/database_dir/</code></em>*.MYI
</pre>

Вы можете даже проверить все таблицы во всех базах данных, определяя
подстановочный знак с путем к каталогу данных MySQL:
<pre>
shell&gt; myisamchk <em><code>/path/to/datadir/*/*</code></em>.MYI
</pre>

Рекомендуемый способ быстро проверить все таблицы <code>MyISAM</code>:
<pre>
shell&gt; myisamchk --silent --fast <em><code>/path/to/datadir/*/*</code></em>.MYI
</pre>

Если Вы хотите проверить все таблицы  <code>MyISAM</code> и отремонтировать
те, которые повреждены, Вы можете использовать следующую команду:
<pre>
shell&gt; myisamchk --silent --force --fast --update-state \
                    --key_buffer_size=64M --myisam_sort_buffer_size=64M \
                    --read_buffer_size=1M --write_buffer_size=1M \
                    <em><code>/path/to/datadir/*/*</code></em>.MYI
</pre>

Эта команда предполагает, что у Вас свободно больше 64 МБ.
Для получения дополнительной информации о распределении памяти с
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
см. <a href="#myisamchk-memory">раздел 5.6.4.6</a>.</p>

<p>Для дополнительной информации об использовании
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
см. <a href="backup.htm#myisam-table-maintenance">раздел 8.6</a>.</p>

<p><span><em>Вы должны гарантировать, что никакая другая программа не
использует таблицы, в то время как Вы выполняете
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
</em></span>. Самое эффективное средство состоит в том, чтобы закрыть сервер
MySQL командой <a href="#myisamchk"><span><strong>myisamchk
</strong></span></a> или заблокировать все таблицы, на которых используется
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>.
</p>

<p>Иначе, когда Вы выполняете <a href="#myisamchk"><span><strong>
myisamchk</strong></span></a>, это может вывести на экран следующее
сообщение об ошибке:
<pre>
warning: clients are using or haven't closed the table properly
</pre>

Это означает, что Вы пытаетесь проверить таблицу, которая была обновлена
другой программой (такой как <a href="#mysqld"><span><strong>
mysqld</strong></span></a>), которая еще не закрыла файл, или это
отвалилось, не закрывая файл должным образом, что может иногда приводить к
повреждению одной или больше таблиц <code>MyISAM</code>.</p>

<p>Если <a href="#mysqld"><span><strong>mysqld</strong></span>
</a> работает, Вы должны вынудить его сбросить любые табличные модификации,
которые все еще буферизованы в памяти при использовании
<a href="sql.htm#flush"><code>FLUSH TABLES</code></a>.
Вы должны гарантировать, что никто не использует таблицы в то время, как Вы
выполняете <a href="#myisamchk"><span><strong>myisamchk</strong>
</span></a>.</p>

<p>Однако, самый легкий способ избежать этой проблемы состоит в том, чтобы
использовать <a href="sql.htm#check-table"><code>CHECK TABLE</code></a>
вместо <a href="#myisamchk"><span><strong>myisamchk</strong>
</span></a>, чтобы проверить таблицы. См.
<a href="sql.htm#check-table">раздел 14.7.2.2</a>.</p>

<p><a href="#myisamchk"><span><strong>myisamchk</strong></span>
</a> поддерживает следующие опции, которые могут быть определены в командной
строке или в группе <code>[myisamchk]</code> файла опции. Для информации о
файлах опции, используемых программами MySQL, см.
<a href="#option-files">раздел 5.2.6</a>.</p>


<p><b>Таблица 5.16. Опции <code>myisamchk</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row"><a href="#option_myisamchk_analyze">
--analyze</a></td><td>Проанализируйте распределение значений ключа</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_backup">--backup
</a></td><td>Сделайте резервное копирование файла .MYD как
file_name-time.BAK</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_block-search">
--block-search</a></td><td>Найдите запись, которой принадлежит блок
при данном смещении</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_check">--check</a>
</td><td>Проверьте таблицу на ошибки</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_check-only-changed">
--check-only-changed</a></td><td>Проверка только таблиц, которые изменились,
начиная с последней проверки</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_correct-checksum">
--correct-checksum</a></td><td>Исправьте информацию о контрольной
сумме для таблицы</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_data-file-length">
--data-file-length</a></td><td>Максимальная длина файла с данными (для
пересоздания файла с данными, когда это полно)</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_debug">--debug</a>
</td><td>Вести журнал отладки</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать этот файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опций</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_description">
--description</a></td><td>Напечатайте описательную информацию о таблице
</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_extend-check">
--extend-check</a></td><td>Сделайте очень полную табличную проверку или
ремонт, который пытается возвратить каждую возможную строку файла с данными
</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_fast">--fast</a>
</td><td>Проверка только таблиц, которые не были закрыты должным образом
</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_force">--force</a>
</td><td>Сделайте ремонт автоматически, если myisamchk находит
какие-либо ошибки в таблице</td></tr>
<tr><td scope="row">--force</td><td>Перезапишите старые временные файлы.
Для использования с опцией -r или -o</td></tr>
<tr><td scope="row">--ft_max_word_len</td><td>
Максимальная длина слова для индексов FULLTEXT</td></tr>
<tr><td scope="row">--ft_min_word_len</td><td>
Минимальная длина слова для индексов FULLTEXT</td></tr>
<tr><td scope="row">--ft_stopword_file</td><td>
Используйте стоп-слова из этого файла вместо встроенного списка</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_HELP">
--HELP</a></td><td>Показать сообщение справки</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_help">
--help</a></td><td>Показать сообщение справки</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_information">
--information</a></td><td>Напечатайте статистику о таблице, которая проверена
</td></tr>
<tr><td scope="row">--key_buffer_size</td><td>Размер буфера, используемого
для индексных блоков для таблиц MyISAM</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_keys-used">
--keys-used</a></td><td>Битовое значение, которое указывает,
который индекс обновить</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_max-record-length">
--max-record-length</a></td><td>Пропустите строки, более крупные, чем данная
длина, если myisamchk не может выделить память, чтобы их обработать</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_medium-check">
--medium-check</a></td><td>Сделайте проверку, которая быстрее,
чем --extend-check</td></tr>
<tr><td scope="row">--myisam_block_size</td><td>Размер блока, который будет
использоваться для индексных страниц MyISAM</td></tr>
<tr><td scope="row">--myisam_sort_buffer_size</td><td>
Буфер, который выделен, сортируя индексы, при выполнении функции REPAIR
или при создании индексов с CREATE INDEX или ALTER TABLE</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_no-defaults">
--no-defaults</a></td><td>Не читать файлы опций</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_parallel-recover">
--parallel-recover</a></td><td>Использует тот же самый метод, как -r и -n,
но создает все ключи параллельно, используя различные потоки (бета)</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_print-defaults">
--print-defaults</a></td><td>Напечатайте опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_quick">--quick</a>
</td><td>Для более быстрого ремонта, не изменяя файл с данными</td></tr>
<tr><td scope="row">--read_buffer_size</td><td>Каждый поток, который делает
последовательный просмотр, выделяет буфер этого размера для каждой
таблицы, которую просматривает</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_read-only">
--read-only</a></td><td>Не отмечайте таблицу как "проверено"</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_recover">
--recover</a></td><td>Сделайте ремонт, который может решить почти любую
проблему, кроме уникальных ключей, которые не уникальны</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_safe-recover">
--safe-recover</a></td><td>Сделайте ремонт, используя старый метод
восстановления, который считывает все строки в порядке и обновляет все
индексные деревья, основанные на найденных строках</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_set-auto-increment">
--set-auto-increment</a></td><td>Установить нумерацию AUTO_INCREMENT
для новых записей с этого значения</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_set-collation">
--set-collation</a></td><td>Определите сопоставление, чтобы использовать для
того, чтобы сортировать индексы таблицы</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_silent">--silent
</a></td><td>Тихий режим</td></tr>
<tr><td scope="row">--sort_buffer_size</td><td>Буфер, который выделен,
сортируя индекс при выполнении REPAIR или когда индексы создаются с CREATE
INDEX или ALTER TABLE</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_sort-index">
--sort-index</a></td><td>Сортируйте индексные блоки дерева в порядке high-low
</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_sort-records">
--sort-records</a></td><td>Сортировать записи согласно индексу</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_sort-recover">
--sort-recover</a></td><td>Использовать сортировку, чтобы решить ключи, даже
если временные файлы были бы очень большими</td></tr>
<tr><td scope="row">--stats_method</td><td>Определяет, как код набора
индексной статистики MyISAM должен обработать NULL</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_tmpdir">
--tmpdir</a></td><td>Путь к каталогу, который будет использоваться для того,
чтобы хранить временные файлы</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_unpack">
--unpack</a></td><td>Распакуйте таблицу, которая была упакована myisampack
</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_update-state">
--update-state</a></td><td>Храните информацию в .MYI, чтобы указать, когда
таблица была проверена и повреждена ли таблица</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_verbose">
--verbose</a></td><td>Подробный режим</td></tr>
<tr><td scope="row"><a href="#option_myisamchk_version">
--version</a></td><td>Показать информацию о версии</td></tr>
<tr><td scope="row">--write_buffer_size</td><td>Размер буфера записи
</td></tr></tbody></table>

<h4><a name="myisamchk-general-options"></a>5.6.4.1. Основные опции myisamchk
</h4>
<p>Опции, описанные в этом разделе, могут использоваться для любого типа
табличной работы, выполненной <a href="#myisamchk"><span><strong>
myisamchk</strong></span></a>. Разделы после этого описывают опции, которые
принадлежат только определенным операциям, таким как табличная
проверка или восстановление.</p>

<ul><li><p><a name="option_myisamchk_help"></a>
<a href="#option_myisamchk_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить справочное сообщение. Опции сгруппированы типом работы.</li>

<li><a name="option_myisamchk_HELP"></a>
<a href="#option_myisamchk_HELP"><code>--HELP</code></a>,
<code>-H</code></p>
<p>Отобразить справочное сообщение. Опции представлены в единственном списке.
</li>

<li><a name="option_myisamchk_debug"></a>
<a href="#option_myisamchk_debug"><code>--debug=<em><code>
debug_options</code></em></code></a>,
<code>-# <em><code>debug_options</code></em></code></p>
<p>Писать журнал отладки. Типичная строка
<em><code>debug_options</code></em> это
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:o,/tmp/myisamchk.trace</code>.</li>

<li><a name="option_myisamchk_defaults-extra-file"></a>
<a href="#option_myisamchk_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Читать этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога,
если дано как относительный путь, а не полный.</li>

<li><a name="option_myisamchk_defaults-file"></a>
<a href="#option_myisamchk_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога,
если дано как относительный путь, а не полный.</li>

<li><a name="option_myisamchk_defaults-group-suffix"></a>
<a href="#option_myisamchk_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Читать не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
обычно читает группу <code>[myisamchk]</code>. Если есть опция
<a href="#option_myisamchk_defaults-group-suffix"><code>
--defaults-group-suffix=_other</code></a>, <a href="#myisamchk">
<span><strong>myisamchk</strong></span></a> также читает группу
<code>[myisamchk_other]</code>.</li>

<li><a name="option_myisamchk_no-defaults"></a>
<a href="#option_myisamchk_no-defaults"><code>
--no-defaults</code></a></p>

<p>Не читайте файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций от файла опции,
<a href="#option_myisamchk_no-defaults"><code>--no-defaults
</code></a> может использоваться, чтобы препятствовать тому, чтобы
они были считаны.</p>

<p>Исключение то, что файл <code>.mylogin.cnf</code>, если он существует,
считан во всех случаях. Это разрешает паролям быть определенными более
безопасным способом чем в командной строке, даже когда задана опция
<a href="#option_myisamchk_no-defaults"><code>--no-defaults
</code></a>. <code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см. <a href="#mysql-config-editor">раздел
5.6.7</a>.</li>

<li><a name="option_myisamchk_print-defaults"></a>
<a href="#option_myisamchk_print-defaults"><code>
--print-defaults</code></a></p>
<p>Напечатайте название программы и все опции, которые это получает
от файлов опции.</li>

<li><a name="option_myisamchk_silent"></a>
<a href="#option_myisamchk_silent"><code>--silent</code></a>,
<code>-s</code></p>

<p>Тихий режим. Напишите вывод только, когда ошибки происходят.
Вы можете использовать <code>-s</code> дважжды (<code>-ss</code>) для
очень тихого режима.</li>

<li><a name="option_myisamchk_verbose"></a>
<a href="#option_myisamchk_verbose"><code>--verbose</code></a>,
<code>-v</code></p>

<p>Подробный режим. Напечатайте больше информации о том, что делает
программа. Это может использоваться с <code>-d</code> и <code>-e</code>.
Допустимо использовать <code>-v</code> многократно
(<code>-vv</code>, <code>-vvv</code>) для более подробного вывода.</li>

<li><a name="option_myisamchk_version"></a>
<a href="#option_myisamchk_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Отобразить информацию о версии.</li>

<li><a name="option_myisamchk_wait"></a>
<a href="#option_myisamchk_wait"><code>--wait</code></a>,
<code>-w</code></p>

<p>Вместо того, чтобы закончить с ошибкой, если таблица заблокирована, ждите,
пока таблицу не освободят. Если Вы выполняете
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
с отключенной внешней блокировкой, таблица может быть заблокирована только
другой копией <a href="#myisamchk"><span><strong>myisamchk
</strong></span></a>.</p></li></ul>

<p>Вы можете также установить следующие переменные при использовании
<code>--<em><code>var_name</code></em>=<em><code>value</code></em></code>:
</p>

<table border="1">
<thead><tr><th scope="col">Переменная</th><th scope="col">
Значение по умолчанию</th></tr></thead>
<tbody><tr><td scope="row"><code>decode_bits</code></td><td>9</td></tr>
<tr><td scope="row"><code>ft_max_word_len</code></td><td>version-dependent
</td></tr>
<tr><td scope="row"><code>ft_min_word_len</code></td><td>4</td></tr>
<tr><td scope="row"><code>ft_stopword_file</code></td><td>Встроенный список
</td></tr>
<tr><td scope="row"><code>key_buffer_size</code></td><td>523264</td></tr>
<tr><td scope="row"><code>myisam_block_size</code></td><td>1024</td></tr>
<tr><td scope="row"><code>myisam_sort_key_blocks</code></td><td>16</td></tr>
<tr><td scope="row"><code>read_buffer_size</code></td><td>262136</td></tr>
<tr><td scope="row"><code>sort_buffer_size</code></td><td>2097144</td></tr>
<tr><td scope="row"><code>sort_key_blocks</code></td><td>16</td></tr>
<tr><td scope="row"><code>stats_method</code></td><td>nulls_unequal</td></tr>
<tr><td scope="row"><code>write_buffer_size</code></td><td>262136</td>
</tr></tbody></table>

<p>Возможные переменные и их значения по умолчанию могут быть изучены с
<a href="#myisamchk"><span><strong>myisamchk --help</strong>
</span></a>:</p>

<p><code>myisam_sort_buffer_size</code> используется, когда ключи
отремонтированы, сортируя ключи, что является нормальным случаем, когда Вы
используете <a href="#option_myisamchk_recover"><code>--recover
</code></a>. <code>sort_buffer_size</code> устаревший синоним для
<code>myisam_sort_buffer_size</code>.</p>

<p><code>key_buffer_size</code> используется, когда Вы проверяете таблицу с
<a href="#option_myisamchk_extend-check"><code>--extend-check
</code></a> или когда ключи отремонтированы, вставляя ключевые строки
поштучно в таблицу (как делают нормальные вставки). Восстановление через
ключевой буфер используется в следующих случаях:</p>

<ul><li><p>Применена <a href="#option_myisamchk_safe-recover">
<code>--safe-recover</code></a>.</li>

<li>Временные файлы, которые должны были сортировать ключи, будут более, чем
в два раза больше, чем создать ключевой файл непосредственно. Это часто имеет
место, когда у Вас есть большие значения ключа для столбцов
<a href="types.htm#char"><code>CHAR</code></a>,
<a href="types.htm#char"><code>VARCHAR</code></a> или
<a href="types.htm#blob"><code>TEXT</code></a>, потому что работа
сортировки должна сохранить полные значения ключа.
Если у Вас есть много временного пространства, и Вы можете вынудить
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
восстановить, сортируя, Вы можете использовать
<a href="#option_myisamchk_sort-recover"><code>--sort-recover
</code></a>.</p></li></ul>

<p>Восстановление через ключевой буфер берет намного меньше дискового
пространства, чем использование сортировки, но также намного медленнее.</p>
<p>Если Вы хотите более быстрый ремонт, установите переменные
<code>key_buffer_size</code> и <code>myisam_sort_buffer_size</code>
приблизительно к 25% от Вашей доступной памяти. Вы можете установить обе
переменные в большие значения, потому что только одна из них
используется за раз.</p>

<p><code>myisam_block_size</code> размер, используемый для индексных блоков.
</p>
<p><code>stats_method</code> влияет на то, как значения <code>NULL</code>
обработаны для набора индексной статистики, когда задана опция
<a href="#option_myisamchk_analyze"><code>--analyze</code></a>.
Это действует как системная переменная <code>myisam_stats_method</code>.
См. разделы <a href="server.htm#server-system-variables">6.1.5</a> и
<a href="optimiz.htm#index-statistics">9.3.7</a>.</p>

<p><code>ft_min_word_len</code> и <code>ft_max_word_len</code>
указывают на минимальную и максимальную длину слова для индексов
<code>FULLTEXT</code> в таблицах <code>MyISAM</code>.
<code>ft_stopword_file</code> имя файла стоп-слов.
Они должны быть установлены при следующих обстоятельствах.</p>

<p>Если Вы используете <a href="#myisamchk"><span><strong>
myisamchk</strong></span></a>, чтобы выполнить работу, которая изменяет
индексы таблицы (например, ремонт или анализ), индексы <code>FULLTEXT</code>
пересозданы, используя значения по умолчанию параметров для минимальной и
максимальной длины слова и файла стоп-слов, если Вы не определяете иначе.
Это может привести к провалу попытки запросов.</p>

<p>Проблема происходит, потому что эти параметры известны только серверу.
Они не сохранены в индексных файлах <code>MyISAM</code>.
Чтобы избежать проблемы, если Вы изменили минимальную или максимальную длину
слова или файл стоп-слов в сервере, определите те же самые
<code>ft_min_word_len</code>, <code>ft_max_word_len</code> и
<code>ft_stopword_file</code> в
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>,
которые Вы используете для
<a href="#mysqld"><span><strong>mysqld</strong></span></a>.
Например, если Вы установили минимальную длину слова в 3, Вы можете
восстановить таблицу с <a href="#myisamchk"><span><strong>
myisamchk</strong></span></a>:
<pre>
shell&gt; myisamchk --recover --ft_min_word_len=3 <em><code>tbl_name</code></em>.MYI
</pre>

Чтобы гарантировать, что <a href="#myisamchk"><span><strong>
myisamchk</strong></span></a> и сервер используют те же самые значения для
полнотекстовых параметров, Вы можете разместить каждый в обоих разделах
<code>[mysqld]</code> и <code>[myisamchk]</code> файла опции:
<pre>
[mysqld]
ft_min_word_len=3

[myisamchk]
ft_min_word_len=3
</pre>

Альтернатива использованию <a href="#myisamchk"><span><strong>
myisamchk</strong></span></a> это применение
<a href="sql.htm#repair-table"><code>REPAIR TABLE</code></a>,
<a href="sql.htm#analyze-table"><code>ANALYZE TABLE</code></a>,
<a href="sql.htm#optimize-table"><code>OPTIMIZE TABLE</code></a> или
<a href="sql.htm#alter-table"><code>ALTER TABLE</code></a>.
Эти запросы выполнены сервером, который знает надлежащие значения параметра.
</p>

<h4><a name="myisamchk-check-options"></a>5.6.4.2. Опции проверки myisamchk
</h4>
<p><a href="#myisamchk"><span><strong>myisamchk</strong></span>
</a> поддерживает следующие опции для табличных операций проверки:</p>

<ul><li><p><a name="option_myisamchk_check"></a>
<a href="#option_myisamchk_check"><code>--check</code></a>,
<code>-c</code></p>
<p>Проверьте таблицу на ошибки. Это работа по умолчанию, если Вы не
определяете опции, которая выбирает тип работы явно.</li>

<li><a name="option_myisamchk_check-only-changed"></a>
<a href="#option_myisamchk_check-only-changed"><code>
--check-only-changed</code></a>, <code>-C</code></p>
<p>Проверка только таблиц, которые изменились, начиная с последней проверки.
</li>

<li><a name="option_myisamchk_extend-check"></a>
<a href="#option_myisamchk_extend-check"><code>
--extend-check</code></a>, <code>-e</code></p>

<p>Проверьте таблицу очень тщательно. Это является довольно медленным, если
таблица имеет много индексов. Эта опция должна только использоваться в
крайних случаях. Обычно <a href="#myisamchk"><span><strong>
myisamchk</strong></span></a> или <a href="#myisamchk"><span>
<strong>myisamchk --medium-check</strong></span></a> должны быть в состоянии
определить, есть ли какие-либо ошибки в таблице.</p>

<p>Если Вы используете
<a href="#option_myisamchk_extend-check"><code>--extend-check
</code></a> и имеете много памяти, установка переменной
<code>key_buffer_size</code> к большому значению помогает работе ремонта,
выполненной в итоге быстрее.</p>
<p>См. также описание этой опции под опциями ремонта таблицы.</p>
<p>См. <a href="#myisamchk-table-info">раздел 5.6.4.5</a>.</li>

<li><a name="option_myisamchk_fast"></a>
<a href="#option_myisamchk_fast"><code>--fast</code></a>,
<code>-F</code></p>
<p>Проверка только таблиц, которые не были закрыты должным образом.</li>

<li><a name="option_myisamchk_force"></a>
<a href="#option_myisamchk_force"><code>--force</code></a>,
<code>-f</code></p>

<p>Сделайте работу ремонта автоматически, если
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
находит какие-либо ошибки в таблице. Тип ремонта тот же самый, как определен
в опциях <a href="#option_myisamchk_recover"><code>--recover
</code></a> или <code>-r</code>.</li>

<li><a name="option_myisamchk_information"></a>
<a href="#option_myisamchk_information"><code>--information
</code></a>, <code>-i</code></p>
<p>Напечатайте информационную статистику о таблице, которая проверена.</li>

<li><a name="option_myisamchk_medium-check"></a>
<a href="#option_myisamchk_medium-check"><code>--medium-check
</code></a>, <code>-m</code></p>

<p>Сделайте проверку, которая быстрее
<a href="#option_myisamchk_extend-check"><code>--extend-check
</code></a>. Это находит только 99.99% всех ошибок, что должно быть
достаточно хорошо в большинстве случаев.</li>

<li><a name="option_myisamchk_read-only"></a>
<a href="#option_myisamchk_read-only"><code>--read-only</code>
</a>, <code>-T</code></p>

<p>Не отмечайте таблицу как "проверено". Это полезно, если Вы используете
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>,
чтобы проверить таблицу, которая используется некоторым другим приложением,
которое не использует блокировку, например,
<a href="#mysqld"><span><strong>mysqld</strong></span></a>,
когда выполнено с отключенной внешней блокировкой.</li>

<li><a name="option_myisamchk_update-state"></a>
<a href="#option_myisamchk_update-state"><code>
--update-state</code></a>, <code>-U</code></p>

<p>Храните информацию в файле <code>.MYI</code>, чтобы указать, когда таблица
была проверена и отказала ли таблица. Это должно использоваться, чтобы
извлечь полную пользу из
<a href="#option_myisamchk_check-only-changed"><code>
--check-only-changed</code></a>, но Вы не должны использовать эту опцию, если
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
использует таблицу, и Вы выполняете это с отключенной внешней блокировкой.
</p></li></ul>

<h4><a name="myisamchk-repair-options"></a>5.6.4.3. Ремонтные опции myisamchk
</h4>
<p><a href="#myisamchk"><span><strong>myisamchk</strong></span>
</a> поддерживает следующие опции для операций ремонта таблицы (операции,
выполненные, когда заданы опции вроде
<a href="#option_myisamchk_recover"><code>--recover</code></a>
или <a href="#option_myisamchk_safe-recover"><code>--safe-recover
</code></a>):</p>

<ul><li><p><a name="option_myisamchk_backup"></a>
<a href="#option_myisamchk_backup"><code>--backup</code></a>,
<code>-B</code></p>
<p>Сделайте резервное копирование файоа <code>.MYD</code> как
<code><em><code>file_name</code></em>-<em><code>time</code></em>.BAK</code>.
</li>

<li><a name="option_myisamchk_character-sets-dir"></a>
<a href="#option_myisamchk_character-sets-dir"><code>
--character-sets-dir=<em><code>dir_name</code></em></code></a></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_myisamchk_correct-checksum"></a>
<a href="#option_myisamchk_correct-checksum"><code>
--correct-checksum</code></a></p>
<p>Исправьте информацию о контрольной сумме для таблицы.</li>

<li><a name="option_myisamchk_data-file-length"></a>
<a href="#option_myisamchk_data-file-length"><code>
--data-file-length=<em><code>len</code></em></code></a>,
<code>-D <em><code>len</code></em></code></p>
<p>Максимальная длина файла с данными (обновляя файл с данными,
когда он <span><span>full</span></span>).</li>

<li><a href="#option_myisamchk_extend-check"><code>
--extend-check</code></a>, <code>-e</code></p>
<p>Сделайте ремонт, который пытается возвратить каждую возможную строку
от файла с данными. Обычно это также находит много строк мусора.
Не используйте эту опцию, если Вы еще не отчаялись.</p>

<p>См. также описание этой опции под табличными опциями проверки.</p>
<p>Для описания выходного формата см.
<a href="#myisamchk-table-info">раздел 5.6.4.5</a>.</li>

<li><a href="#option_myisamchk_force"><code>--force</code></a>,
<code>-f</code></p>
<p>Перезапишите старые промежуточные файлы (файлы с именами вроде
<code><em><code>tbl_name</code></em>.TMD</code>) вместо прерывания.</li>

<li><a name="option_myisamchk_keys-used"></a>
<a href="#option_myisamchk_keys-used"><code>--keys-used=
<em><code>val</code></em></code></a>,
<code>-k <em><code>val</code></em></code></p>

<p>Для <a href="#myisamchk"><span><strong>myisamchk</strong>
</span></a> значение опции это битовое значение, которое указывает, который
индекс обновить. Каждый бит значения опции соответствует индексу таблицы,
где первый индекс это 0. Значение опции 0 отключает обновления всех индексов,
что может использоваться, чтобы получить более быстрые вставки.
Дезактивированные индексы могут быть реактивированы при использовании опции
<a href="#myisamchk"><span><strong>myisamchk -r</strong></span>
</a>.</li>

<li><a name="option_myisamchk_no-symlinks"></a>
<a href="#option_myisamchk_no-symlinks"><code>--no-symlinks
</code></a>, <code>-l</code></p>

<p>Не следовать за символическими ссылками. Обычно
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
восстанавливает таблицу, на которую указывает символьная ссылка. Эта опция не
существует с MySQL 4.0, потому что версии с 4.0
не удаляют символьные ссылки во время операций ремонта.</li>

<li><a name="option_myisamchk_max-record-length"></a>
<a href="#option_myisamchk_max-record-length"><code>
--max-record-length=<em><code>len</code></em></code></a></p>

<p>Пропустите строки, более крупные, чем данная длина, если
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
не может выделить память, чтобы хранить их.</li>

<li><a name="option_myisamchk_parallel-recover"></a>
<a href="#option_myisamchk_parallel-recover"><code>
--parallel-recover</code></a>, <code>-p</code></p>
<p>Используйте тот же самый метод как <code>-r</code> и <code>-n</code>,
но создайте все ключи параллельно, используя различные потоки.</li>

<li><a name="option_myisamchk_quick"></a>
<a href="#option_myisamchk_quick"><code>--quick</code></a>,
<code>-q</code></p>

<p>Достигните более быстрого ремонта, изменяя только индексный файл, но
не файл с данными. Вы можете определить эту опцию дважды, чтобы вынудить
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
изменить оригинальный файл с данными в случае дубликата ключа.</li>

<li><a name="option_myisamchk_recover"></a>
<a href="#option_myisamchk_recover"><code>--recover</code></a>,
<code>-r</code></p>

<p>Сделайте ремонт, который может решить почти любую проблему, кроме
уникальных ключей, которые стали не уникальными (что является крайне
маловероятной ошибкой с <code>MyISAM</code>). Если Вы хотите восстановить
таблицу, эту опцию стоит попробовать сначала. Вы должны попробовать
<a href="#option_myisamchk_safe-recover"><code>--safe-recover
</code></a> только если <a href="#myisamchk"><span><strong>
myisamchk</strong></span></a> сообщает, что таблица не может быть
восстановлена, используя <a href="#option_myisamchk_recover">
<code>--recover</code></a>. В маловероятном случае, что
<a href="#option_myisamchk_recover"><code>--recover</code></a>
терпит неудачу, файл с данными остается неповрежденным.</p>
<p>Если у Вас есть большая память, Вы должны увеличить значение
<code>myisam_sort_buffer_size</code>.</li>

<li><a name="option_myisamchk_safe-recover"></a>
<a href="#option_myisamchk_safe-recover"><code>
--safe-recover</code></a>, <code>-o</code></p>

<p>Сделайте ремонт, используя старый метод восстановления, который
читает все строки по порядку и обновляет все индексные деревья, основанные на
найденных строках. Это явно медленнее, чем
<a href="#option_myisamchk_recover"><code>--recover</code></a>,
но может обработать несколько очень маловероятных случаев, недоступных
<a href="#option_myisamchk_recover"><code>--recover</code></a>.
Этот метод восстановления также использует намного меньше дискового
пространства, чем <a href="#option_myisamchk_recover"><code>
--recover</code></a>. Обычно Вы должны восстановить сначала с использованием
<a href="#option_myisamchk_recover"><code>--recover</code></a>
и затем с <a href="#option_myisamchk_safe-recover"><code>
--safe-recover</code></a> только если
<a href="#option_myisamchk_recover"><code>--recover</code></a>
точно терпит неудачу.</p>
<p>Если у Вас есть большая память, Вы должны увеличить значение
<code>key_buffer_size</code>.</li>

<li><a name="option_myisamchk_set-collation"></a>
<a href="#option_myisamchk_set-collation"><code>
--set-collation=<em><code>name</code></em></code></a></p>

<p>Определите сопоставление, чтобы использовать для того, чтобы сортировать
индексы таблицы. Имя набора символов подразумевается первой
частью имени сопоставления.</li>

<li><a name="option_myisamchk_sort-recover"></a>
<a href="#option_myisamchk_sort-recover"><code>
--sort-recover</code></a>, <code>-n</code></p>

<p>Вынудите <a href="#myisamchk"><span><strong>myisamchk</strong>
</span></a> использовать сортировку, чтобы решить ключи, даже если временные
файлы были бы очень большими.</li>

<li><a name="option_myisamchk_tmpdir"></a>
<a href="#option_myisamchk_tmpdir"><code>--tmpdir=<em>
<code>dir_name</code></em></code></a>,
<code>-t <em><code>dir_name</code></em></code></p>

<p>Путь к каталогу, который будет использоваться для того, чтобы хранить
временные файлы. Если это не установлено, <a href="#myisamchk">
<span><strong>myisamchk</strong></span></a> использует значение
переменной окружения <code>TMPDIR</code>.
<a href="#option_myisamchk_tmpdir"><code>--tmpdir</code></a>
может быть установлен в список путей к каталогам, которые используются
последовательно круговым способом для того, чтобы создать временные файлы.
Символ разделителя между именами каталогов: двоеточие (<code>:</code>) в Unix
и точка с запятой (<code>;</code>) в Windows.</li>

<li><a name="option_myisamchk_unpack"></a>
<a href="#option_myisamchk_unpack"><code>--unpack</code></a>,
<code>-u</code></p>

<p>Распакуйте таблицу, которая была упакована
<a href="#myisampack"><span><strong>myisampack</strong></span>
</a>.</p></li></ul>

<h4><a name="myisamchk-other-options"></a>5.6.4.4. Другие опции myisamchk
</h4>
<p><a href="#myisamchk"><span><strong>myisamchk</strong></span>
</a> поддерживает следующие опции для действий кроме
табличных проверок и ремонта:</p>

<ul><li><p><a name="option_myisamchk_analyze"></a>
<a href="#option_myisamchk_analyze"><code>--analyze</code></a>,
<code>-a</code></p>

<p>Проанализируйте распределение значений ключа. Это улучшает работу
соединения, позволяя оптимизатору соединений лучше выбрать порядок, в котором
можно присоединиться к таблицам и который индекс использовать. Чтобы получить
информацию о ключевом распределении, используйте
<a href="#myisamchk"><span><strong>myisamchk --description
--verbose <em><code>tbl_name</code></em></strong></span></a>
или <code>SHOW INDEX FROM <em><code>tbl_name</code></em></code>.</li>

<li><a name="option_myisamchk_block-search"></a>
<a href="#option_myisamchk_block-search"><code>
--block-search=<em><code>offset</code></em></code></a>,
<code>-b <em><code>offset</code></em></code></p>
<p>Найдите запись, которой принадлежит блок при данном смещении.</li>

<li><a name="option_myisamchk_description"></a>
<a href="#option_myisamchk_description"><code>--description
</code></a>, <code>-d</code></p>

<p>Напечатайте некоторую описательную информацию о таблице. Определение
<a href="#option_myisamchk_verbose"><code>--verbose</code></a>
несколько раз производит дополнительную информацию. См.
<a href="#myisamchk-table-info">раздел 5.6.4.5</a>.</li>

<li><a name="option_myisamchk_set-auto-increment"></a>
<a href="#option_myisamchk_set-auto-increment"><code>
--set-auto-increment[=<em><code>value</code></em>]</code></a>,
<code>-A[<em><code>value</code></em>]</code></p>

<p>Установить нумерацию <code>AUTO_INCREMENT</code> для новых записей
в данное значение (или выше, если есть существующие записи с
<code>AUTO_INCREMENT</code> больше этого. Если <em><code>value</code></em> не
указано, <code>AUTO_INCREMENT</code> для новых записей в настоящее время
начинаются с самого большого значения в таблице плюс один.</li>

<li><a name="option_myisamchk_sort-index"></a>
<a href="#option_myisamchk_sort-index"><code>--sort-index</code>
</a>, <code>-S</code></p>

<p>Сортируйте индексные блоки дерева в порядке high-low.
Это оптимизирует поиск и делает сканирование таблицы, которое
использует индекс, быстрее.</li>

<li><a name="option_myisamchk_sort-records"></a>
<a href="#option_myisamchk_sort-records"><code>
--sort-records=<em><code>N</code></em></code></a>,
<code>-R <em><code>N</code></em></code></p>

<p>Сортировать записи согласно индексу.
Это делает Ваши данные намного больше ограниченными и может убыстрить
основанные на диапазоне <a href="sql.htm#select"><code>SELECT</code></a> и
<code>ORDER BY</code>, которые используют этот индекс. В первый раз, когда Вы
используете эту опцию, чтобы сортировать таблицу, это может быть очень
медленно. Чтобы определить индексы таблицы, надо использовать
<a href="sql.htm#show-index"><code>SHOW INDEX</code></a>,
который выводит на экран индексы таблицы в том же самом порядке, в каком
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
их потом увидит. Индексы пронумерованы, начиная с 1.</p>

<p>Если ключи не упакованы (<code>PACK_KEYS=0</code>),
у них есть та же самая длина, как когда
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
сортирует и перемещает записи, только перезаписываются рекордные смещения в
индексировании. Если ключи упакованы (<code>PACK_KEYS=1</code>),
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
должен распаковать ключевые блоки сначала, затем обновить индексы
и упаковать ключевые блоки снова. В этом случае восстановление индексов
быстрее, чем обновление смещений для каждого индекса.</p></li></ul>

<h4><a name="myisamchk-table-info"></a>5.6.4.5.
Получение информации о таблице с myisamchk</h4>
<p>Получить описание таблицы <code>MyISAM</code> или статистику по ней
можно, используя команды, показанные здесь. Вывод от этих команд объяснен
позже в этом разделе.</p>

<ul><li><p>
<a href="#myisamchk"><span><strong>myisamchk -d
<em><code>tbl_name</code></em></strong></span></a></p>

<p>Выполните <a href="#myisamchk"><span><strong>myisamchk
</strong></span></a> в <span><span>режиме описания</span></span>, чтобы
произвести описание Вашей таблицы. Если Вы запускаете сервер MySQL с
отключенной внешней блокировкой,
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
может сообщить об ошибке для таблицы, которая обновлена в то время, как это
работает. Однако, потому что <a href="#myisamchk"><span><strong>
myisamchk</strong></span></a> не изменяет таблицу в режиме описания, нет
никакого риска разрушения данных.</li>

<li><a href="#myisamchk"><span><strong>myisamchk -dv
<em><code>tbl_name</code></em></strong></span></a></p>

<p>Добавление <code>-v</code> выполняет <a href="#myisamchk">
<span><strong>myisamchk</strong></span></a> в подробном режиме так, чтобы это
произвело больше информации о таблице. Добавление <code>-v</code> второй раз
производит больше информации.</li>

<li><a href="#myisamchk"><span><strong>myisamchk -eis
<em><code>tbl_name</code></em></strong></span></a></p>
<p>Показать только наиболее важную информацию таблицы. Эта работа является
медленной, потому что она должна считать всю таблицу.</li>

<li><a href="#myisamchk"><span><strong>myisamchk -eiv
<em><code>tbl_name</code></em></strong></span></a></p>
<p>Аналог <code>-eis</code>, но говорит Вам, что делает.</p></li></ul>

<p><em><code>tbl_name</code></em> может быть любым названием таблицы
<code>MyISAM</code> или названием ее индексного файла, как описано в
<a href="#myisamchk">разделе 5.6.4</a>. Несколько параметров
<em><code>tbl_name</code></em> могут быть даны.</p>

<p>Предположите, что таблица названа <code>person</code> и имеет
следующую структуру. <code>MAX_ROWS</code> включена так, чтобы в примере
вывода <a href="#myisamchk"><span><strong>myisamchk</strong>
</span></a>, показанному позже, некоторые значения были меньшими и
соответствовали выходному формату.
<pre>
CREATE TABLE person (id INT NOT NULL AUTO_INCREMENT,
                     last_name VARCHAR(20) NOT NULL,
                     first_name VARCHAR(20) NOT NULL,
                     birthDATE, deathDATE, PRIMARY KEY (id),
                     INDEX (last_name, first_name), INDEX (birth))
                     MAX_ROWS = 1000000;
</pre>

Предположите также, что у таблицы есть
эти размеры индексного файла и файла с данными:
<pre>
-rw-rw----  1 mysql  mysql  9347072 Aug 19 11:47 person.MYD
-rw-rw----  1 mysql  mysql  6066176 Aug 19 11:47 person.MYI
</pre>

Пример вывода <a href="#myisamchk"><span><strong>myisamchk -dvv
</strong></span></a>:
<pre>
MyISAM file: person
Record format: Packed
Character set: latin1_swedish_ci (8)
File-version:1
Creation time: 2009-08-19 16:47:41
Recover time:2009-08-19 16:47:56
Status:  checked,analyzed,optimized keys
Auto increment key:           1  Last value:              306688
Data records:            306688  Deleted blocks:               0
Datafile parts:          306688  Deleted data:                 0
Datafile pointer (bytes):     4  Keyfile pointer (bytes):      3
Datafile length:        9347072  Keyfile length:         6066176
Max datafile length: 4294967294  Max keyfile length: 17179868159
Recordlength: 54

table description:
Key Start Len Index   Type            Rec/key Root  Blocksize
1   2     4   unique  long            199328        1024
2   6     20  multip. varchar prefix  5123563520    1024
2   7     20          varchar         512
3   4     83  multip. uint24 NULL     3066886065152 1024

Field Start Length Nullpos Nullbit  Type
1     1     1
2     2     4              no zeros
3     6     21                      varchar
4     27    21                      varchar
5     48    31     1       no zeros
6     51    31     2       no zeros
</pre>

Объяснения типов информации
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
даны здесь. <span><span>Keyfile</span></span> обращается к индексному файлу.
<span><span>Record</span></span> и <span><span>row</span></span> это
синонимы, как <span><span>field</span></span> и <span><span>column</span>
</span>.</p>

<p>Начальная часть табличного описания содержит эти значения:</p>
<ul><li><p><code>MyISAM file</code></p>
<p>Имя <code>MyISAM</code> (индексного) файла.</li>

<li><code>Record format</code></p>
<p>Формат хранения строк таблицы. В качестве примера использовано
<code>Fixed length</code>. Другие возможные значения
<code>Compressed</code> и <code>Packed</code>. <code>Packed</code>
соответствует тому, что <code>SHOW TABLE STATUS</code>
сообщает как <code>Dynamic</code>.</li>

<li><code>Chararacter set</code></p>
<p>Табличный набор символов по умолчанию.</li>
<li><code>File-version</code></p>
<p>Версия формата <code>MyISAM</code>, всегда 1.</li>

<li><code>Creation time</code></p>
<p>Когда файл с данными создавался.</li>
<li><code>Recover time</code></p>
<p>Когда индекс/файл с данными был в последний раз восстановлен.</li>

<li><code>Status</code></p>
<p>Табличные флаги состояния. Возможные значения
<code>crashed</code>, <code>open</code>,
<code>changed</code>, <code>analyzed</code>,
<code>optimized keys</code> и <code>sorted index pages</code>.</li>

<li><code>Auto increment key</code>, <code>Last value</code></p>
<p>Ключевое число, связанное со столбцом <code>AUTO_INCREMENT</code>,
и последний раз произведенное значение для этого столбца. Эти области не
появляются, если нет такого столбца.</li>

<li><code>Data records</code></p>
<p>Число строк в таблице.</li>
<li><code>Deleted blocks</code></p>
<p>Сколько удаленных блоков все еще зарезервировало пространство.
Вы можете оптимизировать свою таблицу, чтобы минимизировать это пространство.
См. <a href="backup.htm#myisam-optimization">раздел 8.6.4</a>.</li>

<li><code>Datafile parts</code></p>
<p>Для формата динамической строки это указывает, сколько там блоков данных.
Для оптимизированной таблицы без фрагментированных строк это то же самое,
как <code>Data records</code>.</li>

<li><code>Deleted data</code></p>
<p>Сколько там байт неосвобожденных удаленных данных.
Вы можете оптимизировать свою таблицу, чтобы минимизировать это пространство.
См. <a href="backup.htm#myisam-optimization">раздел 8.6.4</a>.</li>

<li><code>Datafile pointer</code></p>
<p>Размер указателя файла с данными в байтах. Это обычно
2, 3, 4 или 5 байтов. Большинство таблиц справляется с 2 байтами, но этим
нельзя управлять от MySQL. Для фиксированных таблиц это адрес строки.
Для динамических таблиц это адрес байта.</li>

<li><code>Keyfile pointer</code></p>
<p>Размер указателя индексного файла в байтах. Это обычно 1, 2 или 3 байта.
Большинство таблиц справляется с 2 байтами, но это вычислено автоматически
MySQL. Это всегда адрес блока.</li>

<li><code>Max datafile length</code></p>
<p>Насколько большим табличный файл с данными может стать в байтах.</li>
<li><code>Max keyfile length</code></p>
<p>Насколько большим табличный файл индекса может стать в байтах.</li>
<li><code>Record length</code></p>
<p>Сколько места каждая строка занимает в байтах.</p></li></ul>

<p>Часть <code>table description</code>
включает список всех ключей в таблице. Для каждого ключа
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
выводит на экран некоторую информацию о низком уровне:</p>

<ul><li><p><code>Key</code></p>
<p>Номер этого ключа. Это значение показывают только для первого столбца
ключа. Если это значение отсутствует, строка соответствует второму или более
позднему столбцу многостолбцового ключа. Для таблицы, показанной в примере,
есть две строки <code>table description</code> для второго индекса.
Это указывает, что это индекс из многих частей (с двумя частями).</li>

<li><code>Start</code></p>
<p>Где в строке эта часть индексирования начинается.</li>
<li><code>Len</code></p>
<p>Какой длины эта часть индексирования. Для упакованных чисел это должно
всегда быть полной длиной столбца. Для строк это может быть короче, чем
полная длина индексированного столбца, потому что Вы можете индексировать
приставку строкового столбца. Полная длина ключа составного индекса это
сумма значений <code>Len</code> для всех ключевых частей.</li>

<li><code>Index</code></p>
<p>Может ли значение ключа существовать многократно в индексе.
Возможные значения <code>unique</code> или <code>multip.</code> (может).</li>

<li><code>Type</code></p>
<p>Какой тип данных эта часть индексирования имеет. Это тип данных
<code>MyISAM</code> с возможными значениями
<code>packed</code>, <code>stripped</code> или <code>empty</code>.</li>

<li><code>Root</code></p>
<p>Адрес корня индексного блока.</li>
<li><code>Block size</code></p>
<p>Размер каждого индексного блока. По умолчанию это 1024, но значение может
быть изменено во время компиляции, когда MySQL создан из исходного текста.
</li>

<li><code>Rec/key</code></p>
<p>Это статистическое значение, используемое оптимизатором.
Это говорит, сколько строк на значение индексируют. Уникальный индекс всегда
имеет значение 1. Это может быть обновлено после того, как таблица загружена
(или очень изменена) с <a href="#myisamchk">
<span><strong>myisamchk -a</strong></span></a>.
Если это не обновлено вообще, значение по умолчанию 30.</p></li></ul>

<p>Последняя часть вывода предоставляет информацию о каждом столбце:</p>
<ul><li><p><code>Field</code></p>
<p>Номер столбца.</li>

<li><code>Start</code></p>
<p>Позиция байта столбца в пределах строк таблицы.</li>
<li><code>Length</code></p>
<p>Длина столбца в байтах.</li>

<li><code>Nullpos</code>, <code>Nullbit</code></p>
<p>Для столбцов, которые могут быть <code>NULL</code>,
<code>MyISAM</code> хранит <code>NULL</code>
как флаг в байте. В зависимости от того, сколько там таких столбцов, могут
быть один или более байтов, используемых с этой целью.
<code>Nullpos</code> и <code>Nullbit</code>, если не пустые, указывают, какие
байт и бит содержат флаг, указывающий, является ли столбец <code>NULL</code>.
</p>

<p>Позиция и число байтов для хранения флагов <code>NULL</code>
показывают в строке для области 1. Поэтому имеется 6 строк <code>Field</code>
для таблицы <code>person</code> даже при том, что у нее есть
только пять столбцов.</li>

<li><code>Type</code></p>
<p>Тип данных. Значение может содержать любой из следующих описателей:</p>
<ul><li><p><code>constant</code></p>
<p>У всех строк есть то же самое значение.</li>

<li><code>no endspace</code></p>
<p>Не хранить конечные пробелы.</li>
<li><code>no endspace, not_always</code></p>
<p>Не хранить конечные пробелы и не делать их сжатия для всех значений.</li>

<li><code>no endspace, no empty</code></p>
<p>Не хранить конечные пробелы. Не хранить пустые значения.</li>
<li><code>table-lookup</code></p>
<p>Столбец был преобразован в <a href="types.htm#enum"><code>ENUM</code></a>.
</li>

<li><code>zerofill(<em><code>N</code></em>)</code></p>
<p>Старшие значащие <em><code>N</code></em> байт
в значении всегда 0 и не сохранены.</li>

<li><code>no zeros</code></p>
<p>Не храните ноли.</li>
<li><code>always zero</code></p>
<p>Нулевые значения сохранены, используя один бит.</p></li></ul></li>

<li><p><code>Huff tree</code></p>
<p>Число дерева Хаффмана, связанное со столбцом.</li>
<li><code>Bits</code></p>
<p>Сколько битов используется в дереве Хаффмана.</p></li></ul>

<p><code>Huff tree</code> и <code>Bits</code>
выведены на экран, если таблица была сжата
<a href="#myisampack"><span><strong>myisampack</strong></span>
</a>. См. <a href="#myisampack">раздел 5.6.6</a>.</p>

<p>Пример вывода <a href="#myisamchk"><span><strong>myisamchk
-eiv</strong></span></a>:
<pre>
Checking MyISAM file: person
Data records:  306688   Deleted blocks: 0
- check file-size
- check record delete-chain
No recordlinks
- check key delete-chain
block_size 1024:
- check index reference
- check data record references index: 1
Key:  1:  Keyblocks used:  98%  Packed:0%  Max levels:  3
- check data record references index: 2
Key:  2:  Keyblocks used:  99%  Packed:   97%  Max levels:  3
- check data record references index: 3
Key:  3:  Keyblocks used:  98%  Packed:  -14%  Max levels:  3
Total:Keyblocks used:  98%  Packed:   89%

- check records and index references
<em><code>*** LOTS OF ROW NUMBERS DELETED ***</code></em>

Records:306688  M.recordlength: 25  Packed:83%
Recordspace used: 97% Empty space:   2% Blocks/Record:   1.00
Record blocks:306688  Delete blocks: 0
Record data: 7934464  Deleted data:  0
Lost space: 256512  Linkdata:1156096

User time 43.08, System time 1.68
Maximum resident set size 0, Integral resident set size 0
Non-physical pagefaults 0, Physical pagefaults 0, Swaps 0
Blocks in 0 out 7, Messages in 0 out 0, Signals 0
Voluntary context switches 0, Involuntary context switches 0
Maximum memory usage: 1046926 bytes (1023k)
</pre>

Вывод <a href="#myisamchk"><span><strong>myisamchk -eiv</strong>
</span></a> включает следующую информацию:</p>
<ul><li><p><code>Data records</code></p>
<p>Число строк в таблице.</li>

<li><code>Deleted blocks</code></p>
<p>Сколько удаленных блоков все еще зарезервировало пространство.
Вы можете оптимизировать свою таблицу, чтобы минимизировать это пространство.
См. <a href="backup.htm#myisam-optimization">раздел 8.6.4</a>.</li>

<li><code>Key</code></p>
<p>Число ключей.</li>

<li><code>Keyblocks used</code></p>
<p>Какой процент ключевых блоков используется. Когда таблица была только что
реорганизована с <a href="#myisamchk"><span><strong>myisamchk
</strong></span></a>, значения очень высоки (около теоретического максимума).
</li>

<li><code>Packed</code></p>
<p>MySQL пытается упаковать значения ключа, у которых есть общий суффикс.
Это может использоваться только для индексов на
<a href="types.htm#char"><code>CHAR</code></a> и
<a href="types.htm#char"><code>VARCHAR</code></a>.
Для длинных индексированных строк, у которых есть подобные крайние левые
части, это может значительно уменьшить использованное пространство.
В предыдущем примере второй ключ 40 байтов длиной, и сокращение
пространства на 97% достигнуто.</li>

<li><code>Max levels</code></p>
<p>Как глубоко B-дерево для этого ключа. Большие таблицы с длинными
значениями ключа получают высокие значения.</li>

<li><code>Records</code></p>
<p>Сколько строк находится в таблице.</li>
<li><code>M.record length</code></p>
<p>Средняя длина строки. Это точная длина строки для таблиц со строками
фиксированной длины, потому что у всех строк есть та же самая длина.</li>

<li><code>Packed</code></p>
<p>MySQL отрезает пробелы от конца строк. <code>Packed</code>
указывает на процент сбережений, достигнутых, делая это.</li>

<li><code>Record space used</code></p>
<p>Какой процент файла с данными используется.</li>
<li><code>Empty space</code></p>
<p>Какой процент файла с данными не использован.</li>

<li><code>Blocks/Record</code></p>
<p>Среднее число блоков на строку (то есть, сколько ссылок в
фрагментированной строке). Это всегда 1.0 для таблиц фиксированного формата.
Это значение должно остаться так близко к 1.0, насколько возможно.
Если это становится слишком большим, Вы можете реорганизовать таблицу. См.
<a href="backup.htm#myisam-optimization">раздел 8.6.4</a>.</li>

<li><code>Record blocks</code></p>
<p>Сколько блоков используется. Для таблиц фиксированного
формата это число строк.</li>

<li><code>Delete blocks</code></p>
<p>Сколько блоков удалено.</li>
<li><code>Record data</code></p>
<p>Сколько байтов в файле с данными используется.</li>

<li><code>Deleted data</code></p>
<p>Сколько байтов в файле с данными удалено.</li>
<li><code>Lost space</code></p>
<p>Если строка обновлена к более короткой, некоторое пространство потеряно.
Это сумма всех таких потерь в байтах.</li>

<li><code>Linkdata</code></p>
<p>Когда динамический формат таблицы используется, фрагменты строки соединены
с указателями (от 4 до 7 байт каждый). <code>Linkdata</code> это сумма
количества места, используемого всеми такими указателями.</p></li></ul>

<h4><a name="myisamchk-memory"></a>5.6.4.6. Использование памяти myisamchk
</h4>
<p>Распределение памяти важно, когда Вы выполняете
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>.
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
не использует больше памяти, чем значения, в которые установлены
его связанные с памятью переменные. Если Вы собираетесь использовать
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
на очень больших таблицах, Вы должны сначала решить, сколько памяти Вы
хотите, чтобы он использовал. Значение по умолчанию должно использовать
только приблизительно 3 МБ, чтобы выполнить ремонт. При использовании больших
значений Вы можете заставить <a href="#myisamchk"><span><strong>
myisamchk</strong></span></a> работать быстрее. Например, если Вы имеете в
наличии больше 512 МБ RAM, Вы могли бы использовать такие опции
(в дополнение к любым другим опциям, которые Вы могли бы определить):
<pre>
shell&gt; myisamchk --myisam_sort_buffer_size=256M \
                    --key_buffer_size=512M \
                    --read_buffer_size=64M --write_buffer_size=64M ...
</pre>
Использование <code>--myisam_sort_buffer_size=16M</code>
достаточно вероятно для большинства случаев.</p>

<p>Знайте, что <a href="#myisamchk"><span><strong>myisamchk
</strong></span></a> использует временные файлы в <code>TMPDIR</code>. Если
<code>TMPDIR</code> указывает на файловую систему в памяти, ошибки памяти
могут легко произойти. Если это происходит, выполните
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>
с <a href="#option_myisamchk_tmpdir"><code>--tmpdir=<em><code>
dir_name</code></em></code></a>, чтобы определить каталог в
файловой системе, у которой есть больше пространства.</p>

<p>При выполнении операций ремонта <a href="#myisamchk"><span>
<strong>myisamchk</strong></span></a> также нуждается в большом
количестве дискового пространства:</p>

<ul><li><p>Дважды размер файла с данными (оригинальный файл и копия).
Это пространство не необходимо, если Вы делаете ремонт с
<a href="#option_myisamchk_quick"><code>--quick</code></a>,
в этом случае только индексный файл обновлен.
<span><em>Это пространство должно быть доступным на той же самой файловой
системе как оригинальный файл с данными</em></span>, так как копия
создается в том же самом каталоге, где оригинал.</li>

<li>Пространство для нового индексного файла, который заменяет старый.
Старый индексный файл является усеченным в начале ремонта,
таким образом, Вы обычно игнорируете это пространство.
Это пространство должно быть доступным на той же самой файловой системе,
где оригинальный файл с данными.</li>

<li>При применении <a href="#option_myisamchk_recover"><code>
--recover</code></a> или <a href="#option_myisamchk_sort-recover">
<code>--sort-recover</code></a> (но не
<a href="#option_myisamchk_safe-recover"><code>--safe-recover
</code></a>), Вы нуждаетесь в пространстве на диске для того, чтобы
сортировать. Это место выделено во временном каталоге (определенном
<code>TMPDIR</code> или <a href="#option_myisamchk_tmpdir">
<code>--tmpdir=<em><code>dir_name</code></em></code></a>).
Следующая формула приводит к количеству требуемого пространства:
<pre>
(<em><code>largest_key</code></em> + <em><code>row_pointer_length</code></em>) * <em><code>number_of_rows</code></em> * 2
</pre>

Вы можете проверить длину ключей и <em><code>row_pointer_length</code></em>
с <a href="#myisamchk"><span><strong>myisamchk -dv
<em><code>tbl_name</code></em></strong></span></a> (см.
<a href="#myisamchk-table-info">раздел 5.6.4.5</a>).
<em><code>row_pointer_length</code></em> и
<em><code>number_of_rows</code></em> это <code>Datafile pointer</code> и
<code>Data records</code> в табличном описании. Определите
<em><code>largest_key</code></em>, проверяя строки <code>Key</code> в
табличном описании. Столбец <code>Len</code> указывает на число байтов для каждой
ключевой части. Поскольку индекс многостолбцовый, ключевой размер это сумма
значений <code>Len</code> для всех ключевых частей.</p></li></ul>

<p>Если у Вас есть проблема с дисковым пространством во время ремонта, Вы
можете попробовать <a href="#option_myisamchk_safe-recover">
<code>--safe-recover</code></a> вместо
<a href="#option_myisamchk_recover"><code>--recover</code></a>.
</p>

<h3><a name="myisamlog"></a>5.6.5. <span><strong>myisamlog</strong></span>
показ содержания файла системного журнала MyISAM</h3>
<p><a href="#myisamlog"><span><strong>myisamlog</strong></span>
</a> обрабатывает содержание файла системного журнала <code>MyISAM</code>.
Чтобы создать такой файл, запустите сервер с
<a href="server.htm#option_mysqld_log-isam"><code>
--log-isam=<code>log_file</code></code></a>.</p>

<p>Вызов <a href="#myisamlog"><span><strong>myisamlog</strong>
</span></a>:
<pre>
shell&gt; myisamlog [<em><code>options</code></em>] [<em><code>file_name</code></em>
                    [<em><code>tbl_name</code></em>] ...]
</pre>

Работа по умолчанию это обновление (<code>-u</code>). Если восстановление
сделано (<code>-r</code>), все записи и возможно обновления и удаления
сделаны, а ошибки только посчитаны. Имя файла системного журнала по умолчанию
<code>myisam.log</code>, если не дана опция <em><code>log_file</code></em>.
Если таблицы называют в командной строке, только те таблицы обновлены.</p>

<p><a href="#myisamlog"><span><strong>myisamlog</strong></span>
</a> поддерживает следующие опции:</p>
<ul><li><p><a name="option_myisamlog_help"></a>
<code>-?</code>, <code>-I</code></p>
<p>Показать сообщение справки.</li>

<li><a name="option_myisamlog_commands"></a>
<code>-c <em><code>N</code></em></code></p>
<p>Выполните только <em><code>N</code></em> команд.</li>

<li><a name="option_myisamlog_files"></a>
<code>-f <em><code>N</code></em></code></p>
<p>Определите максимальное количество открытых файлов.</li>

<li><a name="option_myisamlog_information"></a><code>-i</code></p>
<p>Выведите на экран дополнительную информацию перед выходом.</li>
<li><a name="option_myisamlog_offset"></a>
<code>-o <em><code>offset</code></em></code></p>
<p>Определите начальное смещение.</li>

<li><a name="option_myisamlog_path"></a>
<code>-p <em><code>N</code></em></code></p>
<p>Удалить <em><code>N</code></em> компоненты из пути.</li>

<li><a name="option_myisamlog_recovery"></a><code>-r</code></p>
<p>Выполните восстановление данных.</li>
<li><a name="option_myisamlog_record-position"></a>
<code>-R <em><code>record_pos_file record_pos</code></em></code></p>
<p>Определите файл записей и позицию записи.</li>

<li><a name="option_myisamlog_update"></a><code>-u</code></p>
<p>Выполните работу обновления.</li>
<li><a name="option_myisamlog_verbose"></a><code>-v</code></p>
<p>Подробный режим. Напечатайте вывод о том, что делает программа.
Эта опция может быть дана многократно, чтобы произвести больше деталей.</li>

<li><a name="option_myisamlog_write"></a>
<code>-w <em><code>write_file</code></em></code></p>
<p>Определите записываемый файл.</li>
<li><a name="option_myisamlog_version"></a><code>-V</code></p>
<p>Показать информацию о версии.</p></li></ul>

<h3><a name="myisampack"></a>5.6.6. <span><strong>myisampack</strong></span>
генератор сжатых таблиц MyISAM только для чтения</h3>
<p><a href="#myisampack"><span><strong>myisampack</strong></span>
</a> сжимает таблицы <code>MyISAM</code>. <a href="#myisampack">
<span><strong>myisampack</strong></span></a> работает, сжимая каждый столбец
в таблице отдельно. Обычно
<a href="#myisampack"><span><strong>myisampack</strong></span>
</a> упаковывает файл с данными на 40%-70%.</p>

<p>Когда таблица используется позже, сервер читает в память информацию и
должен распаковать столбцы. Это приводит к намного лучшей работе, получая
доступ к отдельным строкам, потому что Вы должны только расжать
точно одну строку.</p>

<p>MySQL использует <code>mmap()</code>, когда возможно, чтобы выполнить
отображение памяти на сжатых таблицах. Если <code>mmap()</code> не работает,
MySQL отступает к нормальным операциям чтения-записи файла.</p>

<p>Пожалуйста, отметьте следующее:</p>
<ul><li><p>Если <a href="#mysqld"><span><strong>mysqld</strong>
</span></a> был вызван с отключенной внешней блокировкой, не хорошая идея
вызвать <a href="#myisampack"><span><strong>myisampack</strong>
</span></a>, если таблица могла бы быть обновлена сервером во время
упаковочного процесса. Самое безопасное это сжать
таблицы с остановленным сервером.</li>

<li>После упаковки таблицы они годятся только для чтения.
Это их основное назначение (например, доступ к упакованным таблицам
на компакт-диске).</li>
<li><a href="#myisampack"><span><strong>myisampack</strong>
</span></a> не поддерживает разделенные таблицы.</p></li></ul>

<p>Вызов <a href="#myisampack"><span><strong>myisampack</strong>
</span></a>:
<pre>
shell&gt; myisampack [<em><code>options</code></em>] <em><code>file_name</code></em> ...
</pre>

Каждый параметр имени файла должен быть названием индекса
(<code>.MYI</code>). Если Вы не находитесь в каталоге базы данных, Вы должны
определить путь к файлу. Допустимо опустить расширение <code>.MYI</code>.</p>

<p>После того, как Вы сжимаете таблицу <a href="#myisampack">
<span><strong>myisampack</strong></span></a>, используйте
<a href="#myisamchk"><span><strong>myisamchk -rq</strong></span>
</a> для пересоздания индексов, см.
<a href="#myisamchk">раздел 5.6.4</a>.</p>

<p><a href="#myisampack"><span><strong>myisampack</strong></span>
</a> поддерживает следующие опции. Это также читает файлы опции и
поддерживает опции для того, чтобы обработать их согласно
<a href="#option-file-options">разделу 5.2.7</a>.</p>

<ul><li><p><a name="option_myisampack_help"></a>
<a href="#option_myisampack_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_myisampack_backup"></a>
<a href="#option_myisampack_backup"><code>--backup</code></a>,
<code>-b</code></p>
<p>Сделайте резервное копирование файла с данными каждой таблицы,
используя имя <code><em><code>tbl_name</code></em>.OLD</code>.</li>

<li><a name="option_myisampack_character-sets-dir"></a>
<a href="#option_myisampack_character-sets-dir"><code>
--character-sets-dir=<em><code>dir_name</code></em></code></a></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_myisampack_debug"></a>
<a href="#option_myisampack_debug"><code>--debug[=<em>
<code>debug_options</code></em>]</code></a>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Писать журнал отладки. Типичная строка
<em><code>debug_options</code></em> это
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:o</code>.</li>

<li><a name="option_myisampack_force"></a>
<a href="#option_myisampack_force"><code>--force</code></a>,
<code>-f</code></p>

<p>Произведите упакованную таблицу, даже если это становится больше,
чем оригинал или если есть промежуточный файл от более раннего вызова
<a href="#myisampack"><span><strong>myisampack</strong></span>
</a>. <a href="#myisampack"><span><strong>myisampack</strong>
</span></a> создает промежуточный файл
<code><em><code>tbl_name</code></em>.TMD</code> в каталоге базы данных в то
время, как сжимает таблицу. Если Вы уничтожаете процесс
<a href="#myisampack"><span><strong>myisampack</strong></span>
</a>, файл <code>.TMD</code> мог бы быть и не удален.
Обычно <a href="#myisampack"><span><strong>myisampack</strong>
</span></a> выходит с ошибкой, если он находит, что есть
<code><em><code>tbl_name</code></em>.TMD</code>. С
<a href="#option_myisampack_force"><code>--force</code></a>
<a href="#myisampack"><span><strong>myisampack</strong></span>
</a> упаковывает таблицу так или иначе.</li>

<li><a name="option_myisampack_join"></a>
<a href="#option_myisampack_join"><code>--join=<em>
<code>big_tbl_name</code></em></code></a>,
<code>-j <em><code>big_tbl_name</code></em></code></p>

<p>Соединить все таблицы, названные в
командной строке в единственную упакованную таблицу
<em><code>big_tbl_name</code></em>. У всех таблиц, которые должны быть
объединены <span><em>должна</em></span> быть идентичная структура (те же
самые имена столбцов и типы, те же самые индексы и т.д).</p>

<p><em><code>big_tbl_name</code></em> не должен существовать до работы
соединения. Все исходные таблицы, названные в командной строке, которые будут
слиты в <em><code>big_tbl_name</code></em> должны существовать. Исходные
таблицы считаны, но не изменены.</li>

<li><a name="option_myisampack_silent"></a>
<a href="#option_myisampack_silent"><code>--silent</code></a>,
<code>-s</code></p>
<p>Тихий режим. Напишите вывод только, когда ошибки происходят.</li>

<li><a name="option_myisampack_test"></a>
<a href="#option_myisampack_test"><code>--test</code></a>,
<code>-t</code></p>
<p>Фактически не упаковывайте таблицу, только проверяйте упаковку.</li>

<li><a name="option_myisampack_tmpdir"></a>
<a href="#option_myisampack_tmpdir"><code>--tmpdir=<em>
<code>dir_name</code></em></code></a>,
<code>-T <em><code>dir_name</code></em></code></p>

<p>Используйте названный каталог в качестве местоположения, где
<a href="#myisampack"><span><strong>myisampack</strong></span>
</a> создает временные файлы.</li>

<li><a name="option_myisampack_verbose"></a>
<a href="#option_myisampack_verbose"><code>--verbose</code></a>,
<code>-v</code></p>
<p>Подробный режим. Напишите информацию о продвижении работы и ее результате.
</li>

<li><a name="option_myisampack_version"></a>
<a href="#option_myisampack_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Отобразить информацию о версии.</li>

<li><a name="option_myisampack_wait"></a>
<a href="#option_myisampack_wait"><code>--wait</code></a>,
<code>-w</code></p>

<p>Ждите и повторите, если таблица используется. Если
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
был вызван с отключенной внешней блокировкой, не хорошая идея вызвать
<a href="#myisampack"><span><strong>myisampack</strong></span>
</a>, если таблица могла бы быть обновлена сервером во
время упаковочного процесса.</p></li></ul>

<p>Следующая последовательность команд иллюстрирует типичный
табличный сеанс сжатия:
<pre>
shell&gt; ls -l station.*
-rw-rw-r--   1 montymy 994128 Apr 17 19:00 station.MYD
-rw-rw-r--   1 montymy  53248 Apr 17 19:00 station.MYI

shell&gt; myisamchk -dvv station
MyISAM file: station
Isam-version:  2
Creation time: 1996-03-13 10:08:58
Recover time:  1997-02-02  3:06:43
Data records:  1192  Deleted blocks:  0
Datafile parts:1192  Deleted data:0
Datafile pointer (bytes): 2  Keyfile pointer (bytes): 2
Max datafile length:   54657023  Max keyfile length:   33554431
Recordlength:   834
Record format: Fixed length

table description:
Key Start Len Index   Type          Root  Blocksize Rec/key
1   2     4   unique  unsigned long 1024  1024      1
2   32    30  multip. text          10240 1024      1

Field Start Length Type
1     1     1
2     2     4
3     6     4
4     10    1
5     11    20
6     31    1
7     32    30
8     62    35
9     97    35
10    132   35
11    167   4
12    171   16
13    187   35
14    222   4
15    226   16
16    242   20
17    262   20
18    282   20
19    302   30
20    332   4
21    336   4
22    340   1
23    341   8
24    349   8
25    357   8
26    365   2
27    367   2
28    369   4
29    373   4
30    377   1
31    378   2
32    380   8
33    388   4
34    392   4
35    396   4
36    400   4
37    404   1
38    405   4
39    409   4
40    413   4
41    417   4
42    421   4
43    425   4
44    429   20
45    449   30
46    479   1
47    480   1
48    481   79
49    560   79
50    639   79
51    718   79
52    797   8
53    805   1
54    806   1
55    807   20
56    827   4
57    831   4

shell&gt; myisampack station.MYI
Compressing station.MYI: (1192 records)
- Calculating statistics

normal: 20  empty-space:   16  empty-zero: 12  empty-fill:  11
pre-space:   0  end-space: 12  table-lookups:   5  zero: 7
Original trees:  57  After join: 17
- Compressing file
87.14%
Remember to run myisamchk -rq on compressed tables

shell&gt; myisamchk -rq station
- check record delete-chain
- recovering (with sort) MyISAM-table 'station'
Data records: 1192
- Fixing index 1
- Fixing index 2

shell&gt; mysqladmin -uroot flush-tables
shell&gt; ls -l station.*
-rw-rw-r--   1 montymy 127874 Apr 17 19:00 station.MYD
-rw-rw-r--   1 montymy  55296 Apr 17 19:04 station.MYI

shell&gt; myisamchk -dvv station
MyISAM file: station
Isam-version:  2
Creation time: 1996-03-13 10:08:58
Recover time:  1997-04-17 19:04:26
Data records:   1192  Deleted blocks:  0
Datafile parts: 1192  Deleted data:0
Datafile pointer (bytes):3  Keyfile pointer (bytes): 1
Max datafile length:16777215  Max keyfile length: 131071
Recordlength:834
Record format: Compressed

table description:
Key Start Len Index   Type          Root     Blocksize Rec/key
1   2     4   unique  unsigned long 10240    1024      1
2   32    30  multip. text          54272    1024      1

Field   Start Length Type                               Huff tree  Bits
1       1     1      constant                           1          0
2       2     4      zerofill(1)                        2          9
3       6     4      no zeros, zerofill(1)              2          9
4       10    1                                         3          9
5       11    20     table-lookup                       4          0
6       31    1                                         3          9
7       32    30     no endspace, not_always            5          9
8       62    35     no endspace, not_always, no empty  6          9
9       97    35     no empty                           7          9
10      132   35     no endspace, not_always, no empty  6          9
11      167   4      zerofill(1)                        2          9
12      171   16     no endspace, not_always, no empty  5          9
13      187   35     no endspace, not_always, no empty  6          9
14      222   4      zerofill(1)                        2          9
15      226   16     no endspace, not_always, no empty  5          9
16      242   20     no endspace, not_always            8          9
17      262   20     no endspace, no empty              8          9
18      282   20     no endspace, no empty              5          9
19      302   30     no endspace, no empty              6          9
20      332   4      always zero                        2          9
21      336   4      always zero                        2          9
22      340   1                                         3          9
23      341   8      table-lookup                       9          0
24      349   8      table-lookup                       10         0
25      357   8      always zero                        2          9
26      365   2                                         2          9
27      367   2      no zeros, zerofill(1)              2          9
28      369   4      no zeros, zerofill(1)              2          9
29      373   4      table-lookup                       11         0
30      377   1                                         3          9
31      378   2      no zeros, zerofill(1)              2          9
32      380   8      no zeros                           2          9
33      388   4      always zero                        2          9
34      392   4      table-lookup                       12         0
35      396   4      no zeros, zerofill(1)              13         9
36      400   4      no zeros, zerofill(1)              2          9
37      404   1                                         2          9
38      405   4      no zeros                           2          9
39      409   4      always zero                        2          9
40      413   4      no zeros                           2          9
41      417   4      always zero                        2          9
42      421   4      no zeros                           2          9
43      425   4      always zero                        2          9
44      429   20     no empty                           3          9
45      449   30     no empty                           3          9
46      479   1                                         14         4
47      480   1                                         14         4
48      481   79     no endspace, no empty              15         9
49      560   79     no empty                           2          9
50      639   79     no empty                           2          9
51      718   79     no endspace                        16         9
52      797   8      no empty                           2          9
53      805   1                                         17         1
54      806   1                                         3          9
55      807   20     no empty                           3          9
56      827   4      no zeros, zerofill(2)              2          9
57      831   4      no zeros, zerofill(1)              2          9
</pre>

<a href="#myisampack"><span><strong>myisampack</strong></span>
</a> выводит на экран следующие виды информации:</p>
<ul><li><p><code>normal</code></p>
<p>Число столбцов, для которых не используется
никакая дополнительная упаковка.</li>

<li><code>empty-space</code></p>
<p>Число столбцов, содержащих значения, которые являются только пробелами.
Они занимают один бит.</li>

<li><code>empty-zero</code></p>
<p>Число столбцов, содержащих значения, которые являются только двоичными
нулями. Они занимают один бит.</li>

<li><code>empty-fill</code></p>
<p>Число столбцов целого числа, которые не занимают полный диапазон байта
их типа. Они изменены на меньший тип. Например,
<a href="types.htm#integer-types"><code>BIGINT</code></a>
(восемь байтов) может быть сохранен как
<a href="types.htm#integer-types"><code>TINYINT</code></a>
(один байт), если все его значения находятся в диапазоне от
<code>-128</code> до <code>127</code>.</li>

<li><code>pre-space</code></p>
<p>Число десятичных столбцов, которые сохранены с лидирующими пробелами.
В этом случае каждое значение содержит счетчик для числа лидирующих пробелов.
</li>

<li><code>end-space</code></p>
<p>Число столбцов, у которых есть много конечных пробелов.
В этом случае каждое значение содержит счетчик для числа конечных пробелов.
</li>

<li><code>table-lookup</code></p>
<p>У столбца было только небольшое количество различных значений,
которые были преобразованы в
<a href="types.htm#enum"><code>ENUM</code></a> перед сжатием Хаффмана.</li>

<li><code>zero</code></p>
<p>Число столбцов, для которых все значения ноль.</li>
<li><code>Original trees</code></p>
<p>Начальное число деревьев Хаффмана.</li>

<li><code>After join</code></p>
<p>Число отличных деревьев Хаффмана, оставленных после присоединения
деревьев, чтобы оставить некоторое свободное место в заголовке.</p></li></ul>

<p>После того, как таблица была сжата, строки <code>Field</code>, выведенные
на экран <a href="#myisamchk"><span><strong>myisamchk -dvv
</strong></span></a>, включают дополнительную информацию о каждом столбце:</p>

<ul><li><p><code>Type</code></p>
<p>Тип данных. Значение может содержать любой из следующих описателей:</p>
<ul><li><p><code>constant</code></p>
<p>У всех строк есть то же самое значение.</li>

<li><code>no endspace</code></p>
<p>Не храните конечные пробелы.</li>
<li><code>no endspace, not_always</code></p>
<p>Не храните конечные пробелы и не делайте сжатие конечных пробелов
для всех значений.</li>

<li><code>no endspace, no empty</code></p>
<p>Не храните конечные пробелы и пустые значения.</li>
<li><code>table-lookup</code></p>
<p>Столбец был преобразован в <a href="types.htm#enum"><code>ENUM</code></a>.
</li>

<li><code>zerofill(<em><code>N</code></em>)</code></p>
<p>Старшие <em><code>N</code></em> байт в значении всегда 0 и не сохранены.
</li>

<li><code>no zeros</code></p>
<p>Не храните ноли.</li>
<li><code>always zero</code></p>
<p>Нулевые значения сохранены, используя один бит.</p></li></ul></li>

<li><p><code>Huff tree</code></p>
<p>Число деревьев Хаффмана, связанных со столбцом.</li>
<li><code>Bits</code></p>
<p>Сколько битов используется в дереве Хаффмана.</p></li></ul>

<p>После того, как Вы выполняете <a href="#myisampack"><span>
<strong>myisampack</strong></span></a>, используйте
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>,
чтобы пересоздать индексы. В это время Вы можете также сортировать индексные
блоки и создать статистику, необходимую для оптимизатора MySQL, чтобы
работать более эффективно:
<pre>
shell&gt; myisamchk -rq --sort-index --analyze <em><code>tbl_name</code></em>.MYI
</pre>

После того, как Вы установили упакованную таблицу в каталог базы данных
MySQL, Вы должны выполнить <a href="#mysqladmin"><span><strong>
mysqladmin flush-tables</strong></span></a>, чтобы
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
начал использовать новую таблицу.</p>

<p>Чтобы распаковать упакованную таблицу, используйте опцию
<a href="#option_myisamchk_unpack"><code>--unpack</code></a> в
<a href="#myisamchk"><span><strong>myisamchk</strong></span></a>.
</p>

<h3><a name="mysql-config-editor"></a>5.6.7.
<span><strong>mysql_config_editor</strong></span>
утилита конфигурации MySQL</h3>
<p><a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a> позволяет Вам сохранить параметры
аутентификации в зашифрованном файле пути входа в систему <code>.mylogin.cnf
</code>. Местоположение файла <code>%APPDATA%\MySQL</code> в Windows и
корневой каталог текущего пользователя на системах не-Windows. Файл может
быть считан позже программами клиента MySQL, чтобы получить параметры
аутентификации для того, чтобы соединиться с MySQL Server.</p>

<p>Незашифрованный формат <code>.mylogin.cnf</code>
состоит из групп опции, подобных другим файлам опции. Каждая группа опций в
<code>.mylogin.cnf</code> называется <span><span>login path</span></span>,
который является группой, которая разрешает только определенные опции:
<code>host</code>, <code>user</code>, <code>password</code>,
<code>port</code> и <code>socket</code>. Думайте о группе опции пути входа в
систему как о ряде опций, которые определяют, с каким сервером MySQL
соединиться и которые указывают, как подтвердить подлинность.
Вот незашифрованный пример:
<pre>
[client]
user = mydefaultname
password = mydefaultpass
host = 127.0.0.1
[mypath]
user = myothername
password = myotherpass
host = localhost
</pre>

Когда Вы вызываете программу клиента, чтобы соединиться с сервером,
клиент использует <code>.mylogin.cnf</code> в соединении с другими файлами
опции. Его приоритет выше, чем другие файлы опции, но меньше чем опции,
определенные явно в командной строке клиента. Для информации о порядке, в
котором используются файлы опции, см. <a href="#option-files">
раздел 5.2.6</a>.</p>

<p>Чтобы определить дополнительное имя файла пути входа в систему, установите
переменную окружения <code>MYSQL_TEST_LOGIN_FILE</code>.
Эта переменная признана <a href="#mysql-config-editor"><span>
<strong>mysql_config_editor</strong></span></a>, стандартными клиентами MySQL
(<a href="#mysql"><span><strong>mysql</strong></span></a>,
<a href="#mysqladmin"><span><strong>mysqladmin</strong></span>
</a> и т.д.) и утилитой тестирования <span><strong>mysql-test-run.pl</strong>
</span>.</p>

<p>Программы используют группы в файле пути входа в
систему следующим образом:</p>
<ul><li><p><a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a> воздействует на путь входа в систему
<code>client</code> по умолчанию, если Вы не определяете
<a href="#option_general_login-path"><code>--login-path=<em>
<code>name</code></em></code></a>, чтобы указать явно путь входа в систему.
</li>

<li>Без <a href="#option_general_login-path"><code>--login-path
</code></a> программы клиента читают те же самые группы опции из файла пути
входа в систему, который они читают из других файлов опции.
Рассмотрите эту команду:
<pre>
shell&gt; mysql
</pre>

По умолчанию <a href="#mysql"><span><strong>mysql</strong></span>
</a> читает группы <code>[client]</code> и <code>[mysql]</code>
от других файлов опции, таким образом, это читает их из файла пути
входа в систему также.</li>

<li>С <a href="#option_general_login-path"><code>--login-path
</code></a> программы клиента дополнительно читают названный путь входа в
систему из файла пути входа в систему. Групповое чтение опции от других
файлов опции остается тем же самым. Рассмотрите эту команду:
<pre>
shell&gt; mysql --login-path=mypath
</pre>

<a href="#mysql"><span><strong>mysql</strong></span></a>
читает группы <code>[client]</code> и <code>[mysql]</code>
из других файлов опции и <code>[client]</code>, <code>[mysql]</code> и
<code>[mypath]</code> из файла пути входа в систему.</li>

<li>Программы клиента читают файл пути входа в систему даже когда дана
опция <a href="#option_general_no-defaults"><code>--no-defaults
</code></a>. Это разрешает паролям быть определенными более безопасным
способом чем в командной строке, даже если есть опция
<a href="#option_general_no-defaults"><code>--no-defaults</code>
</a>.</p></li></ul>

<p><a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a> шифрует файл
<code>.mylogin.cnf</code>, таким образом, это не может быть считано как
открытый текст и его содержание, когда дешифровано программами клиента,
используется только в памяти. Таким образом, пароли могут быть сохранены в
файле в формате не открытого текста и использоваться позже, никогда не будучи
выставленными в командной строке или в переменной окружения.
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> обеспечивает команду <code>print</code> для того, чтобы
вывести на экран содержание файла пути входа в систему, но даже в этом случае
значения пароля замаскированы, чтобы никогда не появляться так, чтобы
другие пользователи могли увидеть их.</p>

<p>Шифрование, используемое <a href="#mysql-config-editor"><span>
<strong>mysql_config_editor</strong></span></a>
препятствует тому, чтобы пароли появились в <code>.mylogin.cnf</code>
как открытый текст и обеспечивает меры безопасности, предотвращая небрежное
хранение пароля. Например, если Вы выводите на экран незашифрованный
файл опций клиента <code>my.cnf</code>, любые пароли, которые это содержит,
видимы для любого. С <code>.mylogin.cnf</code> это не истина. Но используемое
шифрование не будет удерживать решительного нападавшего, и Вы не должны
считать это невскрываемым. Пользователь, который может получить привилегии
системного администрирования на Вашей машине, чтобы получить доступ к Вашим
файлам, может дешифровать <code>.mylogin.cnf</code> с некоторым усилием.</p>

<p>Файл пути входа в систему должен быть читаемым и перезаписываемым
текущим пользователем и недоступным другим пользователям. Иначе
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> игнорирует его, и программы клиента также не используют.
</p>

<p>Вызов <a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a>:
<pre>
shell&gt; mysql_config_editor [<em><code>program_options</code></em>]
                               <em><code>command</code></em>
                               [<em><code>command_options</code></em>]
</pre>

Если файл пути входа в систему не существует,
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> его создаст автоматически.</p>

<p>Параметры команды даны следующим образом:</p>
<ul><li><p><em><code>program_options</code></em> состоит из общих опций
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>.</li>

<li><code>command</code> указывает действие с <code>.mylogin.cnf</code>.
Например, <code>set</code> пишет путь входа в систему в файл,
<code>remove</code> удаляет путь входа в систему, а
and <code>print</code> покажет содержание пути входа в систему.</li>

<li><em><code>command_options</code></em> указывает на любые дополнительные
опции, определенные для команды, такие как путь входа в систему и значения,
чтобы использовать в пути входа в систему.</p></li></ul>

<p>Позиция названия команды в пределах набора параметров программы является
существенной. Например, эти командные строки имеют те же самые параметры, но
приводят к различным результатам:
<pre>
shell&gt; mysql_config_editor --help set
shell&gt; mysql_config_editor set --help
</pre>

Первая командная строка выводит на экран общее сообщение справки
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> и игнорирует команду <code>set</code>. Вторая командная
строка выводит на экран сообщение справки, определенное именно
для команды <code>set</code>.</p>

<p>Предположите, что Вы хотите установить путь входа в систему
<code>client</code>, который определяет Ваши параметры соединения по
умолчанию, и дополнительный путь входа в систему <code>remote</code>
для того, чтобы соединить с сервером MySQL хост
<code>remote.example.com</code>. Вы хотите войти в систему следующим образом:
</p>

<ul><li><p>По умолчанию в локальный сервер с именем пользователя и
паролем <code>localuser</code> и <code>localpass</code></li>
<li>К удаленному серверу с именем пользователя и
паролем <code>remoteuser</code> и <code>remotepass</code></p></li></ul>

<p>Чтобы настраивать пути входа в систему в файле
<code>.mylogin.cnf</code>, используйте следующие команды <code>set</code>.
Введите каждую команду в одну строку, и введите соответствующие пароли,
когда они запрошены:
<pre>
shell&gt; mysql_config_editor set --login-path=client
                --host=localhost --user=localuser --password
Enter password: <em><code>enter password "localpass" here</code></em>

shell&gt; mysql_config_editor set --login-path=remote
                --host=remote.example.com --user=remoteuser --password
Enter password: <em><code>enter password "remotepass" here</code></em>
</pre>

<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> использует путь входа в систему по умолчанию
<code>client</code>, таким образом, опция <code>--login-path=client</code>
может быть опущена в первой команде, не изменяя ее эффект.</p>

<p>Чтобы увидеть, что <a href="#mysql-config-editor"><span>
<strong>mysql_config_editor</strong></span></a> пишет в файл
<code>.mylogin.cnf</code>, используйте команду <code>print</code>:
<pre>
shell&gt; mysql_config_editor print --all
[client]
user = localuser
password = *****
host = localhost
[remote]
user = remoteuser
password = *****
host = remote.example.com
</pre>

Команда <code>print</code> выводит на экран каждый путь входа в систему как
ряд строк, начинающихся с группового заголовка, указывающего на путь входа в
систему в квадратных скобках, сопровождаемых значениями опции для пути входа
в систему. Значения пароля замаскированы и не появляются как открытый текст.
</p>

<p>Если Вы не определяете <code>--all</code>, чтобы вывести на экран все пути
входа в систему или <code>--login-path=<em><code>name</code></em></code>,
чтобы вывести на экран названный путь входа в систему, команда
<code>print</code> выводит на экран путь входа в систему по умолчанию
<code>client</code>, если он есть.</p>

<p>Как показано предыдущим примером, файл пути входа в систему может
содержать многократные пути входа в систему. Таким образом,
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> облегчает настройку многих
multiple <span><span>персонализаций</span></span> для того, чтобы соединиться
с различными серверами MySQL или для того, чтобы соединиться с данным
сервером, используя различные учетные записи. Любая из них может быть выбрана
по имени через опцию <code>--login-path</code>, когда Вы вызываете программу
клиента. Например, чтобы соединиться с удаленным сервером,
используйте эту команду:
<pre>
shell&gt; mysql --login-path=remote
</pre>

<a href="#mysql"><span><strong>mysql</strong></span></a>
читает группы опции <code>[client]</code> и <code>[mysql]</code> из
других файлов опции и группы <code>[client]</code>, <code>[mysql]</code> и
<code>[remote]</code> из файла пути входа в систему.</p>

<p>Чтобы соединиться с локальным сервером, используйте эту команду:
<pre>
shell&gt; mysql --login-path=client
</pre>

Так как <a href="#mysql"><span><strong>mysql</strong></span></a>
читает пути входа в систему по умолчанию <code>client</code> и
<code>mysql</code>, <a href="#option_general_login-path"><code>
--login-path</code></a> ничего не добавляет
в этом случае. Команда эквивалентна:
<pre>
shell&gt; mysql
</pre>

Опции, считанные из файла пути входа в систему, имеют приоритет перед
опциями, считанным из других файлов опции. Опции, считанные из групп пути
входа в систему, упомянутых позже в файле пути входа в систему, имеют
приоритет перед опциями из групп, приведенных ранее в файле.</p>

<p><a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a> добавляет пути входа в систему к
файлу пути входа в систему в том порядке, в каком Вы создаете их, таким
образом, Вы должны создать более общие пути входа в систему первыми, а более
определенные пути позже. Если Вы должны переместить путь входа в систему в
пределах файла, Вы можете удалить и пересоздать обновить его, чтобы добавить
ближе к концу файла.</p>

<p>Когда Вы используете команду <code>set</code> с
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, чтобы создать путь входа в систему, Вы не должны
определить все возможные значения опций (имя хоста, имя пользователя, пароль,
порт, сокет). Любые недостающие значения позже могут быть определены, когда
Вы вызываете путь клиента, чтобы соединиться с сервером MySQL, в других
файлах опции или в командной строке. Любые опции, определенные в командной
строке, переопределяют определенные в файле пути входа в систему или других
файлах опции. Например, если параметры пути входа в систему
<code>remote</code> также применимы к хосту <code>remote2.example.com</code>,
соединитесь с сервером на том хосте примерно так:
<pre>
shell&gt; mysql --login-path=remote --host=remote2.example.com
</pre>

<h4><a name="mysql-config-editor-command-options"></a>
Основные опции mysql_config_editor</h4>
<p><a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a> поддерживает следующие общие
параметры, которые могут использоваться, предшествуя любой команде,
названной в командной строке.
</p>

<a name="idm139965408320608"></a><p><b>Таблица 5.17.
Основные опции <code>mysql_config_editor</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row">
<a href="#option_mysql_config_editor_debug">--debug</a></td>
<td>Писать журнал отладки</td></tr>
<tr><td scope="row"><a href="#option_mysql_config_editor_help">
--help</a></td><td>Отобразить справочное сообщение</td></tr>
<tr><td scope="row"><a href="#option_mysql_config_editor_verbose">
--verbose</a></td><td>Подробный режим</td></tr>
<tr><td scope="row"><a href="#option_mysql_config_editor_version">
--version</a></td><td>Информация о версии</td></tr></tbody></table>

<ul><li><p><a name="option_mysql_config_editor_help"></a>
<a href="#option_mysql_config_editor_help"><code>--help</code>
</a>, <code>-?</code></p>
<p>Отобразить справочное сообщение.</p>

<p>Чтобы видеть определенное для команды сообщение справки, вызовите
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> вот так, здесь
<em><code>command</code></em> это любая команда, кроме <code>help</code>:
<pre>
shell&gt; mysql_config_editor <em><code>command</code></em> --help
</pre></li>

<li><a name="option_mysql_config_editor_debug"></a>
<a href="#option_mysql_config_editor_debug"><code>--debug[=<em>
<code>debug_options</code></em>]</code></a>,
<code>-# <em><code>debug_options</code></em></code></p>
<p>Писать журнал отладки. Типичная строка
<em><code>debug_options</code></em>:
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:o,/tmp/mysql_config_editor.trace</code>.</li>

<li><a name="option_mysql_config_editor_verbose"></a>
<a href="#option_mysql_config_editor_verbose"><code>
--verbose</code></a>, <code>-v</code></p>
<p>Подробный режим. Напечатайте больше информации о том, что делает
программа. Эта опция может быть полезной в диагностировании проблем, если
работа не будет иметь эффекта, который Вы ожидаете.</li>

<li><a name="option_mysql_config_editor_version"></a>
<a href="#option_mysql_config_editor_version"><code>
--version</code></a>, <code>-V</code></p>
<p>Информация о версии.</p></li></ul>

<h4><a name="mysql-config-editor-commands"></a>Команды и определенные для
команды опции mysql_config_editor</h4>
<p>Этот раздел описывает разрешенные команды
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> и, для каждой, определенные для команды опции
после названия команды в командной строке.</p>

<p>Кроме того, <a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a> поддерживает общие параметры, которые
могут использоваться, предшествуя любой команде.</p>

<p><a href="#mysql-config-editor"><span><strong>
mysql_config_editor</strong></span></a> поддерживает эти команды:</p>
<ul><li><p><code>help</code></p>
<p>Выведите на экран общее сообщение справки. Эта команда не
берет никаких опций.</p>

<p>Чтобы видеть определенное для команды сообщение справки, вызовите
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> так, здесь <em><code>command</code></em>
любая команда, кроме <code>help</code>:
<pre>
shell&gt; mysql_config_editor <em><code>command</code></em> --help
</pre></li>

<li><code>print [<em><code>options</code></em>]</code></p>
<p>Напечатайте содержание файла пути входа в систему в незашифрованной форме,
за исключением того, что пароли выведены на экран как <code>*****</code>.</p>

<p>Путь входа в систему по умолчанию <code>client</code>, если
никакой путь входа в систему не называют. Если обе опции <code>--all</code>
и <code>--login-path</code> заданы, <code>--all</code> имеет приоритет.</p>

<p><code>print</code> разрешает эти опции после названия команды:</p>
<ul><li><p><code>--help</code>, <code>-?</code></p>
<p>Выведите на экран сообщение справки для <code>print</code>.</p>

<p>Чтобы видеть общее сообщение справки, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
--help</strong></span></a>.</li>

<li><code>--all</code></p>
<p>Напечатайте содержание всех путей входа в систему в файле
пути входа в систему.</li>

<li><code>--login-path=<em><code>name</code></em></code>,
<code>-G <em><code>name</code></em></code></p>
<p>Напечатайте содержание названного пути входа в систему.</p></li></ul></li>

<li><p><code>remove [<em><code>options</code></em>]</code></p>
<p>Удалите путь входа в систему из файла пути входа в систему
или измените путь входа в систему, удаляя опции из него.</p>

<p>Эта команда удаляет из пути входа в систему
только такие опции, как определенные параметрами <code>--host</code>,
<code>--password</code>, <code>--port</code>, <code>--socket</code> и
<code>--user</code>. Если ни одна из тех опций не дана,
<code>remove</code> удаляет весь путь входа в систему. Например, эта команда
удаляет только <code>user</code> из пути входа в систему
<code>mypath</code>, а не весь путь <code>mypath</code>:
<pre>
shell&gt; mysql_config_editor remove --login-path=mypath --user
</pre>

Эта команда удаляет весь путь <code>mypath</code>:
<pre>
shell&gt; mysql_config_editor remove --login-path=mypath
</pre>

Команда <code>remove</code> разрешает эти опции после названия команды:</p>
<ul><li><p><code>--help</code>, <code>-?</code></p>
<p>Выведите на экран сообщение справки для <code>remove</code>.</p>

<p>Чтобы видеть общее сообщение справки, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
--help</strong></span></a>.</li>

<li><code>--host</code>, <code>-h</code></p>
<p>Удалите имя хоста из пути входа в систему.</li>
<li><code>--login-path=<em><code>name</code></em></code>,
<code>-G <em><code>name</code></em></code></p>
<p>Путь входа в систему, чтобы удалить или изменить. Путь входа в систему
по умолчанию <code>client</code>, если эта опция не дана.</li>

<li><code>--password</code>, <code>-p</code></p>
<p>Удалите пароль из пути входа в систему.</li>
<li><code>--port</code>, <code>-P</code></p>
<p>Удалите номер порта TCP/IP из пути входа в систему.</li>

<li><code>--socket</code>, <code>-S</code></p>
<p>Удалите имя файла сокета Unix из пути входа в систему.</li>
<li><code>--user</code>, <code>-u</code></p>
<p>Удалите имя пользователя из пути входа в систему.</li>

<li><code>--warn</code>, <code>-w</code></p>
<p>Предупредите и запросите подтверждение у пользователя,
если команда пытается удалить путь входа в систему по умолчанию
(<code>client</code>) и не указано <code>--login-path=client</code>.
Эта опция включена по умолчанию, надо использовать <code>--skip-warn</code>,
чтобы отключить это.</p></li></ul></li>

<li><p><code>reset [<em><code>options</code></em>]</code></p>
<p>Сбросьте содержание файла пути входа в систему.</p>
<p>Команда <code>reset</code> разрешает эти опции после названия команды:
</p>

<ul><li><p><code>--help</code>, <code>-?</code></p>
<p>Выведите на экран сообщение справки для <code>reset</code>.</p>
<p>Чтобы видеть общее сообщение справки, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
--help</strong></span></a>.</p></li></ul></li>

<li><p><code>set [<em><code>options</code></em>]</code></p>
<p>Допишите путь входа в систему к файлу пути входа в систему.</p>
<p>Эта команда пишет в пути входа в систему только такие опции, как
определены с параметрами <code>--host</code>, <code>--password</code>,
<code>--port</code>, <code>--socket</code> и <code>--user</code>.
Если ни одна из тех опций не дана,
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> пишет путь входа в систему как пустую группу.</p>

<p>Команда <code>set</code> разрешает эти опции после названия команды:</p>
<ul><li><p><code>--help</code>, <code>-?</code></p>
<p>Выведите на экран сообщение справки для <code>set</code>.</p>

<p>Чтобы видеть общее сообщение справки, используйте
<a href="#mysql-config-editor"><span><strong>
mysql_config_editor --help</strong></span></a>.</li>

<li><code>--host=<em><code>host_name</code></em></code>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Имя хоста, чтобы написать в пути входа в систему.</li>

<li><code>--login-path=<em><code>name</code></em></code>,
<code>-G <em><code>name</code></em></code></p>
<p>Путь входа в систему, чтобы создать. Путь входа в систему
по умолчанию <code>client</code>, если эта опция не дана.</li>

<li><code>--password</code>, <code>-p</code></p>
<p>Запрос пароля, чтобы написать в пути входа в систему. После того, как
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> выводит на экран подсказку, введите пароль и нажмите
Enter. Чтобы препятствовать тому, чтобы другие пользователи видели пароль
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a> не повторяет его.</p>

<p>Чтобы определить пустой пароль, нажмите Enter при подсказке пароля.
Получающийся путь входа в систему, написанный в файл пути входа в систему,
будет включать такую строку:
<pre>
password =
</pre></li>

<li><code>--port=<em><code>port_num</code></em></code>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы написать в пути входа в систему.</li>

<li><code>--socket=<em><code>file_name</code></em></code>,
<code>-S <em><code>file_name</code></em></code></p>
<p>Имя файла сокета Unix, чтобы написать в пути входа в систему.</li>

<li><code>--user=<em><code>user_name</code></em></code>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя, чтобы написать в пути входа в систему.</li>

<li><code>--warn</code>, <code>-w</code></p>
<p>Предупредите и запросите у пользователя подтверждение, если команда
пытается перезаписать существующий путь входа в систему. Эта опция включена
по умолчанию, надо использовать для выключения <code>--skip-warn</code>.
</p></li></ul></li></ul>

<h3><a name="mysqlbinlog"></a>5.6.8. <span><strong>mysqlbinlog</strong>
</span> утилита для обработки двоичных файлов системного журнала</h3>
<p>Двоичный журнал сервера состоит из файлов, содержащих
<span><span>события</span></span>, которые описывают модификации содержания
базы данных. Сервер пишет эти файлы в двоичном формате. Чтобы вывести на
экран их содержание в текстовом формате, используйте
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>. Вы можете также использовать
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>, чтобы вывести на экран содержание файлов системного журнала реле,
написанных ведомым сервером в установке репликации, потому что у журналов
реле есть тот же самый формат, как у двоичных журналов. Двоичный журнал и
журнал реле обсуждены далее в разделах
<a href="server.htm#binary-log">6.4.4</a> и
<a href="replica.htm#slave-logs">19.2.4</a>.</p>

<p>Вызов <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a>:
<pre>
shell&gt; mysqlbinlog [<em><code>options</code></em>] <em><code>log_file</code></em> ...
</pre>

Например, чтобы вывести на экран содержание двоичного файла системного
журнала <code>binlog.000003</code> надо:
<pre>
shell&gt; mysqlbinlog binlog.0000003
</pre>

Вывод включает события, содержавшиеся в <code>binlog.000003</code>.
Для основанного на запросе журналирования информация о событии включает
запрос SQL, идентификатор сервера, на котором это было выполнено, timestamp,
когда запрос было выполнено, сколько времени потребовалось и т.д.
Для основанного на строке журналирования событие указывает на изменение
строки, а не запрос SQL. См. <a href="replica.htm#replication-formats">
раздел 19.2.1</a>.</p>

<p>Событиям предшествуют комментарии заголовка, которые обеспечивают
дополнительную информацию. Например:
<pre>
# at 141
#100309  9:28:36 server id 123  end_log_pos 245
  Query thread_id=3350  exec_time=11  error_code=0
</pre>

В первой строке чисор после <code>at</code>
указывает на смещение файла или стартовую позицию события
в двоичном файле системного журнала.</p>

<p>Вторая строка начинается с даты и времени, указывая, когда запрос
запускался на сервере, где событие произошло. Для репликации этот timestamp
размножен к ведомым серверам. <code>server id</code> это
<a href="server.htm#sysvar_server_id"><code>server_id</code></a>
сервера, где событие произошло. <code>end_log_pos</code>
указывает, где следующее событие начинается (то есть, это позиция конца
текущего события + 1). <code>thread_id</code> указывает, какой поток запускал
событие. <code>exec_time</code> потраченное на выполнение время на главном
сервере. На ведомом устройстве это время конца выполнения на
ведомом устройстве минус время начала выполнения на ведущем устройстве.
Различие служит индикатором того, на сколько репликация отстает от ведущего
устройства. <code>error_code</code> указывает на результат выполнения
события. Ноль означает, что никакая ошибка не произошла.</p>

<p>Используя группы событий, смещения файла событий могут группироваться и
комментарии событий могут группироваться. Не принимайте эти сгруппированные
события за пустые смещения файла.</p>

<p>Вывод <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> может быть повторно выполнен (например, при
использовании этого как входа <a href="#mysql"><span><strong>
mysql</strong></span></a>), чтобы сделать заново запросы в журнале.
Это полезно для операций восстановления после катастрофического отказа
сервера. Для других примеров использования см. обсуждение позже в этом
разделе и в <a href="backup.htm#point-in-time-recovery">разделе 8.5</a>.</p>

<p>Обычно Вы используете <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a>, чтобы считать двоичные файлы системного
журнала непосредственно и применить их к местному серверу MySQL. Также
возможно считать двоичные журналы из удаленного сервера при использовании
опции <a href="#option_mysqlbinlog_read-from-remote-server">
<code>--read-from-remote-server</code></a>. Чтобы считать удаленные двоичные
журналы, опции параметра соединения могут быть даны, чтобы указать, как
соединиться с сервером. Это опции
<a href="#option_mysqlbinlog_host"><code>--host</code></a>,
<a href="#option_mysqlbinlog_password"><code>--password</code>
</a>, <a href="#option_mysqlbinlog_port"><code>--port</code></a>,
<a href="#option_mysqlbinlog_protocol"><code>--protocol</code>
</a>, <a href="#option_mysqlbinlog_socket"><code>--socket</code>
</a> и <a href="#option_mysqlbinlog_user"><code>--user</code>
</a>, они проигнорированы кроме тех случаев, когда Вы также используете
<a href="#option_mysqlbinlog_read-from-remote-server">
<code>--read-from-remote-server</code></a>.</p>

<p>Выполняя <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> для большого двоичного журнала, надо быть осторожным,
что у файловой системы есть достаточно пространства для получающихся файлов.
Чтобы сконфигурировать каталог для применения
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> для временных файлов, используйте переменную окружения <code>TMPDIR
</code>.</p>

<p><a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong>
</span></a> поддерживает следующие опции, которые могут быть определены в
командной строке или в группах <code>[mysqlbinlog]</code> и <code>[client]
</code> файла опции. Для информации о файлах опции, используемых программами
MySQL, см. <a href="#option-files">раздел 5.2.6</a>.</p>

<a name="idm139965408117776"></a><p><b>
Таблица 5.18. Опции <code>mysqlbinlog</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row">
<a href="#option_mysqlbinlog_base64-output">--base64-output</a>
</td><td>Напечатайте двоичные записи журнала, используя кодировку base-64
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_bind-address">
--bind-address</a></td><td>Используйте определенный сетевой интерфейс, чтобы
соединиться с MySQL Server</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_binlog-row-event-max-size">
--binlog-row-event-max-size</a></td>
<td>Максимальный размер событий двоичного журнала</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_character-sets-dir">
--character-sets-dir</a></td><td>Каталог, где наборы символов установлены
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_connection-server-id">
--connection-server-id</a></td><td>Используется для тестирования и отладки.
См. текст для применимых значений по умолчанию и других подробных сведений
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_database">
--database</a></td><td>Записи списка только для этой базы данных</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_debug">
--debug</a></td><td>Писать журнал ошибок</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_debug-check">
--debug-check</a></td><td>Информация об отладке, когда программа выходит
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_debug-info">
--debug-info</a></td><td>Информация об отладке, памяти и статистика
центрального процессора, когда программа выходит</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_default-auth">
--default-auth</a></td><td>Плагин аутентификации, чтобы использовать
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_defaults-extra-file">
--defaults-extra-file</a></td><td>Читать этот файл опции в дополнение к
обычным файлам опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_defaults-file">
--defaults-file</a></td><td>Читать только этот файл опции</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_defaults-group-suffix">
--defaults-group-suffix</a></td><td>Групповое значение суффикса опции
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_disable-log-bin">
--disable-log-bin</a></td><td>Отключите двоичное журналирование</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_exclude-gtids">
--exclude-gtids</a></td><td>Не показывайте группы в наборе GTID</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_force-if-open">
--force-if-open</a></td><td>Считайте двоичные файлы системного журнала даже
если они открыты или не закрыты должным образом</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_force-read">
--force-read</a></td><td>Если mysqlbinlog читает событие двоичного журнала,
которое он не понял, он печатает предупреждение</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_help">--help</a>
</td><td>Отобразить сообщение справки</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_hexdump">
--hexdump</a></td><td>Выведите на экран шестнадцатеричный
дамп журнала в комментариях</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_host">
--host</a></td><td>Соединитесь с сервером MySQL на данном хосте</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_idempotent">
--idempotent</a></td><td>Заставьте сервер использовать идемпотентный режим,
обрабатывая двоичные обновления журнала только от этого сеанса</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_include-gtids">
--include-gtids</a></td><td>Покажите только группы в обеспеченном наборе GTID
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_local-load">
--local-load</a></td><td>Подготовьте местные временные файлы к LOAD DATA
INFILE в указанном каталоге</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_login-path">
--login-path</a></td><td>Считайте опции пути входа в систему из .mylogin.cnf
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_no-defaults">
--no-defaults</a></td><td>Не читать файлы опций</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_offset">--offset
</a></td><td>Пропустите первые N записей в журнале</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_password">
--password</a></td><td>Пароль, чтобы использовать, соединяясь с сервером
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_plugin-dir">
--plugin-dir</a></td><td>Каталог, где плагины установлены</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_port">--port</a>
</td><td>Номер порта TCP/IP, чтобы использовать для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_print-defaults">
--print-defaults</a></td><td>Напечатайте опции по умолчанию</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_protocol">
--protocol</a></td><td>Протокол для соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_raw">--raw</a>
</td><td>Напишите события в сыром (двоичном) формате в выходные файлы
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_read-from-remote-master">
--read-from-remote-master</a></td><td>Считайте двоичный журнал с ведущего
устройства MySQL вместо того, чтобы читать местный файл системного журнала
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_read-from-remote-server">
--read-from-remote-server</a></td><td>Считайте двоичный журнал с сервера
MySQL, а не местный файл системного журнала</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_result-file">
--result-file</a></td><td>Прямой вывод к названному файлу</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_rewrite-db">
--rewrite-db</a></td><td>Создайте правила подстановки для баз данных,
воспроизводя от журналов, написанных в основанном на строке формате.
Может использоваться многократно.</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_secure-auth">
--secure-auth</a></td><td>Не посылайте пароли в сервер в
старом формате (pre-4.1)</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_server-id">
--server-id</a></td><td>Извлеките только события, создаваемые сервером,
имеющим данный идентификатор сервера</td></tr>
<tr><td scope="row">--server-id-bits</td><td>
Скажите mysqlbinlog, как интерпретировать server ID
в двоичном журнале, когда журнал был написан mysqld, у которого его
server-id-bits меньше, чем максимум, поддержано только версией
MySQL Cluster mysqlbinlog</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_set-charset">
--set-charset</a></td><td>Добавить SET NAMES charset_name в вывод</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_shared-memory-base-name">
--shared-memory-base-name</a></td><td>Название совместно используемой памяти,
чтобы использовать для соединений совместно используемой памяти</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_short-form">
--short-form</a></td><td>Выведите на экран только
запросы, содержавшиеся в журнале</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_skip-gtids">
--skip-gtids</a></td><td>Не печатайте GTID, используйте это при записи
файла дампа от двоичных журналов, содержащих GTID</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_socket">--socket
</a></td><td>Для соединений с localhost файл сокета Unix</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_ssl">--ssl-ca
</a></td><td>Путь к файлу, который содержит список доверенных SSL CA</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_ssl">
--ssl-capath</a></td><td>Путь к каталогу, который содержит доверенные
сертификаты SSL CA в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_ssl">
--ssl-cert</a></td><td>Путь к файлу, который содержит
сертификат X509 в формате PEM</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_ssl">
--ssl-cipher</a></td><td>Список разрешенных шифров, чтобы использовать
для шифрования соединения</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_ssl">
--ssl-crl</a></td><td>Путь к файлу, который содержит
списки аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_ssl">
--ssl-crlpath</a></td><td>Путь к каталогу, который содержит файлы
списка аннулирования сертификатов</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_ssl">
--ssl-key</a></td><td>Путь к файлу, который содержит ключ X509 в формате PEM
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_ssl">
--ssl-mode</a></td><td>Статус безопасности соединения с сервером</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_start-datetime">
--start-datetime</a></td><td>Считайте двоичный журнал с первого события
с timestamp, равным или позже, чем параметр datetime</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_start-position">
--start-position</a></td><td>Считайте двоичный журнал с первого события
с позицией, равной или больше, чем параметр</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_stop-datetime">
--stop-datetime</a></td><td>Прекратите читать двоичный журнал на первом
событии с timestamp, равным или больше, чем параметр datetime</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_stop-never">
--stop-never</a></td><td>Останьтесь соединенными с сервером после чтения
последнего двоичного файла системного журнала</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_stop-never-slave-server-id">
--stop-never-slave-server-id</a></td><td>Идентификатор ведомого сервера
</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_stop-position">
--stop-position</a></td><td>Прекратите читать двоичный журнал на первом
событии с позицией, равной или больше, чем параметр</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_tls-version">
--tls-version</a></td><td>Протоколы для безопасных соединений</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_to-last-log">
--to-last-log</a></td><td>Не останавливайтесь в конце требуемого двоичного
журнала с сервера MySQL, а продолжайте печать до конца
последнего двоичного журнала</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_user">--user</a>
</td><td>Имя пользователя MySQL</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_verbose">
--verbose</a></td><td>Восстановите события строки как запросы SQL</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_verify-binlog-checksum">
--verify-binlog-checksum</a></td><td>
Проверьте контрольные суммы в двоичном журнале</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_version">
--version</a></td><td>Отобразить информацию о версии</td>
</tr></tbody></table>

<ul><li><p><a name="option_mysqlbinlog_help"></a>
<a href="#option_mysqlbinlog_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_mysqlbinlog_base64-output"></a>
<a href="#option_mysqlbinlog_base64-output"><code>
--base64-output=<em><code>value</code></em></code></a></p>

<p>Эта опция определяет, что события должны быть выведены на экран
закодированные как base-64 с использованием
<a href="sql.htm#binlog"><code>BINLOG</code></a>.
У опции есть эти допустимые значения (нечувствительны к регистру):</p>

<ul><li><p><code>AUTO</code> ("automatic") или
<code>UNSPEC</code> ("unspecified") покажет запросы
<a href="sql.htm#binlog"><code>BINLOG</code></a> автоматически, когда
необходимо (то есть, для событий описания формата и событий строки).
Если нет опции <a href="#option_mysqlbinlog_base64-output"><code>
--base64-output</code></a>, эффект тот же самый, как
<a href="#option_mysqlbinlog_base64-output"><code>
--base64-output=AUTO</code></a>.</p>

<p>Автоматический <a href="sql.htm#binlog"><code>BINLOG</code></a>
единственное безопасное поведение, если Вы намереваетесь использовать вывод
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>, чтобы повторно выполнить содержание двоичного файла системного журнала.
Другие значения опции предназначены только для отладки или тестирования,
потому что они могут произвести вывод, который не включает все
события в выполнимой форме.</p></li>

<li><p><code>NEVER</code> предписывает не отображать запросы
<a href="sql.htm#binlog"><code>BINLOG</code></a>.
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> выходит с ошибкой, если найдено событие строки, которое должно быть
выведен на экран, используя <a href="sql.htm#binlog"><code>BINLOG</code></a>.
</li>

<li><code>DECODE-ROWS</code> определяет для
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>, что Вы намереваетесь расшифровать и вывести на экран события строки как
комментируемые запросы SQL, также определяя
<a href="#option_mysqlbinlog_verbose"><code>--verbose</code></a>.
Подобно <code>NEVER</code>, <code>DECODE-ROWS</code> подавляет показ
<a href="sql.htm#binlog"><code>BINLOG</code></a>, но в отличие от
<code>NEVER</code>, это не выходит с ошибкой, если найдено событие строки.
</p></li></ul>

<p>Для примеров, которые показывают эффект
<a href="#option_mysqlbinlog_base64-output"><code>--base64-output
</code></a> и <a href="#option_mysqlbinlog_verbose"><code>
--verbose</code></a> на вывод строки событий, см.
<a href="#mysqlbinlog-row-events">раздел 5.6.8.2</a>.</li>

<li><a name="option_mysqlbinlog_bind-address"></a>
<a href="#option_mysqlbinlog_bind-address"><code>
--bind-address=<em><code>ip_address</code></em></code></a></p>

<p>На компьютере, имеющем многократные сетевые интерфейсы, используйте эту
опцию, чтобы выбрать который интерфейс использовать для того, чтобы
соединиться с сервером MySQL.</li>

<li><a name="option_mysqlbinlog_binlog-row-event-max-size"></a>
<a href="#option_mysqlbinlog_binlog-row-event-max-size">
<code>--binlog-row-event-max-size=<em><code>N</code></em></code></a></p>

<table border="1">
<tbody><tr><td scope="row"><span><strong>Формат командной строки</strong>
</span></td><td colspan="3"><code>--binlog-row-event-max-size=#</code></td>
</tr>
<tr><td scope="row" rowspan="4"><span><strong>Допустимые значения</strong>
</span> (64-bit platforms)</td><td><span><strong>Тип</strong></span></td>
<td colspan="2"><code>numeric</code></td></tr>
<tr><td scope="row"><span><strong>Значение по умолчанию</strong></span></td>
<td colspan="2"><code>4294967040</code></td></tr>
<tr><td scope="row"><span><strong>Минимум</strong></span></td>
<td colspan="2"><code>256</code></td></tr>
<tr><td scope="row"><span><strong>Максимум</strong></span></td>
<td colspan="2"><code>18446744073709547520</code></td></tr></tbody></table>

<p>Определите максимальный размер основанного на строке двоичного события
журнала в байтах. Строки сгруппированы в события меньше, чем этот размер,
если возможно. Значение должно быть кратным 256. Значение по умолчанию 4GB.
</li>

<li><a name="option_mysqlbinlog_character-sets-dir"></a>
<a href="#option_mysqlbinlog_character-sets-dir"><code>
--character-sets-dir=<em><code>dir_name</code></em></code></a></p>
<p>Каталог, где наборы символов установлены. См.
<a href="global.htm#charset-configuration">раздел 11.5</a>.</li>

<li><a name="option_mysqlbinlog_connection-server-id"></a>
<a href="#option_mysqlbinlog_connection-server-id">
<code>--connection-server-id=<em><code>server_id</code></em></code></a></p>

<p>Эта опция используется, чтобы проверить сервер MySQL на поддержку
флага <code>BINLOG_DUMP_NON_BLOCK</code>, который был неосторожно удален в
MySQL 5.6.5 и восстановлен в MySQL 5.7.5 (Bug #18000079, Bug #71178).
Это не требуется для нормального функционирования.</p>

<p>Эффективное значение по умолчанию и минимальные значения для этой опции
зависят от того, выполнен ли <a href="#mysqlbinlog"><span>
<strong>mysqlbinlog</strong></span></a> в блочном режиме. Когда
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> выполнен в блочном режиме, значение по
умолчанию (и минимум) = 1, иначе 0.</li>

<li><a name="option_mysqlbinlog_database"></a>
<a href="#option_mysqlbinlog_database"><code>
--database=<em><code>db_name</code></em></code></a>,
<code>-d <em><code>db_name</code></em></code></p>

<p>Эта опция заставляет <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> выводить записи из двоичного журнала (только
местный журнал), которые происходят в то время, как
<em><code>db_name</code></em> выбрана как база данных по умолчанию
<a href="sql.htm#use"><code>USE</code></a>.</p>

<p><a href="#option_mysqlbinlog_database"><code>--database</code>
</a> подобна <a href="replica.htm#option_mysqld_binlog-do-db"><code>
--binlog-do-db</code></a> для <a href="#mysqld"><span><strong>
mysqld</strong></span></a>, но может использоваться, чтобы определить только
одну базу данных. Если <a href="#option_mysqlbinlog_database">
<code>--database</code></a> дана многократно, только
последний экземпляр используется.</p>

<p>Эффекты этой опции зависят от того, используется ли основанный
на запросе или на строке формат журналирования, таким же образом, как
<a href="replica.htm#option_mysqld_binlog-do-db"><code>--binlog-do-db</code>
</a> зависит от формата журналирования.</p>

<p><b>Основанное на запросе журналирование. </b>
<a href="#option_mysqlbinlog_database"><code>
--database</code></a> работает следующим образом:</p>

<ul><li><p>В то время, как <em><code>db_name</code></em> база данных
по умолчанию, запросы выведены, изменяют ли они таблицы в
<em><code>db_name</code></em> или в иной базе данных.</li>

<li>Если <em><code>db_name</code></em> выбрана как база данных
по умолчанию, запросы не выведены, даже если они изменяют
таблицы в <em><code>db_name</code></em>.</li>

<li>Есть исключение для <a href="sql.htm#create-database"><code>CREATE
DATABASE</code></a>, <a href="sql.htm#alter-database"><code>ALTER DATABASE
</code></a> и <a href="sql.htm#drop-database"><code>DROP DATABASE</code></a>.
База данных, создаваемая, измененная или удаленная является базой
данных по умолчанию, определяя, вывести ли запрос.</p></li></ul>

<p>Предположите, что двоичный журнал создавался, выполняя эти запросы,
используя журналирование на основе запроса:
<pre>
INSERT INTO test.t1 (i) VALUES(100);
INSERT INTO db2.t2 (j)  VALUES(200);
USE test;
INSERT INTO test.t1 (i) VALUES(101);
INSERT INTO t1 (i)VALUES(102);
INSERT INTO db2.t2 (j)  VALUES(201);
USE db2;
INSERT INTO test.t1 (i) VALUES(103);
INSERT INTO db2.t2 (j)  VALUES(202);
INSERT INTO t2 (j)VALUES(203);
</pre>

<a href="#mysqlbinlog"><span><strong>mysqlbinlog --database=test
</strong></span></a> не выводит первые два <a href="sql.htm#insert"><code>
INSERT</code></a>, потому что нет никакой базы данных по умолчанию.
Это выводит три <a href="sql.htm#insert"><code>INSERT</code></a> после
<a href="sql.htm#use"><code>USE test</code></a>, но не три
<a href="sql.htm#insert"><code>INSERT</code></a> после
<a href="sql.htm#use"><code>USE db2</code></a>.</p>

<p><a href="#mysqlbinlog"><span><strong>mysqlbinlog
--database=db2</strong></span></a> не выводит первые два
<a href="sql.htm#insert"><code>INSERT</code></a>, потому что нет никакой базы
данных по умолчанию. Это не выводит три <a href="sql.htm#insert"><code>INSERT
</code></a> после <a href="sql.htm#use"><code>USE test</code></a>, но выводит
три <a href="sql.htm#insert"><code>INSERT</code></a> после
<a href="sql.htm#use"><code>USE db2</code></a>.</p>

<p><b>Основанное на строке журналирование. </b>
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> выводит только записи, которые изменяют таблицы, принадлежащие
<em><code>db_name</code></em>. База данных по умолчанию не имеет никакого
значения. Предположите, что только что описанный двоичный журнал создавался,
используя основанное на строке журналирование.
<a href="#mysqlbinlog"><span><strong>mysqlbinlog
--database=test</strong></span></a> выводит только те записи, которые
изменяют <code>t1</code> в базе данных test, независимо от
<a href="sql.htm#use"><code>USE</code></a> и того,
какова база данных по умолчанию.</p>

<p>Если сервер работает с
<a href="replica.htm#sysvar_binlog_format"><code>binlog_format</code></a> =
<code>MIXED</code> и Вы хотите, чтобы было возможно использовать
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> с <a href="#option_mysqlbinlog_database">
<code>--database</code></a>, Вы должны гарантировать, что таблицы, которые
изменены, находятся в базе данных, выбранной <a href="sql.htm#use"><code>USE
</code></a>. В частности, никакие обновления между базами данных
не должны использоваться.</p>

<p>Когда используется вместе с
<a href="#option_mysqlbinlog_rewrite-db"><code>
--rewrite-db</code></a>, <code>--rewrite-db</code>
применена сначала, тогда the <code>--database</code> применена, используя
переписанное имя базы данных. Порядок, в котором предоставлены опции, не
имеет никакого значения в этом отношении.</li>

<li><a name="option_mysqlbinlog_debug"></a>
<a href="#option_mysqlbinlog_debug"><code>
--debug[=<em><code>debug_options</code></em>]</code></a>,
<code>-# [<em><code>debug_options</code></em>]</code></p>

<p>Писать журнал отладки. Типичная строка
<em><code>debug_options</code></em>
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:o,/tmp/mysqlbinlog.trace</code>.</li>

<li><a name="option_mysqlbinlog_debug-check"></a>
<a href="#option_mysqlbinlog_debug-check"><code>
--debug-check</code></a></p>
<p>Напечатайте некоторую информацию об отладке, когда программа выходит.</li>

<li><a name="option_mysqlbinlog_debug-info"></a>
<a href="#option_mysqlbinlog_debug-info"><code>
--debug-info</code></a></p>
<p>Информация об отладке, памяти и статистика использования центрального
процессора, когда программа выходит.</li>

<li><a name="option_mysqlbinlog_default-auth"></a>
<a href="#option_mysqlbinlog_default-auth"><code>
--default-auth=<em><code>plugin</code></em></code></a></p>
<p>Подсказка о клиентском плагине аутентификации, чтобы использовать. См.
See <a href="security.htm#pluggable-authentication">раздел 7.3.9</a>.</li>

<li><a name="option_mysqlbinlog_defaults-extra-file"></a>
<a href="#option_mysqlbinlog_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a></p>

<p>Считайте этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога,
если дано как относительный путь, а не полный.</li>

<li><a name="option_mysqlbinlog_defaults-file"></a>
<a href="#option_mysqlbinlog_defaults-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a></p>

<p>Используйте только данный файл опции. Если файл не существует или иначе
недоступен, ошибка происходит. <em><code>file_name</code></em>
интерпретируется относительно текущего каталога,
если дано как относительный путь, а не полный.</p>

<p>Исключение: Даже с опцией
<a href="#option_general_defaults-file"><code>
--defaults-file</code></a> программы клиента читают
<code>.mylogin.cnf</code>.</li>

<li><a name="option_mysqlbinlog_defaults-group-suffix"></a>
<a href="#option_mysqlbinlog_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>str</code></em></code></a></p>

<p>Считайте не только обычные группы опции, но также и группы с обычными
именами и суффиксом <em><code>str</code></em>. Например,
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> обычно читает группы <code>[client]</code> и <code>[mysqlbinlog]</code>.
Если дана опция <a href="#option_mysqlbinlog_defaults-group-suffix">
<code>--defaults-group-suffix=_other</code></a>,
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> также читает группы <code>[client_other]</code> и
<code>[mysqlbinlog_other]</code>.</li>

<li><a name="option_mysqlbinlog_disable-log-bin"></a>
<a href="#option_mysqlbinlog_disable-log-bin"><code>
--disable-log-bin</code></a>, <code>-D</code></p>

<p>Отключите двоичное журналирование. Это полезно для ухода от бесконечной
петли, если Вы используете
<a href="#option_mysqlbinlog_to-last-log"><code>--to-last-log
</code></a> и посылает вывод в тот же самый сервер MySQL. Эта опция также
полезна, восстанавливая после катастрофического отказа, чтобы избежать
дублирования запросов, которые Вы зарегистрировали.</p>

<p>Эта опция требует, чтобы Вы имели привилегию
<a href="security.htm#priv_super"><code>SUPER</code></a>.
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> добавит в вывод <code>SET sql_log_bin = 0</code>, чтобы отключить
двоичное журналирование остающегося вывода.
<a href="sql.htm#set-variable"><code>SET</code></a>
неэффективен, если Вы не имеете привилегии
<a href="security.htm#priv_super"><code>SUPER</code></a>.</li>

<li><a name="option_mysqlbinlog_exclude-gtids"></a>
<a href="#option_mysqlbinlog_exclude-gtids"><code>
--exclude-gtids=<em><code>gtid_set</code></em></code></a></p>
<p>Не выводите на экран ни одну из групп, перечисленных в
<em><code>gtid_set</code></em>.</li>

<li><a name="option_mysqlbinlog_force-if-open"></a>
<a href="#option_mysqlbinlog_force-if-open"><code>
--force-if-open</code></a>, <code>-F</code></p>
<p>Считайте двоичные файлы системного журнала, даже если они открыты или
не были закрыты должным образом.</li>

<li><a name="option_mysqlbinlog_force-read"></a>
<a href="#option_mysqlbinlog_force-read"><code>
--force-read</code></a>, <code>-f</code></p>

<p>Если <a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong>
</span></a> читает событие двоичного журнала, которое не понимает, то с этой
опцией, он печатает предупреждение, игнорирует событие и продолжает. Без этой
опции <a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong>
</span></a> останавливается, если читает такое событие.</li>

<li><a name="option_mysqlbinlog_hexdump"></a>
<a href="#option_mysqlbinlog_hexdump"><code>
--hexdump</code></a>, <code>-H</code></p>

<p>Выведите на экран шестнадцатеричный дамп журнала в комментариях, как
описано в <a href="#mysqlbinlog-hexdump">разделе 5.6.8.1</a>.
Это может быть полезным для отладки репликации.</li>

<li><a name="option_mysqlbinlog_host"></a>
<a href="#option_mysqlbinlog_host"><code>
--host=<em><code>host_name</code></em></code></a>,
<code>-h <em><code>host_name</code></em></code></p>
<p>Получите двоичный журнал от сервера MySQL на данном хосте.</li>

<li><a name="option_mysqlbinlog_idempotent"></a>
<a href="#option_mysqlbinlog_idempotent"><code>
--idempotent</code></a></p>

<p>Предписывает MySQL Server использовать идемпотентный режим, обрабатывая
обновления, это вызывает подавление любых ошибок duplicate-key или
key-not-found, с которыми сервер сталкивается в текущем сеансе, обрабатывая
обновления. Эта опция может оказаться полезной всякий раз, когда желательно
или необходимо переиграть один или более двоичных журналов MySQL Server,
который, возможно, не содержит все данные, к которым обращаются журналы.</p>

<p>Контекст эффекта для этой опции включает только текущий сеанс
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>.</li>

<li><a name="option_mysqlbinlog_include-gtids"></a>
<a href="#option_mysqlbinlog_include-gtids"><code>
--include-gtids=<em><code>gtid_set</code></em></code></a></p>
<p>Выведите на экран только группы, перечисленные в
<em><code>gtid_set</code></em>.</li>

<li><a name="option_mysqlbinlog_local-load"></a>
<a href="#option_mysqlbinlog_local-load"><code>
--local-load=<em><code>dir_name</code></em></code></a>,
<code>-l <em><code>dir_name</code></em></code></p>
<p>Подготовьте местные временные файлы в указанном каталоге к
<a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>.</p>

<p>Эти временные файлы автоматически не удалены
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> и никакой другой программой MySQL.</p></li>

<li><p><a name="option_mysqlbinlog_login-path"></a>
<a href="#option_mysqlbinlog_login-path"><code>
--login-path=<em><code>name</code></em></code></a></p>

<p>Считайте опции из названного пути входа в систему в
<code>.mylogin.cnf</code>. <span><span>login path</span></span>
является группой опции, содержащей опции, которые определяют, с каким
сервером MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см. <a href="#mysql-config-editor">раздел
5.6.7</a>.</li>

<li><a name="option_mysqlbinlog_no-defaults"></a>
<a href="#option_mysqlbinlog_no-defaults"><code>
--no-defaults</code></a></p>

<p>Не читайте файлы опции. Если запуск программы терпит неудачу из-за чтения
неизвестных опций от файла опции,
<a href="#option_mysqlbinlog_no-defaults"><code>--no-defaults
</code></a> может использоваться, чтобы препятствовать тому, чтобы
они были считаны.</p>

<p>Исключение: файл <code>.mylogin.cnf</code>, если это существует, считан во
всех случаях. Это разрешает паролям быть определенными более безопасным
способом чем в командной строке, даже когда задана опция
<a href="#option_mysqlbinlog_no-defaults"><code>--no-defaults
</code></a>. <code>.mylogin.cnf</code> создается
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см. <a href="#mysql-config-editor">раздел
5.6.7</a>.</li>

<li><a name="option_mysqlbinlog_offset"></a>
<a href="#option_mysqlbinlog_offset"><code>
--offset=<em><code>N</code></em></code></a>,
<code>-o <em><code>N</code></em></code></p>
<p>Пропустите первые <em><code>N</code></em> записей в журнале.</li>

<li><a name="option_mysqlbinlog_password"></a>
<a href="#option_mysqlbinlog_password"><code>
--password[=<em><code>password</code></em>]</code></a>,
<code>-p[<em><code>password</code></em>]</code></p>

<p>Пароль, чтобы использовать, соединяясь с сервером. Если Вы используете
короткую форму опции (<code>-p</code>), у Вас
<span><em>не может</em></span> быть пробелов между опцией и паролем.
Если Вы опускаете <em><code>password</code></em> после
<a href="#option_mysqlbinlog_password"><code>--password</code>
</a> или <code>-p</code> в командной строке,
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> спросит пароль явно.</p>

<p>Определение пароля в командной строке нужно считать опасным. См.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.
Вы можете использовать файл опции, чтобы избежать давать
пароль в командной строке.</li>

<li><a name="option_mysqlbinlog_plugin-dir"></a>
<a href="#option_mysqlbinlog_plugin-dir"><code>
--plugin-dir=<em><code>dir_name</code></em></code></a></p>

<p>Каталог, в котором можно искать плагины. Определите эту опцию, если
<a href="#option_mysqlbinlog_default-auth"><code>--default-auth
</code></a> используется, чтобы определить плагин аутентификации, но
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> его не нашел, см. <a href="security.htm#pluggable-authentication">раздел
7.3.9</a>.</li>

<li><a name="option_mysqlbinlog_port"></a>
<a href="#option_mysqlbinlog_port"><code>
--port=<em><code>port_num</code></em></code></a>,
<code>-P <em><code>port_num</code></em></code></p>
<p>Номер порта TCP/IP, чтобы использовать для того, чтобы
соединиться с удаленным сервером.</li>

<li><a name="option_mysqlbinlog_print-defaults"></a>
<a href="#option_mysqlbinlog_print-defaults"><code>
--print-defaults</code></a></p>
<p>Напечатайте название программы и все опции, которые это получает
от файлов опции.</li>

<li><a name="option_mysqlbinlog_protocol"></a>
<a href="#option_mysqlbinlog_protocol"><code>
--protocol={TCP|SOCKET|PIPE|MEMORY}</code></a></p>

<p>Протокол соединения, чтобы использовать, чтобы соединиться с сервером.
Полезно, когда другие параметры соединения обычно используют не тот протокол.
</li>

<li><a name="option_mysqlbinlog_raw"></a>
<a href="#option_mysqlbinlog_raw"><code>--raw</code></a></p>
<p>По умолчанию <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> читает двоичные файлы системного журнала и пишет события
в текстовом формате. <a href="#option_mysqlbinlog_raw"><code>
--raw</code></a> говорит <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> писать в их оригинальном двоичном формате.
Использование требует, чтобы
<a href="#option_mysqlbinlog_read-from-remote-server"><code>
--read-from-remote-server</code></a> также использовалась, потому что файлы
требуют от сервера. <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> пишет выходной файл для каждого файла,
считанного из сервера. <a href="#option_mysqlbinlog_raw"><code>
--raw</code></a> может использоваться, чтобы сделать резервное копирование
двоичного журнала сервера. С
<a href="#option_mysqlbinlog_stop-never"><code>--stop-never
</code></a> резервное копирование <span><span>живое</span></span>, поскольку
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> остается соединенным с сервером. По умолчанию выходные файлы написаны в
текущем каталоге с теми же самыми именами как оригинальные файлы системного
журнала. Выходные имена файла могут быть изменены, используя
<a href="#option_mysqlbinlog_result-file"><code>--result-file
</code></a>. См. <a href="#mysqlbinlog-backup">раздел 5.6.8.3
</a>.</li>

<li><a name="option_mysqlbinlog_read-from-remote-master"></a>
<a href="#option_mysqlbinlog_read-from-remote-master"><code>
--read-from-remote-master=<em><code>type</code></em></code></a></p>

<p>Считайте двоичные журналы из сервера MySQL с
<code>COM_BINLOG_DUMP</code> или <code>COM_BINLOG_DUMP_GTID</code>,
устанавливая опцию а <code>BINLOG-DUMP-NON-GTIDS</code> или
<code>BINLOG-DUMP-GTIDS</code>, соответственно. Если
<a href="#option_mysqlbinlog_read-from-remote-master"><code>
--read-from-remote-master=BINLOG-DUMP-GTIDS</code></a> объединена с
<a href="#option_mysqlbinlog_exclude-gtids"><code>--exclude-gtids
</code></a>, транзакции могут быть отфильтрованы на ведущем устройстве,
избегая ненужного сетевого трафика.</p></li>

<li><a name="option_mysqlbinlog_read-from-remote-server"></a>
<a href="#option_mysqlbinlog_read-from-remote-server"><code>
--read-from-remote-server</code></a>, <code>-R</code></p>

<p>Считайте двоичной журнал из сервера MySQL вместо того, чтобы читать
местный файл системного журнала. Любые опции параметра соединения
проигнорированы, если эта опция не дана также. Это опции
are <a href="#option_mysqlbinlog_host"><code>--host</code></a>,
<a href="#option_mysqlbinlog_password"><code>--password</code>
</a>, <a href="#option_mysqlbinlog_port"><code>--port</code></a>,
<a href="#option_mysqlbinlog_protocol"><code>--protocol</code>
</a>, <a href="#option_mysqlbinlog_socket"><code>--socket</code>
</a> и <a href="#option_mysqlbinlog_user"><code>--user</code>
</a>.</p>

<p>Эта опция требует, чтобы удаленный сервер работал. Это работает только
для двоичных файлов системного журнала на удаленном сервере, не файлов
системного журнала реле.</p>

<p>Эта опция походит на
<a href="#option_mysqlbinlog_read-from-remote-master"><code>
--read-from-remote-master=BINLOG-DUMP-NON-GTIDS</code></a>.</li>

<li><a name="option_mysqlbinlog_result-file"></a>
<a href="#option_mysqlbinlog_result-file"><code>
--result-file=<em><code>name</code></em></code></a>,
<code>-r <em><code>name</code></em></code></p>

<p>Без <a href="#option_mysqlbinlog_raw"><code>--raw</code></a>
эта опция указывает на файл, в который
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> пишет текстовый вывод. С <a href="#option_mysqlbinlog_raw">
<code>--raw</code></a> <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> пишет один файл двоичного вывода для каждого
файла системного журнала, переданного от сервера, по умолчанию в текущем
каталоге, используя те же самые имена как у оригинального файла системного
журнала. В этом случае <a href="#option_mysqlbinlog_result-file">
<code>--result-file</code></a> значение опции обработано как приставка,
которая изменяет выходные имена файла.</li>

<li><a name="option_mysqlbinlog_rewrite-db"></a>
<a href="#option_mysqlbinlog_rewrite-db"><code>
--rewrite-db='<em><code>from_name</code></em>-&gt;<em><code>to_name</code>
</em>'</code></a></p>

<p>Читая из основанного на строке или основанного на запросе журнала,
перепишите все возникновения <em><code>from_name</code></em> в
<em><code>to_name</code></em>. Перезапись сделана на строках, для основанных
на строке журналов, так же как в <a href="sql.htm#use"><code>USE</code></a>
для основанных на запросе журналов.</p>

<p>Запросы, в которых имена таблиц квалифицированы с именами базы данных, не
переписаны, чтобы использовать новое имя, используя эту опцию.</p>

<p>Правило подстановки, используемое как значение для этой опции, является
строкой, имеющей форму <code>'<em><code>from_name</code></em>-&gt;<em><code>
to_name</code></em>'</code>, как показано ранее, и по этой причине должно
быть экранировано кавычками.</p>

<p>Чтобы использовать многократные правила подстановки, определите опцию
многократно, как показано здесь:
<pre>
shell&gt; mysqlbinlog --rewrite-db='dbcurrent-&gt;dbold' \
                      --rewrite-db='dbtest-&gt;dbcurrent' \
                      binlog.00001 &gt; /tmp/statements.sql
</pre>

Когда используется вместе с
<a href="#option_mysqlbinlog_database"><code>--database</code>
</a>, <code>--rewrite-db</code> применена сначала, тогда
<code>--database</code> применена, используя переписанное имя базы данных.
Порядок, в котором предоставлены опции, не имеет никакого
значения в этом отношении.</p>

<p>Это означает, что, например, если
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> запущен с <code>--rewrite-db='mydb-&gt;yourdb' --database=yourdb</code>,
все обновления любых таблиц в базах данных <code>mydb</code> и
<code>yourdb</code> включены в вывод. С другой стороны, если это запущено с
<code>--rewrite-db='mydb-&gt;yourdb' --database=mydb</code>,
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> не выводит никакие запросы вообще: все обновления <code>mydb</code>
сначала переписаны как обновления <code>yourdb</code> прежде, чем применить
<code>--database</code>, в результате не остается никаких обновлений,
которые соответствуют <code>--database=mydb</code>.</li>

<li><a name="option_mysqlbinlog_secure-auth"></a>
<a href="#option_mysqlbinlog_secure-auth"><code>
--secure-auth</code></a></p>
<p>Не посылайте пароли в сервер в старом формате (pre-4.1).</p>
<p>Эта опция устарела и всегда включается, попытка выключения
(<a href="#option_mysqlbinlog_secure-auth"><code>
--skip-secure-auth</code></a>,
<a href="#option_mysqlbinlog_secure-auth"><code>
--secure-auth=0</code></a>) приводит к ошибке.</p></li>

<li><p><a name="option_mysqlbinlog_server-id"></a>
<a href="#option_mysqlbinlog_server-id"><code>
--server-id=<em><code>id</code></em></code></a></p>
<p>Выведите только те события, создаваемые сервером, которые имеют
этот server ID.</li>

<li><a name="option_mysqlbinlog_set-charset"></a>
<a href="#option_mysqlbinlog_set-charset"><code>
--set-charset=<em><code>charset_name</code></em></code></a></p>

<p>Добавить <a href="sql.htm#set-names"><code>SET NAMES
<em><code>charset_name</code></em></code></a> в вывод, чтобы определить набор
символов, который будет использоваться для того, чтобы обработать
файлы системного журнала.</li>

<li><a name="option_mysqlbinlog_shared-memory-base-name"></a>
<a href="#option_mysqlbinlog_shared-memory-base-name"><code>
--shared-memory-base-name=<em><code>name</code></em></code></a></p>

<p>В Windows имя совместно используемой памяти для соединений, сделанных,
используя совместно используемую память для локального сервера.
Значение по умолчанию <code>MYSQL</code>. Имя совместно используемой памяти
является чувствительным к регистру.</p>

<p>Сервер должен быть запущен с
<a href="server.htm#option_mysqld_shared-memory"><code>--shared-memory</code>
</a>.</li>

<li><a name="option_mysqlbinlog_short-form"></a>
<a href="#option_mysqlbinlog_short-form"><code>
--short-form</code></a>, <code>-s</code>
</p>

<p>Выведите только запросы, содержавшиеся в журнале, без любой дополнительной
информации или основанных на строке событий. Это для того, чтобы только
проверить и не должно использоваться в производственных системах.</li>

<li><a name="option_mysqlbinlog_skip-gtids"></a>
<a href="#option_mysqlbinlog_skip-gtids"><code>
--skip-gtids[=(true|false)]</code></a></p>

<p>Не выводите GTID. Это необходимо при записи в файл
дампа от одного или более двоичных журналов, содержащих GTID,
как показано в этом примере:
<pre>
shell&gt; mysqlbinlog --skip-gtids binlog.000001 &gt;  /tmp/dump.sql
shell&gt; mysqlbinlog --skip-gtids binlog.000002 &gt;&gt; /tmp/dump.sql
shell&gt; mysql -u root -p -e "source /tmp/dump.sql"
</pre>
Использование этой опции иначе обычно не рекомендуется в производстве.</li>

<li><a name="option_mysqlbinlog_socket"></a>
<a href="#option_mysqlbinlog_socket"><code>
--socket=<em><code>path</code></em></code></a>,
<code>-S <em><code>path</code></em></code></p>
<p>Для соединений с <code>localhost</code> файл сокета Unix, в Windows
название именованного канала.</li>

<li><a name="option_mysqlbinlog_ssl"></a>
<code>--ssl*</code></p>
<p>Опции, которые начинаются с
<a href="security.htm#option_general_ssl"><code>--ssl</code></a>,
определяют, соединиться ли с сервером, используя SSL, и указывают, где найти
ключи SSL и сертификаты, см.
<a href="security.htm#secure-connection-options">раздел 7.4.5</a>.</li>

<li><a name="option_mysqlbinlog_start-datetime"></a>
<a href="#option_mysqlbinlog_start-datetime"><code>
--start-datetime=<em><code>datetime</code></em></code></a></p>

<p>Начните читать двоичной журнал на первом событии, имеющем timestamp равное
или позже, чем <em><code>datetime</code></em>. Значение
<em><code>datetime</code></em> относительно зоны местного времени на машине,
где Вы выполняете <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a>. Значение должно быть в формате, принятом для
типов <a href="types.htm#datetime"><code>DATETIME</code></a> или
<a href="types.htm#datetime"><code>TIMESTAMP</code></a>:
<pre>
shell&gt; mysqlbinlog --start-datetime="2005-12-25 11:25:56" binlog.000003
</pre>
Эта опция полезна для восстановления момента времени. См.
<a href="backup.htm#backup-strategy-example">раздел 8.3</a>.</li>

<li><a name="option_mysqlbinlog_start-position"></a>
<a href="#option_mysqlbinlog_start-position"><code>
--start-position=<em><code>N</code></em></code></a>,
<code>-j <em><code>N</code></em></code></p>

<p>Начните читать двоичной журнал на первом событии, имеющем позицию,
равную или больше, чем <em><code>N</code></em>. Эта опция относится к первому
файлу системного журнала, названному в командной строке.</p>
<p>Эта опция полезна для восстановления момента времени. См.
<a href="backup.htm#backup-strategy-example">раздел 8.3</a>.</li>

<li><a name="option_mysqlbinlog_stop-datetime"></a>
<a href="#option_mysqlbinlog_stop-datetime"><code>
--stop-datetime=<em><code>datetime</code></em></code></a></p>

<p>Прекратите читать двоичной журнал на первом событии, имеющем timestamp
равное или позже, чем <em><code>datetime</code></em>.
Эта опция полезна для восстановления момента времени. См. описание
<a href="#option_mysqlbinlog_start-datetime"><code>
--start-datetime</code></a>.</p>
<p>Эта опция полезна для восстановления момента времени. См.
<a href="backup.htm#backup-strategy-example">раздел 8.3</a>.</li>

<li><a name="option_mysqlbinlog_stop-never"></a>
<a href="#option_mysqlbinlog_stop-never"><code>--stop-never
</code></a></p>

<p>Эта опция используется с
<a href="#option_mysqlbinlog_read-from-remote-server"><code>
--read-from-remote-server</code></a>. Это говорит
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> оставаться соединенным с сервером. Иначе
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> выходит, когда последний файл системного журнала был передан от сервера.
<a href="#option_mysqlbinlog_stop-never"><code>--stop-never
</code></a> подразумевает <a href="#option_mysqlbinlog_to-last-log">
<code>--to-last-log</code></a>, так что только первый файл системного журнала,
который передается, должен быть названным в командной строке.</p>

<p><a href="#option_mysqlbinlog_stop-never"><code>--stop-never
</code></a> обычно используется с
<a href="#option_mysqlbinlog_raw"><code>--raw</code></a>, чтобы
сделать живое двоичное резервное копирование журнала, но также может
использоваться и без <a href="#option_mysqlbinlog_raw"><code>
--raw</code></a>, чтобы поддержать непрерывное текстовое
отображение событий журнала.</li>

<li><a name="option_mysqlbinlog_stop-never-slave-server-id"></a>
<a href="#option_mysqlbinlog_stop-never-slave-server-id">
<code>--stop-never-slave-server-id=<em><code>id</code></em></code></a></p>

<p>С <a href="#option_mysqlbinlog_stop-never"><code>--stop-never
</code></a> <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> сообщает о server ID = 65535, когда он соединяется с
сервером. <a href="#option_mysqlbinlog_stop-never-slave-server-id">
<code>--stop-never-slave-server-id</code></a>
явно определяет идентификатор сервера. Это может использоваться, чтобы
избежать конфликта с ID ведомого сервера или другого процесса
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>, см. <a href="#mysqlbinlog-server-id">раздел 5.6.8.4</a>.
</li>

<li><a name="option_mysqlbinlog_stop-position"></a>
<a href="#option_mysqlbinlog_stop-position"><code>
--stop-position=<em><code>N</code></em></code></a></p>

<p>Прекратите читать двоичной журнал на первом событии, имеющем позицию,
равную или больше, чем <em><code>N</code></em>. Эта опция относится к
последнему файлу системного журнала, названному в командной строке.</p>
<p>Эта опция полезна для восстановления момента времени. См.
<a href="backup.htm#backup-strategy-example">раздел 8.3</a>.</li>

<li><a name="option_mysqlbinlog_tls-version"></a>
<a href="#option_mysqlbinlog_tls-version"><code>
--tls-version=<em><code>protocol_list</code></em></code></a></p>

<p>Протоколы, разрешенные клиентом для зашифрованных соединений.
Значение: список разделенных запятой значений, содержащий одно или более имен
протокола. Протоколы, которые могут быть названы по имени в этой опции,
зависят от библиотеки SSL, использовавшейся, чтобы собрать MySQL. Для деталей
см. <a href="security.htm#secure-connection-protocols-ciphers">раздел 7.4.3
</a>.</li>

<li><a name="option_mysqlbinlog_to-last-log"></a>
<a href="#option_mysqlbinlog_to-last-log"><code>
--to-last-log</code></a>, <code>-t</code></p>

<p>Не останавливайтесь в конце требуемого двоичного журнала от сервера MySQL,
а продолжайте печатать до конца последнего двоичного журнала. Если Вы
посылаете вывод в тот же самый сервер MySQL, это может привести к бесконечной
петле. Эта опция требует
<a href="#option_mysqlbinlog_read-from-remote-server"><code>
--read-from-remote-server</code></a>.</li>

<li><a name="option_mysqlbinlog_user"></a>
<a href="#option_mysqlbinlog_user"><code>--user=<em><code>
user_name</code></em></code></a>,
<code>-u <em><code>user_name</code></em></code></p>
<p>Имя пользователя MySQL, чтобы использовать,
соединяясь с удаленным сервером.</li>

<li><a name="option_mysqlbinlog_verbose"></a>
<a href="#option_mysqlbinlog_verbose"><code>--verbose</code></a>,
<code>-v</code></p>

<p>Восстановите события строки и выведите их на экран
как комментирующийся запрос SQL. Если эта опция дана дважды
("-vv" или "--verbose --verbose"), вывод включает комментарии, чтобы указать
на типы данных столбца и некоторые метаданные, а также события
журнала запроса строки.</p>

<p>Для примеров, которые показывают эффект
<a href="#option_mysqlbinlog_base64-output"><code>--base64-output
</code></a> и <a href="#option_mysqlbinlog_verbose"><code>
--verbose</code></a> на выводе событий строки, см.
<a href="#mysqlbinlog-row-events">раздел 5.6.8.2</a>.</li>

<li><a name="option_mysqlbinlog_verify-binlog-checksum"></a>
<a href="#option_mysqlbinlog_verify-binlog-checksum"><code>
--verify-binlog-checksum</code></a>, <code>-c</code></p>
<p>Проверьте контрольные суммы в двоичных файлах системного журнала.</li>

<li><a name="option_mysqlbinlog_version"></a>
<a href="#option_mysqlbinlog_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Показать информацию о версии.</p>
<p>Номер версии <a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong>
</span></a>, показанный, используя эту опцию, 3.4.</p></li></ul>

<p>Вы можете также установить следующую переменную при использовании
<code>--<em><code>var_name</code></em>=<em><code>value</code></em></code>:
</p>

<ul><li><p><a name="option_mysqlbinlog_open_files_limit"></a>
<code>open_files_limit</code></p>
<p>Определите число открытых описателей файла.</p></li></ul>

<p>Вы можете передать вывод <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> по каналу в
<a href="#mysql"><span><strong>mysql</strong></span></a>, чтобы
запустить события, содержавшиеся в двоичном журнале. Этот метод используется,
чтобы восстановиться от катастрофического отказа, когда у Вас есть старая
резервная копия (см. <a href="backup.htm#point-in-time-recovery">раздел 8.5
</a>):
<pre>
shell&gt; mysqlbinlog binlog.000001 | mysql -u root -p
</pre>

Или:
<pre>
shell&gt; mysqlbinlog binlog.[0-9]* | mysql -u root -p
</pre>

Если запросы, произведенные <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a>, могут содержать значения
<a href="types.htm#blob"><code>BLOB</code></a>,
они могут вызвать проблемы, когда <a href="#mysql"><span><strong>
mysql</strong></span></a> их обрабатывает. В этом случае вызовите
<a href="#mysql"><span><strong>mysql</strong></span></a> с
опцией <a href="#option_mysql_binary-mode"><code>--binary-mode
</code></a>.</p>

<p>Вы можете также перенаправить вывод <a href="#mysqlbinlog">
<span><strong>mysqlbinlog</strong></span></a>
к текстовому файлу вместо этого, если Вы должны изменить запросы сначала
(например, чтобы удалить запросы, которые Вы не хотите выполнять по некоторым
причинам). После редактирования файла, выполните запросы при использовании
этого как входного потока <a href="#mysql"><span><strong>mysql
</strong></span></a>:
<pre>
shell&gt; mysqlbinlog binlog.000001 &gt; tmpfile
shell&gt; ... <em><code>edit tmpfile</code></em> ...
shell&gt; mysql -u root -p &lt; tmpfile
</pre>

Когда <a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong>
</span></a> вызван с <a href="#option_mysqlbinlog_start-position">
<code>--start-position</code></a>, это выводит на экран только события со
смещением в двоичном журнале больше чем или равным данной позиции (данная
позиция должна соответствовать началу одного события).
Также есть опции, чтобы остановиться и запуститься, когда это видит
событие с данной датой и временем. Это позволяет Вам выполнить восстановление
момента времени, используя
<a href="#option_mysqlbinlog_stop-datetime"><code>--stop-datetime
</code></a> (чтобы быть в состоянии сказать, например,
<span><span>продвинуть вперёд мои базы данных к тому состоянию, в каком они
были сегодня в 10:30 a.m.</span></span>).</p>

<p>Если у Вас есть больше, чем один двоичной журнал, чтобы выполнить на
сервере MySQL, безопасный метод должен обработать их все с использованием
единственного соединения с сервером. Вот пример, который демонстрирует то,
что может быть <span><em>опасно</em></span>:
<pre>
shell&gt; mysqlbinlog binlog.000001 | mysql -u root -p # DANGER!!
shell&gt; mysqlbinlog binlog.000002 | mysql -u root -p # DANGER!!
</pre>

Обработка двоичных журналов этим способом использует много соединений
и создает проблему, если первый файл системного журнала содержит
<a href="sql.htm#create-table"><code>CREATE TEMPORARY TABLE</code></a>, а
второй содержит запрос, которое использует временную таблицу.
Когда первый процесс <a href="#mysql"><span><strong>mysql
</strong></span></a> заканчивается, сервер удаляет
временную таблицу. Когда второй процесс <a href="#mysql"><span>
<strong>mysql</strong></span></a> пытается использовать таблицу, сервер
сообщает <span><span>unknown table</span></span>.</p>

<p>Чтобы избежать проблем, используйте <span><em>один процесс</em></span>
<a href="#mysql"><span><strong>mysql</strong></span></a>, чтобы
выполнить содержание всех двоичных журналов, которые Вы хотите обработать.
Вот один способ сделать так:
<pre>
shell&gt; mysqlbinlog binlog.000001 binlog.000002 | mysql -u root -p
</pre>

Другой подход должен написать все журналы в один файл и
затем обработать файл:
<pre>
shell&gt; mysqlbinlog binlog.000001 &gt;  /tmp/statements.sql
shell&gt; mysqlbinlog binlog.000002 &gt;&gt; /tmp/statements.sql
shell&gt; mysql -u root -p -e "source /tmp/statements.sql"
</pre>

<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> может произвести вывод, который воспроизводит
<a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>
без оригинального файла с данными.
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> копирует данные к временному файлу и пишет <a href="sql.htm#load-data">
<code>LOAD DATA LOCAL INFILE</code></a>, который относится к файлу.
Местоположение каталога по умолчанию, где эти файлы написаны, является
определенным для системы. Чтобы определить каталог явно, используйте
<a href="#option_mysqlbinlog_local-load"><code>--local-load
</code></a>.</p>

<p>Так как <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> преобразовывает
<a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a> в
<a href="sql.htm#load-data"><code>LOAD DATA LOCAL INFILE</code></a>
(то есть, добавляет <code>LOCAL</code>), клиент и сервер, который Вы
используете, чтобы обработать запросы, должны быть сконфигурированы с
включенной поддержкой <code>LOCAL</code>, см.
<a href="security.htm#load-data-local">раздел 7.1.6</a>.</p>

<p>Временные файлы, создаваемые для
<a href="sql.htm#load-data"><code>LOAD DATA LOCAL</code></a>,
<span><em>не</em></span> удалены автоматически, потому что они необходимы,
пока Вы фактически не выполняете те запросы. Вы должны удалить временные
файлы самостоятельно после того, как Вы больше не нуждаетесь в журнале.
Файлы могут быть найдены во временном каталоге и иметь имена вроде
<em><code>original_file_name-#-#</code></em>.</p>

<h4><a name="mysqlbinlog-hexdump"></a>5.6.8.1. Формат шестнадцатеричного
дампа mysqlbinlog</h4>
<p><a href="#option_mysqlbinlog_hexdump"><code>--hexdump</code>
</a> предписывает <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> производить шестнадцатеричный дамп
содержания двоичного журнала:
<pre>
shell&gt; mysqlbinlog --hexdump master-bin.000001
</pre>

Шестнадцатеричный вывод состоит из строк, начинающихся с комментария
<code>#</code>, таким образом, вывод мог бы быть похожим на это
для предыдущей команды:
<pre>
/*!40019 SET @@session.max_insert_delayed_threads=0*/;
/*!50003 SET @OLD_COMPLETION_TYPE=@@COMPLETION_TYPE,COMPLETION_TYPE=0*/;
# at 4
#051024 17:24:13 server id 1  end_log_pos 98
# Position  Timestamp   Type   Master ID SizeMaster PosFlags
# 00000004 9d fc 5c 43   0f   01 00 00 00   5e 00 00 00   62 00 00 00   00 00
# 00000017 04 00 35 2e 30 2e 31 35  2d 64 65 62 75 67 2d 6c |..5.0.15.debug.l|
# 00000027 6f 67 00 00 00 00 00 00  00 00 00 00 00 00 00 00 |og..............|
# 00000037 00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00 |................|
# 00000047 00 00 00 00 9d fc 5c 43  13 38 0d 00 08 00 12 00 |.......C.8......|
# 00000057 04 04 04 04 12 00 00 4b  00 04 1a|.......K...|
# Start: binlog v 4, server v 5.0.15-debug-log created 051024 17:24:13
# at startup
ROLLBACK;
</pre>

Вывод дампа в настоящее время содержит элементы в следующем списке.
Этот формат подвержен изменениям. Для получения дополнительной информации о
двоичном формате журнала см.
<a href="../../../dev.mysql.com/doc/internals/en/binary-log.htm" target="_top">
MySQL Internals: The Binary Log</a>.</p>

<ul><li><p><code>Position</code>: Позиция байта в пределах
файла системного журнала.</li>
<li><code>Timestamp</code>: timestamp события. В показанном примере
<code>'9d fc 5c 43'</code> шестнадцатеричное представление <code>'051024
17:24:13'</code>.</li>

<li><code>Type</code>: Код типа событий. В показанном примере
<code>'0f'</code> означает <code>FORMAT_DESCRIPTION_EVENT</code>.
Следующая таблица приводит возможные коды типа.</p>

<table border="1">
<thead><tr><th scope="col">Тип</th><th scope="col">Имя</th>
<th scope="col">Смысл</th></tr></thead>
<tbody><tr><td scope="row"><code>00</code></td><td><code>UNKNOWN_EVENT</code>
</td><td>Это событие никогда не должно присутствовать в журнале</td></tr>
<tr><td scope="row"><code>01</code></td><td><code>START_EVENT_V3</code></td>
<td>Это указывает на начало файла системного журнала, написанного
MySQL 4 или ранее</td></tr>
<tr><td scope="row"><code>02</code></td><td><code>QUERY_EVENT</code></td><td>
Наиболее распространенный тип событий. Они содержат запросы, выполненные
на ведущем устройстве</td></tr>
<tr><td scope="row"><code>03</code></td><td><code>STOP_EVENT</code></td><td>
Указывает, что ведущее устройство остановилось</td></tr>
<tr><td scope="row"><code>04</code></td><td><code>ROTATE_EVENT</code></td>
<td>Записан, когда ведущее устройство переключается на новый
файл системного журнала</td></tr>
<tr><td scope="row"><code>05</code></td><td><code>INTVAR_EVENT</code></td>
<td>Применяется для значений <code>AUTO_INCREMENT</code> или функция
<a href="funct.htm#function_last-insert-id"><code>LAST_INSERT_ID()</code></a>
используется в текущем запросе</td></tr>
<tr><td scope="row"><code>06</code></td><td><code>LOAD_EVENT</code></td><td>
Применяется для <a href="sql.htm#load-data"><code>LOAD DATA
INFILE</code></a> в MySQL 3.23</td></tr>
<tr><td scope="row"><code>07</code></td><td><code>SLAVE_EVENT</code></td><td>
Зарезервировано на будущее</td></tr>
<tr><td scope="row"><code>08</code></td><td><code>CREATE_FILE_EVENT</code>
</td><td>Применяется для <a href="sql.htm#load-data"><code>LOAD DATA
INFILE</code></a>. Это указывает на запуск выполнения такого запроса.
Временный файл создается на ведомом устройстве. Используемый только в MySQL 4
</td></tr>
<tr><td scope="row"><code>09</code></td><td><code>APPEND_BLOCK_EVENT</code>
</td><td>Содержит данные для использования в
<a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>.
Данные хранятся во временном файле на ведомом устройстве</td></tr>
<tr><td scope="row"><code>0a</code></td><td><code>EXEC_LOAD_EVENT</code></td>
<td>Применяется для <a href="sql.htm#load-data"><code>LOAD DATA
INFILE</code></a>. Содержание временного файла сохранено в таблице на
ведомом устройстве. Используемый только в MySQL 4</td></tr>
<tr><td scope="row"><code>0b</code></td><td><code>DELETE_FILE_EVENT</code>
</td><td>Отмена <a href="sql.htm#load-data"><code>LOAD DATA INFILE</code></a>.
Временный файл должен быть удален на ведомом устройстве</td></tr>
<tr><td scope="row"><code>0c</code></td><td><code>NEW_LOAD_EVENT</code></td>
<td>Применяется для <a href="sql.htm#load-data"><code>LOAD DATA
INFILE</code></a> в MySQL 4 и ранее</td></tr>
<tr><td scope="row"><code>0d</code></td><td><code>RAND_EVENT</code></td><td>
Используемый, чтобы послать информацию о случайных значениях, если в запросе
применяется функция <a href="funct.htm#function_rand"><code>RAND()</code></a>
</td></tr>
<tr><td scope="row"><code>0e</code></td><td><code>USER_VAR_EVENT</code></td>
<td>Используемый, чтобы копировать пользовательские переменные</td></tr>
<tr><td scope="row"><code>0f</code></td><td><code>FORMAT_DESCRIPTION_EVENT
</code></td><td>Это указывает на запуск файла системного журнала, написанного
MySQL 5 или позже</td></tr>
<tr><td scope="row"><code>10</code></td><td><code>XID_EVENT</code></td>
<td>Событие commit для транзакции XA</td></tr>
<tr><td scope="row"><code>11</code></td><td><code>BEGIN_LOAD_QUERY_EVENT
</code></td><td>Применяется для <a href="sql.htm#load-data"><code>LOAD DATA
INFILE</code></a> в MySQL 5 или позже</td></tr>
<tr><td scope="row"><code>12</code></td><td><code>EXECUTE_LOAD_QUERY_EVENT
</code></td><td>Применяется для <a href="sql.htm#load-data"><code>LOAD DATA
INFILE</code></a> в MySQL 5 или позже</td></tr>
<tr><td scope="row"><code>13</code></td><td><code>TABLE_MAP_EVENT</code></td>
<td>Информация о табличном определении. Используется в MySQL 5.1.5 и позже
</td></tr>
<tr><td scope="row"><code>14</code></td><td><code>PRE_GA_WRITE_ROWS_EVENT
</code></td><td>Данные о строке для единственной таблицы, которая
должна быть составлена. Используемый в MySQL 5.1.5-5.1.17</td></tr>
<tr><td scope="row"><code>15</code></td><td><code>PRE_GA_UPDATE_ROWS_EVENT
</code></td><td>Данные о строке для единственной таблицы, которая
должна быть обновлена. Используемый в MySQL 5.1.5-5.1.17</td></tr>
<tr><td scope="row"><code>16</code></td><td><code>PRE_GA_DELETE_ROWS_EVENT
</code></td><td>Данные о строке для единственной таблицы, которая
должна быть удалена. Используемый в MySQL 5.1.5-5.1.17</td></tr>
<tr><td scope="row"><code>17</code></td><td><code>WRITE_ROWS_EVENT</code>
</td><td>Данные о строке для единственной таблицы, которая
должна быть составлена. Используемый в MySQL 5.1.18 и позже</td></tr>
<tr><td scope="row"><code>18</code></td><td><code>UPDATE_ROWS_EVENT</code>
</td><td>Данные о строке для единственной таблицы, которая
должна быть обновлена. Используемый в 5.1.18 и позже</td></tr>
<tr><td scope="row"><code>19</code></td><td><code>DELETE_ROWS_EVENT</code>
</td><td>Данные о строке для единственной таблицы, которая
должна быть удалена. Используемый в MySQL 5.1.18 и позже</td></tr>
<tr><td scope="row"><code>1a</code></td><td><code>INCIDENT_EVENT</code></td>
<td>Что-то необычное произошло. Добавлен в MySQL 5.1.18
</td></tr></tbody></table></li>

<li><p><code>Master ID</code>: ID сервера ведущего устройства,
которое создало событие.</li>
<li><code>Size</code>: Размер события в байтах.</li>

<li><code>Master Pos</code>: Позиция следующего события
в оригинальном основном файле системного журнала.</li>
<li><code>Flags</code>: 16 флагов. Следующие флаги используются.
Другие сохранены для будущего использования.</p>

<table border="1">
<thead><tr><th scope="col">Флаг</th><th scope="col">Имя</th>
<th scope="col">Смысл</th></tr></thead>
<tbody><tr><td scope="row"><code>01</code></td>
<td><code>LOG_EVENT_BINLOG_IN_USE_F</code></td>
<td>Файл системного журнала правильно закрылся. Используется только в
<code>FORMAT_DESCRIPTION_EVENT</code>. Если этот флаг установлен (если флаги,
например, <code>'01 00'</code>) в <code>FORMAT_DESCRIPTION_EVENT</code>,
файл системного журнала не был должным образом закрыт. Наиболее вероятно, это
из-за основного катастрофического отказа (например, из-за перебоя в питании)
</td></tr>
<tr><td scope="row"><code>02</code></td><td> </td>
<td>Зарезервировано на будущее</td></tr>
<tr><td scope="row"><code>04</code></td>
<td><code>LOG_EVENT_THREAD_SPECIFIC_F</code></td>
<td>Установлен, если событие зависит от соединения (например,
<code>'04 00'</code>), например, если событие использует временные таблицы
</td></tr>
<tr><td scope="row"><code>08</code></td><td><code>LOG_EVENT_SUPPRESS_USE_F
</code></td><td>Установлен при некоторых обстоятельствах, когда событие
не зависит от базы данных по умолчанию</td></tr></tbody></table></li></ul>

<h4><a name="mysqlbinlog-row-events"></a>5.6.8.2.
Показ строк событий в mysqlbinlog</h4>
<p>Следующие примеры иллюстрируют, как
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> выводит на экран события строки, которые определяют модификации данных.
Они соответствуют событиям с кодами типов
<code>WRITE_ROWS_EVENT</code>, <code>UPDATE_ROWS_EVENT</code> и
<code>DELETE_ROWS_EVENT</code>. Опции
<a href="#option_mysqlbinlog_base64-output"><code>
--base64-output=DECODE-ROWS</code></a> и
<a href="#option_mysqlbinlog_verbose"><code>--verbose</code></a>
могут использоваться, чтобы затронуть вывод строки событий.</p>

<p>Предположите, что сервер использует основанное на строке двоичное
журналирование и что Вы выполняете следующую последовательность запросов:
<pre>
CREATE TABLE t (id INT NOT NULL, name VARCHAR(20) NOT NULL,
                date DATE NULL) ENGINE = InnoDB;
START TRANSACTION;
INSERT INTO t VALUES(1, 'apple', NULL);
UPDATE t SET name = 'pear', date = '2009-01-01' WHERE id = 1;
DELETE FROM t WHERE id = 1;
COMMIT;
</pre>

По умолчанию <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> выводит на экран события строки, закодированные как
строки base-64 с использованием
<a href="sql.htm#binlog"><code>BINLOG</code></a>. Опуская посторонние строки,
вывод для событий строки, произведенных предыдущей последовательностью
запросов, похож на это:
<pre>
shell&gt; mysqlbinlog <em><code>log_file</code></em>
...
# at 218
#080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAANoAAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBcBAAAAKAAAAAIBAAAQABEAAAAAAAEAA//8AQAAAAVhcHBsZQ==
'/*!*/;
...
# at 302
#080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAC4BAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBgBAAAANgAAAGQBAAAQABEAAAAAAAEAA////AEAAAAFYXBwbGX4AQAAAARwZWFyIbIP
'/*!*/;
...
# at 400
#080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAJABAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBkBAAAAKgAAALoBAAAQABEAAAAAAAEAA//4AQAAAARwZWFyIbIP
'/*!*/;
</pre>

Чтобы рассмотреть события строки как комментарии в форме
<span><span>pseudo-SQL</span></span>, выполните
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> с <a href="#option_mysqlbinlog_verbose"><code>--verbose
</code></a> или <code>-v</code>. Вывод будет содержать
строки, начинающиеся с <code>###</code>:
<pre>
shell&gt; mysqlbinlog -v <em><code>log_file</code></em>
...
# at 218
#080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAANoAAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBcBAAAAKAAAAAIBAAAQABEAAAAAAAEAA//8AQAAAAVhcHBsZQ==
'/*!*/;
### INSERT INTO test.t
### SET
###   @1=1
###   @2='apple'
###   @3=NULL
...
# at 302
#080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAC4BAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBgBAAAANgAAAGQBAAAQABEAAAAAAAEAA////AEAAAAFYXBwbGX4AQAAAARwZWFyIbIP
'/*!*/;
### UPDATE test.t
### WHERE
###   @1=1
###   @2='apple'
###   @3=NULL
### SET
###   @1=1
###   @2='pear'
###   @3='2009:01:01'
...
# at 400
#080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAJABAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBkBAAAAKgAAALoBAAAQABEAAAAAAAEAA//4AQAAAARwZWFyIbIP
'/*!*/;
### DELETE FROM test.t
### WHERE
###   @1=1
###   @2='pear'
###   @3='2009:01:01'
</pre>

Определите <a href="#option_mysqlbinlog_verbose"><code>--verbose
</code></a> или <code>-v</code> дважды, чтобы также вывести на экран типы
данных и некоторые метаданные для каждого столбца. Вывод будет содержать
дополнительный комментарий после каждого изменения столбца:
<pre>
shell&gt; mysqlbinlog -vv <em><code>log_file</code></em>
...
# at 218
#080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAANoAAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBcBAAAAKAAAAAIBAAAQABEAAAAAAAEAA//8AQAAAAVhcHBsZQ==
'/*!*/;
### INSERT INTO test.t
### SET
###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
###   @2='apple' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
###   @3=NULL /* VARSTRING(20) meta=0 nullable=1 is_null=1 */
...
# at 302
#080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAC4BAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBgBAAAANgAAAGQBAAAQABEAAAAAAAEAA////AEAAAAFYXBwbGX4AQAAAARwZWFyIbIP
'/*!*/;
### UPDATE test.t
### WHERE
###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
###   @2='apple' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
###   @3=NULL /* VARSTRING(20) meta=0 nullable=1 is_null=1 */
### SET
###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
###   @2='pear' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
###   @3='2009:01:01' /* DATE meta=0 nullable=1 is_null=0 */
...
# at 400
#080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F

BINLOG '
fAS3SBMBAAAALAAAAJABAAAAABEAAAAAAAAABHRlc3QAAXQAAwMPCgIUAAQ=
fAS3SBkBAAAAKgAAALoBAAAQABEAAAAAAAEAA//4AQAAAARwZWFyIbIP
'/*!*/;
### DELETE FROM test.t
### WHERE
###   @1=1 /* INT meta=0 nullable=0 is_null=0 */
###   @2='pear' /* VARSTRING(20) meta=20 nullable=0 is_null=0 */
###   @3='2009:01:01' /* DATE meta=0 nullable=1 is_null=0 */
</pre>

Вы можете сказать <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> подавлять
<a href="sql.htm#binlog"><code>BINLOG</code></a> для событий строки при
использовании опции <a href="#option_mysqlbinlog_base64-output">
<code>--base64-output=DECODE-ROWS</code></a>. Это подобно
<a href="#option_mysqlbinlog_base64-output"><code>
--base64-output=NEVER</code></a>, но не выходит с ошибкой, если событие
строки найдено. Комбинация
<a href="#option_mysqlbinlog_base64-output"><code>
--base64-output=DECODE-ROWS</code></a> и
<a href="#option_mysqlbinlog_verbose"><code>--verbose</code></a>
обеспечивает удобный способ рассмотреть события строки только
как запросы SQL:
<pre>
shell&gt; mysqlbinlog -v --base64-output=DECODE-ROWS <em><code>log_file</code></em>
...
# at 218
#080828 15:03:08 server id 1  end_log_pos 258   Write_rows: table id 17 flags: STMT_END_F
### INSERT INTO test.t
### SET
###   @1=1
###   @2='apple'
###   @3=NULL
...
# at 302
#080828 15:03:08 server id 1  end_log_pos 356   Update_rows: table id 17 flags: STMT_END_F
### UPDATE test.t
### WHERE
###   @1=1
###   @2='apple'
###   @3=NULL
### SET
###   @1=1
###   @2='pear'
###   @3='2009:01:01'
...
# at 400
#080828 15:03:08 server id 1  end_log_pos 442   Delete_rows: table id 17 flags: STMT_END_F
### DELETE FROM test.t
### WHERE
###   @1=1
###   @2='pear'
###   @3='2009:01:01'
</pre>

<p>Вы не должны подавить <a href="sql.htm#binlog"><code>BINLOG</code></a>,
если Вы намереваетесь повторно выполнить вывод
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>.</p>

<p>Запросы SQL, произведенные
<a href="#option_mysqlbinlog_verbose"><code>--verbose</code></a>
для строки события намного больше читаемы, чем соответствующие
<a href="sql.htm#binlog"><code>BINLOG</code></a>. Однако, они не
соответствуют точно оригинальным запросам SQL, которые произвели события.
Следующие ограничения применяются:</p>

<ul><li><p>Оригинальные имена столбцов потеряны и заменены
<code>@<em><code>N</code></em></code>, где
<em><code>N</code></em> задает номер столбца.</li>

<li>Информация о наборе символов недоступна в двоичном журнале, который
затрагивает строковое отображение столбца:</p>
<ul><li><p>Нет никакого различия между соответствующими двоичными и
недвоичными строковыми типами
(<a href="types.htm#binary-varbinary"><code>BINARY</code></a> и
<a href="types.htm#char"><code>CHAR</code></a>,
<a href="types.htm#binary-varbinary"><code>VARBINARY</code></a> и
<a href="types.htm#char"><code>VARCHAR</code></a>,
<a href="types.htm#blob"><code>BLOB</code></a> и
<a href="types.htm#blob"><code>TEXT</code></a>).
Вывод использует тип данных <code>STRING</code> для строк фиксированной длины
и <code>VARSTRING</code> для строк переменной длины.</li>

<li>Для многобайтовых наборов символов максимальное количество байтов на
символ не присутствует в двоичном журнале, таким образом, длина для строковых
типов выведена на экран в байтах, а не в символах. Например,
<code>STRING(4)</code> будет использоваться в качестве типа данных для
значений любого из этих типов столбца:
<pre>
CHAR(4) CHARACTER SET latin1
CHAR(2) CHARACTER SET ucs2
</pre></li>

<li>Из-за формата хранения для событий типа
<code>UPDATE_ROWS_EVENT</code>, запросы
<a href="sql.htm#update"><code>UPDATE</code></a> выведены на экран с
<code>WHERE</code>, предшествующим <code>SET</code>.</p></li></ul></li></ul>

<p>Правильная интерпретация событий строки запрашивает информацию от
описания формата в начале двоичного журнала. Поскольку
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> не знает заранее, содержит ли остальная часть журнала события строки, по
умолчанию это выводит на экран описание формата, используя
<a href="sql.htm#binlog"><code>BINLOG</code></a> в начальной части вывода.
</p>

<p>Если двоичной журнал не содержит какие-либо события, требующие
<a href="sql.htm#binlog"><code>BINLOG</code></a>
(то есть, никаких событий строки),
<a href="#option_mysqlbinlog_base64-output"><code>
--base64-output=NEVER</code></a> может использоваться, чтобы препятствовать
тому, чтобы этот заголовок был написан.</p>

<h4><a name="mysqlbinlog-backup"></a>5.6.8.3. Применение mysqlbinlog для
резервирования двоичных файлов системного журнала</h4>
<p>По умолчанию <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> читает двоичные файлы системного журнала и выводит на
экран их содержание в текстовом формате. Это позволяет Вам изучить
события в пределах файлов более легко и повторно выполнить их (например, при
использовании вывода как входа для
<a href="#mysql"><span><strong>mysql</strong></span></a>).
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> может считать файлы системного журнала непосредственно из местной
файловой системы или с опцией
<a href="#option_mysqlbinlog_read-from-remote-server"><code>
--read-from-remote-server</code></a> это может соединиться с сервером и
запросить содержание журнала с того сервера.
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> пишет текстовый вывод на стандартный вывод или в файл, названный как
значение опции <a href="#option_mysqlbinlog_result-file"><code>
--result-file=<em><code>file_name</code></em></code></a>, если та опция дана.
</p>

<p><a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong>
</span></a> может считать двоичные файлы системного журнала и написать новые
файлы, содержащие тот же самый контент, то есть, в текстовом, а не в двоичном
формате. Эта способность позволяет легко поддержать журнал регистрации
в его оригинальном формате. <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> может сделать статическое резервное
копирование, поддерживая ряд файлов системного журнала и останавливаясь,
когда конец последнего файла достигнут. Это может также сделать непрерывное
(<span><span>живое</span></span>) резервное копирование, оставаясь
соединенным с сервером, когда это достигает конца последнего файла системного
журнала и продолжая копировать новые события, когда они произведены.
В непрерывно-резервной работе
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> выполняется до конца соединения (например, когда сервер завершается)
или <a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong>
</span></a> явно закончен. Когда соединение заканчивается,
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> не ждет и повторяет соединение, в отличие от ведомого сервера
репликации. Чтобы продолжить живое резервное копирование после того, как
сервер был перезапущен, Вы должны также перезапустить
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>.</p>

<p>Двоичное резервное копирование журнала требует, чтобы Вы вызвали
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> минимум с двумя опциями:</p>

<ul><li><p><a href="#option_mysqlbinlog_read-from-remote-server">
<code>--read-from-remote-server</code></a> (или <code>-R</code>) говорит
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> соединяться с сервером и просить свой двоичной журнал.
Это подобно ведомому серверу репликации, соединяющемуся с главным сервером.
</li>

<li><a href="#option_mysqlbinlog_raw"><code>--raw</code></a>
предписывает <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> писать сырой (двоичный), а не текстовый вывод.
</p></li></ul>

<p>Наряду с <a href="#option_mysqlbinlog_read-from-remote-server">
<code>--read-from-remote-server</code></a>, стоит определить другие опции:
<a href="#option_mysqlbinlog_host"><code>--host</code></a>
указывает, где сервер работает, и Вы, возможно, также должны определить
такие опции соединения, как <a href="#option_mysqlbinlog_user">
<code>--user</code></a> и <a href="#option_mysqlbinlog_password">
<code>--password</code></a>.</p>

<p>Несколько других опций полезны в соединении с
<a href="#option_mysqlbinlog_raw"><code>--raw</code></a>:</p>
<ul><li><p><a href="#option_mysqlbinlog_stop-never"><code>
--stop-never</code></a>: Останьтесь соединенным с сервером после достижения
конца последнего файла системного журнала и продолжите читать новые события.
</li>

<li><a href="#option_mysqlbinlog_stop-never-slave-server-id">
<code>--stop-never-slave-server-id=<em><code>id</code></em></code></a>:
ID сервера, который <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> сообщает серверу, когда применена
<a href="#option_mysqlbinlog_stop-never"><code>--stop-never
</code></a>. Значение по умолчанию 65535. Это может использоваться, чтобы
избежать конфликта с ID ведомого сервера или другого процесса
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>, см. <a href="#mysqlbinlog-server-id">раздел 5.6.8.4</a>.
</li>

<li><a href="#option_mysqlbinlog_result-file"><code>
--result-file</code></a>: Приставка для выходных имен файла,
как описано позже.</p></li></ul>

<p>Чтобы поддержать двоичные файлы системного журнала сервера с
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>, Вы должны определить имена файла, которые фактически существуют на
сервере. Если Вы не знаете имена, соединяетесь с сервером и используете
<a href="sql.htm#show-binary-logs"><code>SHOW BINARY LOGS</code></a>, чтобы
видеть текущие имена. Предположите, что запрос производит этот вывод:
<pre>
mysql&gt; SHOW BINARY LOGS;
+---------------+-----------+
| Log_name      | File_size |
+---------------+-----------+
| binlog.000130 | 27459     |
| binlog.000131 | 13719     |
| binlog.000132 | 43268     |
+---------------+-----------+
</pre>

С этой информацией Вы можете использовать
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a>, чтобы поддержать двоичной журнал к текущему каталогу следующим образом
(введите каждую команду в одну строку):</p>

<ul><li><p>Чтобы сделать статическое резервное копирование с
<code>binlog.000130</code> до <code>binlog.000132</code>, используйте любую
из этих команд:
<pre>
mysqlbinlog --read-from-remote-server --host=<em><code>host_name</code></em> --raw
            binlog.000130 binlog.000131 binlog.000132
mysqlbinlog --read-from-remote-server --host=<em><code>host_name</code></em> --raw
            --to-last-log binlog.000130
</pre>

Первая команда определяет каждое имя файла явно.
Вторая называет только первый файл и использует
<a href="#option_mysqlbinlog_to-last-log"><code>--to-last-log
</code></a>, чтобы читать последний. Различие между этими командами: если
сервер открывает <code>binlog.000133</code> до того, как
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> достигает конца <code>binlog.000132</code>,
первая команда не будет читать это, но вторая команда будет.</li>

<li>Чтобы сделать живое резервное копирование, в котором
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> запускается с <code>binlog.000130</code>, чтобы скопировать
существующие файлы системного журнала, а затем остается соединенным с
сервером и копирует новые события, когда сервер производит их:
<pre>
mysqlbinlog --read-from-remote-server --host=<em><code>host_name</code></em>
            --raw --stop-never binlog.000130
</pre>

С <a href="#option_mysqlbinlog_stop-never"><code>--stop-never
</code></a> не надо определять
<a href="#option_mysqlbinlog_to-last-log"><code>--to-last-log
</code></a>, чтобы читать последний файл системного журнала, потому что
эта опция подразумевается.</p></li></ul>

<h5><a name="idm139965407082896"></a>Выходное обозначение файла</h5>
<p>Без <a href="#option_mysqlbinlog_raw"><code>--raw</code></a>
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> производит текстовый вывод, и если есть опция
<a href="#option_mysqlbinlog_result-file"><code>--result-file
</code></a>, определяет название единственного файла, в который написан весь
вывод. С <a href="#option_mysqlbinlog_raw"><code>--raw</code></a>
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> пишет один файл вывода для каждого файла системного журнала, переданного
с сервера. По умолчанию <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> пишет файлы в текущем каталоге с теми же
самыми именами, как оригинальные файлы системного журнала. Чтобы изменить
выходные имена файла, используйте
<a href="#option_mysqlbinlog_result-file"><code>--result-file
</code></a>. В соединении с <a href="#option_mysqlbinlog_raw">
<code>--raw</code></a> значение опции
<a href="#option_mysqlbinlog_result-file"><code>--result-file
</code></a> обработано как приставка, которая изменяет выходные имена файлов.
</p>

<p>Предположите, что серверу в настоящее время указали файлы системного
журнала <code>binlog.000999</code> и выше. Если Вы используете
<a href="#mysqlbinlog"><span><strong>mysqlbinlog --raw</strong>
</span></a>, чтобы зарезервировать файлы,
<a href="#option_mysqlbinlog_result-file"><code>--result-file
</code></a> производит выходные имена файла как показано в следующей таблице.
Вы можете написать файлы в определенный каталог, используя
<a href="#option_mysqlbinlog_result-file"><code>--result-file
</code></a> с путем к каталогу. Если
<a href="#option_mysqlbinlog_result-file"><code>--result-file
</code></a> состоит только из имени каталога, значение должно закончиться
символом разделителя пути. Выходные файлы перезаписаны, если они существуют.
</p>

<table border="1">
<thead><tr><th scope="col">
Опция <a href="#option_mysqlbinlog_result-file"><code>
--result-file</code></a></th><th scope="col">Выходные имена файла
</th></tr></thead>
<tbody><tr><td scope="row">
<a href="#option_mysqlbinlog_result-file"><code>--result-file=x
</code></a></td><td><code>xbinlog.000999</code> и выше</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_result-file">
<code>--result-file=/tmp/</code></a></td>
<td><code>/tmp/binlog.000999</code> и выше</td></tr>
<tr><td scope="row"><a href="#option_mysqlbinlog_result-file">
<code>--result-file=/tmp/x</code></a></td>
<td><code>/tmp/xbinlog.000999</code> и выше</td></tr></tbody></table>

<h5><a name="idm139965407050784"></a>Пример: mysqldump + mysqlbinlog
для резервного копирования и восстановления</h5>
<p>Следующий пример описывает простой скрипт, который показывает, как
использовать <a href="#mysqldump"><span><strong>mysqldump
</strong></span></a> и <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a> вместе, чтобы поддержать данные сервера и
двоичный журнал, и как использовать резервное копирование, чтобы восстановить
сервер, если потеря данных происходит. Пример предполагает, что сервер
работает на хосте <em><code>host_name</code></em> и его первый двоичной файл
системного журнала называется <code>binlog.000999</code>.
Введите каждую команду в одну строку.</p>

<p>Используйте <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a>, чтобы сделать непрерывное резервное
копирование двоичного журнала:
<pre>
mysqlbinlog --read-from-remote-server --host=<em><code>host_name</code></em>
            --raw --stop-never binlog.000999
</pre>

Используйте <a href="#mysqldump"><span><strong>mysqldump</strong>
</span></a>, чтобы создать файл дампа как снимок данных сервера.
Используйте <a href="#option_mysqldump_all-databases"><code>
--all-databases</code></a>,
<a href="#option_mysqldump_events"><code>--events</code></a> и
<a href="#option_mysqldump_routines"><code>--routines</code></a>,
чтобы зарезервировать все данные и
<a href="#option_mysqldump_master-data"><code>--master-data=2
</code></a>, чтобы включить текущие координаты двоичного
журнала в файл дампа.
<pre>
mysqldump --host=<em><code>host_name</code></em> --all-databases --events \
          --routines --master-data=2<em><code>dump_file</code></em>
</pre>
Выполните <a href="#mysqldump"><span><strong>mysqldump</strong>
</span></a> периодически, чтобы создать более новые снимки.</p>

<p>Если потеря данных происходит (например, если сервер отказывает),
используйте новый файл дампа, чтобы восстановить данные:
<pre>
mysql --host=<em><code>host_name</code></em> -u root -p &lt; <em><code>dump_file</code></em>
</pre>

Теперь используйте двоичное резервное копирование журнала, чтобы повторно
запустить события, которые были написаны после координат в файле дампа.
Предположите, что координаты в файле похожи на это:
<pre>
-- CHANGE MASTER TO MASTER_LOG_FILE='binlog.001002', MASTER_LOG_POS=27284;
</pre>

Если новый файл системного журнала называют <code>binlog.001004</code>,
повторно запустите события журнала так:
<pre>
mysqlbinlog --start-position=27284 binlog.001002 binlog.001003 binlog.001004
            | mysql --host=<em><code>host_name</code></em> -u root -p
</pre>

Вы могли бы счесть, что легче скопировать резервные файлы (файл дампа и
двоичные файлы системного журнала) на хост сервера, чтобы облегчить работу
восстановления, или если MySQL не позволяет удаленный доступ <code>root
</code>.</p>

<h4><a name="mysqlbinlog-server-id"></a>5.6.8.4.
Определение mysqlbinlog Server ID</h4>
<p>При вызове с опцией <code>--read-from-remote-server</code>
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> соединяется с сервером MySQL, определяет идентификатор сервера, чтобы
идентифицировать себя, и просит двоичные файлы системного журнала от сервера.
Вы можете использовать <a href="#mysqlbinlog"><span><strong>
mysqlbinlog</strong></span></a>, чтобы запросить файлы системного журнала от
сервера несколькими способами:</p>

<ul><li><p>Определите явно названный набор файлов: для каждого файла
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> соединяется и выполняет команду <code>Binlog dump</code>.
Сервер посылает файл и разъединяет связь. Есть одно соединение на файл.</li>

<li>Определите начинающий файл и опцию
<a href="#option_mysqlbinlog_to-last-log"><code>--to-last-log
</code></a>: <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> соединяется и выполняет команду <code>Binlog dump</code>
для всех файлов. Сервер посылает все файлы и разъединяет связь.</li>

<li>Определите начинающий файл и опцию
<a href="#option_mysqlbinlog_stop-never"><code>--stop-never
</code></a> (что подразумевает
<a href="#option_mysqlbinlog_to-last-log"><code>--to-last-log
</code></a>): <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> соединяется и выполняет команду <code>Binlog dump</code>
для всех файлов. Сервер посылает все файлы, но не разъединяет связь
после посылки последнего.</p></li></ul>

<p>Только с <a href="#option_mysqlbinlog_read-from-remote-server">
<code>--read-from-remote-server</code></a>
<a href="#mysqlbinlog"><span><strong>mysqlbinlog</strong></span>
</a> соединяется с использованием ID = 0, который говорит серверу разъединять
связь после посылки последнего требуемого файла системного журнала.</p>

<p>С <a href="#option_mysqlbinlog_read-from-remote-server"><code>
--read-from-remote-server</code></a> и
<a href="#option_mysqlbinlog_stop-never"><code>--stop-never
</code></a> <a href="#mysqlbinlog"><span><strong>mysqlbinlog
</strong></span></a> соединяется с использованием ID, отличного от нуля,
таким образом, сервер не разъединяет связь после посылки последнего файла
системного журнала. Идентификатор сервера 65535 по умолчанию, но это может
быть изменено опцией
<a href="#option_mysqlbinlog_stop-never-slave-server-id"><code>
--stop-never-slave-server-id</code></a>.</p>

<p>Таким образом, для первых двух способов запросить файлы, сервер
разъединяет связь, потому что <a href="#mysqlbinlog"><span>
<strong>mysqlbinlog</strong></span></a> указывает server ID = 0.
Это не разъединяет связь, если
<a href="#option_mysqlbinlog_stop-never"><code>--stop-never
</code></a> дана, потому что <a href="#mysqlbinlog"><span>
<strong>mysqlbinlog</strong></span></a> определяет идентификатор сервера,
отличный от нуля.</p>

<h3><a name="mysqldumpslow"></a>5.6.9. <span><strong>mysqldumpslow</strong>
</span> обзор файлов медленного системного журнала</h3>
<p>Медленный журнал запроса MySQL содержит информацию о запросах,
которые занимают много времени (см.
<a href="server.htm#slow-query-log">раздел 6.4.5</a>).
<a href="#mysqldumpslow"><span><strong>mysqldumpslow</strong>
</span></a> разбирает MySQL файлы медленного системного журнала запроса и
печатает резюме их содержания.</p>

<p>Обычно <a href="#mysqldumpslow"><span><strong>mysqldumpslow
</strong></span></a> группирует запросы, которые подобны за исключением
особых значений числа, и представляют значения данных в виде строки. Это
<span><span>абстрагирует</span></span> эти значения к
<code>N</code> и <code>'S'</code>, выводя на экран итоговый вывод.
Опции <code>-a</code> и <code>-n</code> могут использоваться, чтобы изменить
поведение реферирования значения.</p>

<p>Вызов <a href="#mysqldumpslow"><span><strong>mysqldumpslow
</strong></span></a>:
<pre>
shell&gt; mysqldumpslow [<em><code>options</code></em>] [<em><code>log_file</code></em> ...]
</pre>

<a href="#mysqldumpslow"><span><strong>mysqldumpslow</strong>
</span></a> поддерживает следующие опции.</p>
<a name="idm139965406982624"></a><p><b>Таблица 5.19. Опции
<code>mysqldumpslow</code></b></p>
<table border="1">
<thead><tr><th scope="col">Формат</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row">
<a href="#option_mysqldumpslow_abstract">-a</a></td><td>
Не резюмируйте все числа к N и строки к S</td></tr>
<tr><td scope="row">
<a href="#option_mysqldumpslow_abstract-numbers">-n</a></td>
<td>Отвлеченные числа с, по крайней мере, указанным количеством цифр
</td></tr>
<tr><td scope="row"><a href="#option_mysqldumpslow_debug">--debug
</a></td><td>Писать информацию об отладке</td></tr>
<tr><td scope="row"><a href="#option_mysqldumpslow_grep">-g</a>
</td><td>Только рассмотрите запросы, которые соответствуют образцу</td></tr>
<tr><td scope="row"><a href="#option_mysqldumpslow_help">--help
</a></td><td>Вывести справочное сообщение</td></tr>
<tr><td scope="row"><a href="#option_mysqldumpslow_host">-h</a>
</td><td>Имя хоста сервера в имени файла системного журнала</td></tr>
<tr><td scope="row"><a href="#option_mysqldumpslow_instance">-i
</a></td><td>Название экземпляра сервера</td></tr>
<tr><td scope="row"><a href="#option_mysqldumpslow_lock">-l</a>
</td><td>Не вычитайте время блокировки из полного времени</td></tr>
<tr><td scope="row"><a href="#option_mysqldumpslow_reverse">-r
</a></td><td>Реверсировать порядок сортировки</td></tr>
<tr><td scope="row"><a href="#option_mysqldumpslow_sort">-s</a>
</td><td>Как сортировать вывод</td></tr>
<tr><td scope="row"><a href="#option_mysqldumpslow_top">-t</a>
</td><td>Выведите на экран только первые цифровые запросы</td></tr>
<tr><td scope="row"><a href="#option_mysqldumpslow_verbose">
--verbose</a></td><td>Подробный режим вывода</td></tr></tbody></table>

<ul><li><p><a name="option_mysqldumpslow_help"></a>
<a href="#option_mysqldumpslow_help"><code>--help</code></a></p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_mysqldumpslow_abstract"></a><code>-a</code></p>
<p>Не резюмируйте все числа к <code>N</code> и строки к <code>'S'</code>.
</li>

<li><a name="option_mysqldumpslow_debug"></a>
<a href="#option_mysqldumpslow_debug"><code>--debug</code></a>,
<code>-d</code></p>
<p>Работа в режиме отладки.</li>

<li><a name="option_mysqldumpslow_grep"></a>
<code>-g <em><code>pattern</code></em></code></p>
<p>Рассмотрите только запросы, которые соответствуют
образцу в стиле (<span><strong>grep</strong></span>).</li>

<li><a name="option_mysqldumpslow_host"></a>
<code>-h <em><code>host_name</code></em></code></p>
<p>Имя хоста сервера MySQL для имени файла <code>*-slow.log</code>.
Значение может содержать подстановочный знак.
Значение по умолчанию <code>*</code> (все).</li>

<li><a name="option_mysqldumpslow_instance"></a>
<code>-i <em><code>name</code></em></code></p>
<p>Название экземпляра сервера (используя скрипт
<a href="#mysql-server">
<span><strong>mysql.server</strong></span></a>).</li>

<li><a name="option_mysqldumpslow_lock"></a><code>-l</code></p>
<p>Не вычитайте время блокировки из полного времени.</li>
<li><a name="option_mysqldumpslow_abstract-numbers"></a>
<code>-n <em><code>N</code></em></code></p>
<p>Отвлеченные числа с, по крайней мере, <em><code>N</code></em>
цифрами в пределах имен.</li>

<li><a name="option_mysqldumpslow_reverse"></a><code>-r</code></p>
<p>Реверсировать порядок сортировки.</li>
<li><a name="option_mysqldumpslow_sort"></a>
<code>-s <em><code>sort_type</code></em></code></p>
<p>Как сортировать вывод. Значение <em><code>sort_type</code></em>
должно быть выбрано из следующего списка:</p>

<ul><li><p><code>t</code>, <code>at</code>:
По времени запроса или среднему времени запроса.</li>
<li><code>l</code>, <code>al</code>: По времени блокировки или
среднему времени блокировки.</li>

<li><code>r</code>, <code>ar</code>:
По посланным строкам или среднему числу посланных строк.</li>
<li><code>c</code>: Сортировать по количеству.</p></li></ul>

<p>По умолчанию <a href="#mysqldumpslow">
<span><strong>mysqldumpslow</strong></span></a> сортирует по
среднему времени запроса (эквивалентно <code>-s at</code>).</li>

<li><a name="option_mysqldumpslow_top"></a>
<code>-t <em><code>N</code></em></code></p>
<p>Выведите на экран только первые <em><code>N</code></em> запросов в выводе.
</li>

<li><a name="option_mysqldumpslow_verbose"></a>
<a href="#option_mysqldumpslow_verbose"><code>--verbose</code>
</a>, <code>-v</code></p>
<p>Подробный режим. Напечатать больше информации о том,
что делает программа.</p></li></ul>

<p>Пример использования програмы:
<pre>
shell&gt; mysqldumpslow

Reading mysql slow query log from /usr/local/mysql/data/mysqld51-apple-slow.log
Count: 1  Time=4.32s (4s)  Lock=0.00s (0s)  Rows=0.0 (0), root[root]@localhost
 insert into t2 select * from t1

Count: 3  Time=2.53s (7s)  Lock=0.00s (0s)  Rows=0.0 (0), root[root]@localhost
 insert into t2 select * from t1 limit N

Count: 3  Time=2.13s (6s)  Lock=0.00s (0s)  Rows=0.0 (0), root[root]@localhost
 insert into t1 select * from t1
</pre>

<h2><a name="programs-development"></a>5.7. Утилиты развития MySQL</h2>
<p>Этот раздел описывает некоторые утилиты, которые Вы можете счесть
полезными, развивая программы MySQL.</p>

<p>В скриптах оболочки Вы можете использовать
<a href="#my-print-defaults">
<span><strong>my_print_defaults</strong></span></a>, чтобы разобрать файлы
опции и видеть, какие опции использовались бы данной программой.
Следующий пример показывает вывод <a href="#my-print-defaults">
<span><strong>my_print_defaults</strong></span></a>, который
мог быть произведен, когда запрошено показать варианты, найденные в
группах <code>[client]</code> и <code>[mysql]</code>:
<pre>
shell&gt; my_print_defaults client mysql
--port=3306
--socket=/tmp/mysql.sock
--no-auto-rehash
</pre>

Отметьте: обработка файла опции осуществлена в библиотеке клиента C, просто
обрабатывая все опции в соответствующей группе или группах перед любыми
параметрами командной строки. Это работает хорошо в программах, которые
используют последний случай опции, которая определена многократно.
Если у Вас есть C или C++ программа, которая обрабатывает
определенные многократно опции этим путем, но не читает файлы опции, Вы
должны добавить только три строки, чтобы дать такую возможность.
Проверьте исходный код любого из стандартных клиентов MySQL, чтобы увидеть,
как сделать это.</p>

<p>Несколько других языковых интерфейсов к MySQL основаны на библиотеке
клиента C и некоторые из них обеспечивают способ получить доступ к содержанию
файла опции. Они включают Perl и Python. Для деталей см. документацию
для своего интерфейса.</p>

<h3><a name="mysql-config"></a>5.7.1.
<span><strong>mysql_config</strong></span> показ опций
для компилирования клиентов</h3>
<p><a href="#mysql-config"><span><strong>mysql_config</strong>
</span></a> предоставляет Вам полезную информацию для того, чтобы собрать
Вашего клиента MySQL и соединить с MySQL. Это скрипт оболочки, таким образом,
это доступно только в Unix и подобных Unix системах.</p>

<p><span><strong>pkg-config</strong></span> может использоваться в качестве
альтернативы <a href="#mysql-config"><span><strong>mysql_config
</strong></span></a>, чтобы получить такую информацию, как флаги компилятора
или библиотеки требуемые, чтобы собирать приложения MySQL. Для получения
дополнительной информации см.
<a href="connect.htm#c-api-building-clients-pkg-config">раздел 25.8.4.2</a>.
</p>

<p>Для двоичных дистрибутивов для Solaris
<a href="#mysql-config"><span><strong>mysql_config</strong>
</span></a> не обеспечивает параметры соединения со встроенной библиотекой.
Чтобы получить параметры соединения с встроенной библиотекой, используйте
скрипт <span><strong>mysql_server_config</strong></span>.</p>

<p><a href="#mysql-config"><span><strong>mysql_config</strong>
</span></a> поддерживает следующие опции.</p>
<ul><li><p><a name="option_mysql_config_cflags"></a>
<a href="#option_mysql_config_cflags"><code>--cflags</code>
</a></p>

<p>Флаги компилятора C, чтобы найти включаемые файлы и определения,
используемые, собирая библиотеку <code>libmysqlclient</code>.
Опции возвращаются, привязанные к определенному компилятору, который
использовался, когда библиотека создавалась, и не факт, что подойдут
для Вашего собственного компилятора. Используйте
<a href="#option_mysql_config_include"><code>--include</code></a>
для большего количества портабельных опций, которые содержат
только включаеме пути.</li>

<li><a name="option_mysql_config_cxxflags"></a>
<a href="#option_mysql_config_cxxflags"><code>--cxxflags</code>
</a></p>
<p>Аналог <a href="#option_mysql_config_cflags"><code>--cflags
</code></a>, но для компилятора C++.</li>

<li><a name="option_mysql_config_include"></a>
<a href="#option_mysql_config_include"><code>--include</code></a>
</p>
<p>Опции компилятора, чтобы найти включаемые файлы MySQL.</li>

<li><a name="option_mysql_config_libmysqld-libs"></a>
<a href="#option_mysql_config_libmysqld-libs"><code>
--libmysqld-libs</code></a>,
<a href="#option_mysql_config_libmysqld-libs"><code>
--embedded</code></a></p>
<p>Библиотеки и опции, требуемые, чтобы соединяться с
встраиваемым сервером MySQL.</li>

<li><a name="option_mysql_config_libs"></a>
<a href="#option_mysql_config_libs"><code>--libs</code></a></p>
<p>Библиотеки и опции, требуемые, чтобы соединяться с
библиотекой клиента MySQL.</li>

<li><a name="option_mysql_config_libs_r"></a>
<a href="#option_mysql_config_libs_r"><code>--libs_r</code></a>
</p>
<p>Библиотеки и опции, требуемые, чтобы соединяться с поточно-безопасной
библиотекой клиента MySQL. В MySQL 8.0 все библиотеки клиента
поточно-безопасны, таким образом, эта опция не должна использоваться.
Опция <a href="#option_mysql_config_libs"><code>--libs</code></a>
может использоваться во всех случаях.</li>

<li><a name="option_mysql_config_plugindir"></a>
<a href="#option_mysql_config_plugindir"><code>--plugindir</code>
</a></p>
<p>Имя пути к каталогу плагинов по умолчанию,
определенное, конфигурируя MySQL.</li>

<li><a name="option_mysql_config_port"></a>
<a href="#option_mysql_config_port"><code>--port</code></a></p>
<p>Значение по умолчанию порта TCP/IP, определенное, конфигурируя MySQL.</li>

<li><a name="option_mysql_config_socket"></a>
<a href="#option_mysql_config_socket"><code>--socket</code></a>
</p>
<p>Файл сокета Unix по умолчанию, определенный, конфигурируя MySQL.</li>

<li><a name="option_mysql_config_variable"></a>
<a href="#option_mysql_config_variable"><code>--variable=<em>
<code>var_name</code></em></code></a></p>

<p>Выведите на экран значение названной переменной конфигурации. Допустимые
<em><code>var_name</code></em>: <code>pkgincludedir</code> (каталог
заголовочных файлов), <code>pkglibdir</code> (каталог библиотек) и
<code>plugindir</code> (каталог плагинов).</li>

<li><a name="option_mysql_config_version"></a>
<a href="#option_mysql_config_version"><code>--version</code></a>
</p>
<p>Номер версии для дистрибутива MySQL.</p></li></ul>

<p>Если Вы вызываете <a href="#mysql-config"><span><strong>
mysql_config</strong></span></a> без опций, он выводит на экран список всех
опций, которые он поддерживает, и их значения:
<pre>
shell&gt; mysql_config
Usage: /usr/local/mysql/bin/mysql_config [options]
Options:
  --cflags [-I/usr/local/mysql/include/mysql -mcpu=pentiumpro]
  --cxxflags [-I/usr/local/mysql/include/mysql -mcpu=pentiumpro]
  --include[-I/usr/local/mysql/include/mysql]
  --libs   [-L/usr/local/mysql/lib/mysql -lmysqlclient
   -lpthread -lm -lrt -lssl -lcrypto -ldl]
  --libs_r [-L/usr/local/mysql/lib/mysql -lmysqlclient_r
   -lpthread -lm -lrt -lssl -lcrypto -ldl]
  --plugindir[/usr/local/mysql/lib/plugin]
  --socket [/tmp/mysql.sock]
  --port   [3306]
  --version[5.8.0-m17]
  --libmysqld-libs [-L/usr/local/mysql/lib/mysql -lmysqld
   -lpthread -lm -lrt -lssl -lcrypto -ldl -lcrypt]
  --variable=VAR   VAR is one of:
  pkgincludedir [/usr/local/mysql/include]
  pkglibdir [/usr/local/mysql/lib]
  plugindir [/usr/local/mysql/lib/plugin]
</pre>

Вы можете использовать <a href="#mysql-config">
<span><strong>mysql_config</strong></span></a> в пределах командной строки,
используя обратные галочки, чтобы включать вывод, который он производит для
особых опций. Например, чтобы собрать программу клиента MySQL, используйте
<a href="#mysql-config"><span><strong>mysql_config</strong>
</span></a>:
<pre>
gcc -c `mysql_config --cflags` progname.c
gcc -o progname progname.o `mysql_config --libs`
</pre>

<h3><a name="my-print-defaults"></a>5.7.2.
<span><strong>my_print_defaults</strong></span>
показ опций из файлов опций</h3>
<p><a href="#my-print-defaults"><span><strong>my_print_defaults
</strong></span></a> выводит на экран опции, которые присутствуют в группах
опции файлов опции. Вывод указывает на то, какие опции будут использоваться
программами, которые читают указанные группы опции. Например,
<a href="#mysqlcheck"><span><strong>mysqlcheck</strong></span>
</a> читает группы <code>[mysqlcheck]</code> и <code>[client]</code>.
Чтобы видеть, какие опции присутствуют в тех группах в стандартных файлах
опции, вызовите <a href="#my-print-defaults"><span><strong>
my_print_defaults</strong></span></a> так:
<pre>
shell&gt; my_print_defaults mysqlcheck client
--user=myusername
--password=secret
--host=localhost
</pre>
Вывод состоит из опций, по одной в строке,
в той форме, как они были бы определены в командной строке.</p>

<p><a href="#my-print-defaults"><span><strong>my_print_defaults
</strong></span></a> поддерживает следующие опции.</p>
<ul><li><p><a name="option_my_print_defaults_help"></a>
<a href="#option_my_print_defaults_help"><code>--help</code></a>,
<code>-?</code></p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_my_print_defaults_config-file"></a>
<a href="#option_my_print_defaults_config-file"><code>
--config-file=<em><code>file_name</code></em></code></a>,
<a href="#option_my_print_defaults_config-file"><code>
--defaults-file=<em><code>file_name</code></em></code></a>,
<code>-c <em><code>file_name</code></em></code></p>
<p>Читать только данный файл опции.</li>

<li><a name="option_my_print_defaults_debug"></a>
<a href="#option_my_print_defaults_debug"><code>--debug=
<em><code>debug_options</code></em></code></a>,
<code>-# <em><code>debug_options</code></em></code></p>

<p>Писать журнал отладки. Типичная строка
<em><code>debug_options</code></em>
<code>d:t:o,<em><code>file_name</code></em></code>.
Значение по умолчанию <code>d:t:o,/tmp/my_print_defaults.trace</code>.</li>

<li><a name="option_my_print_defaults_defaults-extra-file"></a>
<a href="#option_my_print_defaults_defaults-extra-file"><code>
--defaults-extra-file=<em><code>file_name</code></em></code></a>,
<a href="#option_my_print_defaults_defaults-extra-file"><code>
--extra-file=<em><code>file_name</code></em></code></a>,
<code>-e <em><code>file_name</code></em></code></p>
<p>Считайте этот файл опции после глобального файла опции, но (в Unix)
перед пользовательским файлом опции.</li>

<li><a name="option_my_print_defaults_defaults-group-suffix"></a>
<a href="#option_my_print_defaults_defaults-group-suffix"><code>
--defaults-group-suffix=<em><code>suffix</code></em></code></a>,
<code>-g <em><code>suffix</code></em></code></p>
<p>В дополнение к группам, названным на командной строке, считайте группы,
у которых есть данный суффикс.</li>

<li><a name="option_my_print_defaults_login-path"></a>
<a href="#option_my_print_defaults_login-path"><code>
--login-path=<em><code>name</code></em></code></a>,
<code>-l <em><code>name</code></em></code></p>

<p>Считайте опции из названного пути входа в систему в файле пути входа в
систему <code>.mylogin.cnf</code>. <span><span>login path</span></span>
является группой, содержащей опции, которые определяют, с каким сервером
MySQL соединиться и как подтвердить подлинность.
Чтобы создать или изменить файл пути входа в систему, используйте
<a href="#mysql-config-editor"><span><strong>mysql_config_editor
</strong></span></a>, см. <a href="#mysql-config-editor">раздел
5.6.7</a>.</li>

<li><a name="option_my_print_defaults_no-defaults"></a>
<a href="#option_my_print_defaults_no-defaults"><code>
--no-defaults</code></a>, <code>-n</code></p>
<p>Возвратите пустую строку.</li>

<li><a name="option_my_print_defaults_show"></a>
<a href="#option_my_print_defaults_show"><code>--show</code></a>,
<code>-s</code></p>

<p><a href="#my-print-defaults"><span><strong>my_print_defaults
</strong></span></a> маскирует пароли по умолчанию. Используйте эту опцию,
чтобы вывести на экран пароли в открытом тексте.</li>

<li><a name="option_my_print_defaults_verbose"></a>
<a href="#option_my_print_defaults_verbose"><code>--verbose
</code></a>, <code>-v</code></p>
<p>Подробный режим. Напечатайте больше информации о том,
что делает программа.</li>

<li><a name="option_my_print_defaults_version"></a>
<a href="#option_my_print_defaults_version"><code>--version
</code></a>, <code>-V</code></p>
<p>Показать информацию о версии.</p></li></ul>

<h3><a name="resolve-stack-dump"></a>5.7.3.
<span><strong>resolve_stack_dump</strong></span>
преобразование числового дампа трассировки стека к символам</h3>
<p><a href="#resolve-stack-dump">
<span><strong>resolve_stack_dump</strong></span></a> преобразует числовой
дамп трассировки стека к символам.</p>

<p>Вызов <a href="#resolve-stack-dump"><span><strong>
resolve_stack_dump</strong></span></a>:
<pre>
shell&gt; resolve_stack_dump [<em><code>options</code></em>] <em><code>symbols_file</code></em>
                             [<em><code>numeric_dump_file</code></em>]
</pre>

Файл символов должен включать вывод от команды <span><strong>nm
--numeric-sort mysqld</strong></span>. Числовой файл дампа должен содержать
числовую трассировку стека от <a href="#mysqld"><span><strong>
mysqld</strong></span></a>. Если никакой числовой файл дампа не называют в
командной строке, трассировка стека считана из стандартного ввода.</p>

<p><a href="#resolve-stack-dump"><span><strong>resolve_stack_dump
</strong></span></a> поддерживает следующие опции.</p>
<ul><li><p><a name="option_resolve_stack_dump_help"></a>
<a href="#option_resolve_stack_dump_help"><code>--help</code>
</a>, <code>-h</code></p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_resolve_stack_dump_numeric-dump-file"></a>
<a href="#option_resolve_stack_dump_numeric-dump-file"><code>
--numeric-dump-file=<em><code>file_name</code></em></code></a>,
<code>-n <em><code>file_name</code></em></code></p>
<p>Считайте трассировку стека из данного файла.</li>

<li><a name="option_resolve_stack_dump_symbols-file"></a>
<a href="#option_resolve_stack_dump_symbols-file"><code>
--symbols-file=<em><code>file_name</code></em></code></a>,
<code>-s <em><code>file_name</code></em></code></p>
<p>Используйте данный файл символов.</li>

<li><a name="option_resolve_stack_dump_version"></a>
<a href="#option_resolve_stack_dump_version"><code>--version
</code></a>, <code>-V</code></p>
<p>Показать информацию о версии.</p></li></ul>
<p>См. <a href="extend.htm#using-stack-trace">раздел 26.5.1.5</a>.</p>

<h2><a name="programs-miscellaneous"></a>5.8. Разные программы</h2>
<h3><a name="lz4-decompress"></a>5.8.1. <span><strong>lz4_decompress</strong>
</span> распаковывает сжатый LZ4 вывод mysqlpump</h3>
<p><a href="#lz4-decompress"><span><strong>lz4_decompress
</strong></span></a> распаковывает вывод
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>,
который создавался, используя сжатие LZ4.</p>

<p>Если MySQL был сконфигурирован с опцией
<a href="install.htm#option_cmake_with_lz4"><code>-DWITH_LZ4=system</code>
</a>, <a href="#lz4-decompress"><span><strong>lz4_decompress
</strong></span></a> не создана. В этом случае системная команда
<span><strong>lz4</strong></span> может использоваться вместо этого.</p>

<p>Вызов <a href="#lz4-decompress"><span><strong>lz4_decompress
</strong></span></a>:
<pre>
shell&gt; lz4_decompress <em><code>input_file</code></em> <em><code>output_file</code></em>
</pre>

Например:
<pre>
shell&gt; mysqlpump --compress-output=LZ4 &gt; dump.lz4
shell&gt; lz4_decompress dump.lz4 dump.txt
</pre>

Чтобы увидеть сообщение справки, вызовите
<a href="#lz4-decompress"><span><strong>lz4_decompress</strong>
</span></a> без параметров вообще.</p>

<p>Чтобы распаковать ZLIB-сжатый вывод <a href="#mysqlpump">
<span><strong>mysqlpump</strong></span></a>, используйте
<a href="#zlib-decompress"><span><strong>zlib_decompress</strong>
</span></a>. См. <a href="#zlib-decompress">раздел 5.8.5</a>.</p>

<h3><a name="perror"></a>5.8.2. <span><strong>perror</strong></span>
объясняет коды ошибки</h3>
<p>Для большинства системных ошибок MySQL в дополнение к внутреннему
текстовому сообщению, показывает системный код ошибки в одном
из следующих стилей:
<pre>
message ... (errno: #)
message ... (Errcode: #)
</pre>

Вы можете узнать то, что код ошибки подразумевает, изучая
документацию для Вашей системы или при использовании
<a href="#perror"><span><strong>perror</strong></span></a>.</p>

<p><a href="#perror"><span><strong>perror</strong></span></a>
печатает описание для системного кода ошибки или для кода ошибки механизма
хранения (табличный обработчик).</p>

<p>Вызов <a href="#perror"><span><strong>perror</strong></span>
</a>:
<pre>
shell&gt; perror [<em><code>options</code></em>] <em><code>errorcode</code></em> ...
</pre>

Например:
<pre>
shell&gt; perror 13 64
OS error code  13:  Permission denied
OS error code  64:  Machine is not on the network
</pre>

Чтобы получить сообщение об ошибке для кода ошибки MySQL Cluster, вызовите
<a href="#perror"><span><strong>perror</strong></span></a> с
опцией <a href="#option_perror_ndb"><code>--ndb</code></a>:
<pre>
shell&gt; perror --ndb <em><code>errorcode</code></em>
</pre>

Значение системных сообщений об ошибках может зависеть от Вашей операционной
системы. Данный код ошибки может означать разные вещи на
различных операционных системах.</p>

<p><a href="#perror">
<span><strong>perror</strong></span></a> поддерживает следующие опции.</p>
<ul><li><p><a name="option_perror_help"></a>
<a href="#option_perror_help"><code>--help</code></a>,
<a href="#option_perror_help"><code>--info</code></a>,
<code>-I</code>, <code>-?</code></p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_perror_ndb"></a>
<a href="#option_perror_ndb"><code>--ndb</code></a></p>
<p>Напечатайте сообщение об ошибке для кода ошибки MySQL Cluster.</li>

<li><a name="option_perror_silent"></a>
<a href="#option_perror_silent"><code>--silent</code></a>,
<code>-s</code></p>
<p>Тихий режим. Напечатайте только сообщение об ошибке.</li>

<li><a name="option_perror_verbose"></a>
<a href="#option_perror_verbose"><code>--verbose</code></a>,
<code>-v</code></p>
<p>Подробный режим. Печатается код ошибки и сообщение.
Это поведение по умолчанию.</li>

<li><a name="option_perror_version"></a>
<a href="#option_perror_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Показать информацию о версии.</p></li></ul>

<h3><a name="replace-utility"></a>5.8.3.
<span><strong>replace</strong></span> утилита строковой замены</h3>
<p><a href="#replace-utility"><span><strong>replace</strong>
</span></a> изменяет строки в файлах или стандартном вводе.</p>

<p>Вызов <a href="#replace-utility"><span><strong>replace
</strong></span></a> выполняется одним из следующих способов:
<pre>
shell&gt; replace <em><code>from</code></em> <em><code>to</code></em>
                  [<em><code>from</code></em> <em><code>to</code></em>] ...
                  -- <em><code>file_name</code></em> [<em><code>file_name</code></em>] ...
shell&gt; replace <em><code>from</code></em> <em><code>to</code></em>
                  [<em><code>from</code></em> <em><code>to</code></em>] ...
                  &lt; <em><code>file_name</code></em>
</pre>

<em><code>from</code></em> представляет строку, чтобы искать, а
<em><code>to</code></em> представляет ее замену. Могут быть одна или
более пар строк.</p>

<p>Опция <code>--</code> нужна, чтобы указать, где конец списка строковой
замены и начало имен файлов. В этом случае, любой файл, названный в командной
строке, изменен, таким образом, Вы можете хотеть сделать копию оригинала
прежде, чем преобразовать это. <em><code>replace</code></em> печатает
сообщение, указывающее, какой из вводных файлов фактически изменен.</p>

<p>Если опции <code>--</code> нет, <a href="#replace-utility">
<span><strong>replace</strong></span></a> читает стандартный ввод и пишет
на стандартный вывод.</p>

<p><a href="#replace-utility"><span><strong>replace</strong>
</span></a> использует конечный автомат, чтобы соответствовать более длинным
строкам сначала. Это может использоваться, чтобы обменивать строки. Например,
следующяя команда обменивает строки <code>a</code> и <code>b</code> в данных
файлах <code>file1</code> и <code>file2</code>:
<pre>
shell&gt; replace a b b a -- file1 file2 ...
</pre>

<a href="#replace-utility">
<span><strong>replace</strong></span></a> поддерживает следующие опции.</p>
<ul><li><p><a name="option_replace_help"></a>
<code>-?</code>, <code>-I</code></p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_replace_debug"></a>
<code>-#<em><code>debug_options</code></em></code></p>
<p>Включить режим отладки.</li>

<li><a name="option_replace_silent"></a><code>-s</code></p>
<p>Тихий режим. Напечатайте меньше информации, что делает программа.</li>
<li><a name="option_replace_verbose"></a><code>-v</code></p>
<p>Подробный режим. Напечатайте больше информации о том,
что делает программа.</li>
<li><a name="option_replace_version"></a><code>-V</code></p>
<p>Показать информацию о версии.</p></li></ul>

<h3><a name="resolveip"></a>5.8.4. <span><strong>resolveip</strong></span>
преобразование имени хоста к IP-адресу или наоборот</h3>
<p><a href="#resolveip"><span><strong>resolveip</strong></span>
</a> обеспечивает преобразование имени хоста к IP-адресу и наоборот.</p>

<p>Вызов <a href="#resolveip"><span><strong>resolveip</strong>
</span></a>:
<pre>
shell&gt; resolveip [<em><code>options</code></em>]
                    {<em><code>host_name</code></em>|<em><code>ip-addr</code></em>} ...
</pre>

<a href="#resolveip">
<span><strong>resolveip</strong></span></a> поддерживает следующие опции.</p>
<ul><li><p><a name="option_resolveip_help"></a>
<a href="#option_resolveip_help"><code>--help</code></a>,
<a href="#option_resolveip_help"><code>--info</code></a>,
<code>-?</code>, <code>-I</code>.</p>
<p>Отобразить сообщение справки.</li>

<li><a name="option_resolveip_silent"></a>
<a href="#option_resolveip_silent"><code>--silent</code></a>,
<code>-s</code></p>
<p>Тихий режим. Произведите меньше вывода.</li>

<li><a name="option_resolveip_version"></a>
<a href="#option_resolveip_version"><code>--version</code></a>,
<code>-V</code></p>
<p>Показать информацию о версии.</p></li></ul>

<h3><a name="zlib-decompress"></a>5.8.5.
<span><strong>zlib_decompress</strong></span>
распаковывает ZLIB-сжатый вывод mysqlpump</h3>
<p><a href="#zlib-decompress"><span><strong>zlib_decompress
</strong></span></a> распаковывает ZLIB-сжатый вывод
<a href="#mysqlpump"><span><strong>mysqlpump</strong></span></a>.
</p>

<p>Если MySQL был сконфигурирован с опцией
<a href="install.htm#option_cmake_with_zlib"><code>-DWITH_ZLIB=system</code>
</a>, <a href="#zlib-decompress"><span><strong>zlib_decompress
</strong></span></a> не создана. В этом случае системная команда
<span><strong>openssl zlib</strong></span> может использоваться вместо этого.
</p>

<p>Вызов <a href="#zlib-decompress"><span><strong>zlib_decompress
</strong></span></a>:
<pre>
shell&gt; zlib_decompress <em><code>input_file</code></em> <em><code>output_file</code></em>
</pre>

Например:
<pre>
shell&gt; mysqlpump --compress-output=ZLIB &gt; dump.zlib
shell&gt; zlib_decompress dump.zlib dump.txt
</pre>

Чтобы увидеть справочное сообщение, вызовите
<a href="#zlib-decompress"><span>
<strong>zlib_decompress</strong></span></a> без параметров.</p>

<p>Чтобы распаковать вывод <a href="#mysqlpump">
<span><strong>mysqlpump</strong></span></a>, сжатый LZ4, примените
<a href="#lz4-decompress"><span><strong>lz4_decompress</strong>
</span></a>. См. <a href="#lz4-decompress">раздел 5.8.1</a>.</p>

<h2><a name="environment-variables"></a>5.9.
Переменные окружения программы MySQL</h2>
<p>Этот раздел перечисляет переменные окружения, которые используются прямо
или косвенно MySQL. Большинство из них может также быть найдено в других
местах в этом руководстве.</p>

<p>Опции в командной строке имеют приоритет перед значениями, определенными в
файлах опции и переменных окружения, а значения в файлах опции имеют
приоритет перед значениями в переменных окружения. Во многих случаях
предпочтительно использовать файл опции вместо переменных окружения, чтобы
изменить поведение MySQL. См. <a href="#option-files">раздел
5.2.6</a>.</p>

<table border="1">
<thead><tr><th scope="col">Переменная</th><th scope="col">Описание
</th></tr></thead>
<tbody><tr><td scope="row"><code>CXX</code></td><td>
Название Вашего компилятора C++ (для того, чтобы выполнить
<span><strong>CMake</strong></span>).</td></tr>
<tr><td scope="row"><code>CC</code></td><td>
Название Вашего компилятора C (для того, чтобы выполнить
<span><strong>CMake</strong></span>).</td></tr>
<tr><td scope="row"><code>DBI_USER</code></td><td>
Имя пользователя по умолчанию для Perl DBI.</td></tr>
<tr><td scope="row"><code>DBI_TRACE</code></td><td>
Опции трассировки для Perl DBI.</td></tr>
<tr><td scope="row"><code>HOME</code></td><td>
Путь по умолчанию для файла истории
<a href="#mysql"><span><strong>mysql</strong></span></a>
<code>$HOME/.mysql_history</code>.</td></tr>
<tr><td scope="row"><code>LD_RUN_PATH</code></td><td>
Используется, чтобы определить местоположение <code>libmysqlclient.so</code>.
</td></tr>
<tr><td scope="row"><code>LIBMYSQL_ENABLE_CLEARTEXT_PLUGIN</code></td><td>
Включить плагин <code>mysql_clear_password</code>, см.
<a href="security.htm#cleartext-authentication-plugin">раздел 7.5.1.4</a>.
</td></tr>
<tr><td scope="row"><code>LIBMYSQL_PLUGIN_DIR</code></td><td>
Каталог, в котором можно искать плагины клиента.</td></tr>
<tr><td scope="row"><code>LIBMYSQL_PLUGINS</code></td><td>
Плагины клиента, чтобы предварительно загрузить.</td></tr>
<tr><td scope="row"><code>MYSQL_DEBUG</code></td><td>
Опции трассировки отладки.</td></tr>
<tr><td scope="row"><code>MYSQL_GROUP_SUFFIX</code></td><td>
Групповое значение суффикса опции (как определение
<a href="#option_general_defaults-group-suffix"><code>
--defaults-group-suffix</code></a>).</td></tr>
<tr><td scope="row"><code>MYSQL_HISTFILE</code></td><td>
Путь к файлу истории <a href="#mysql"><span><strong>mysql
</strong></span></a>. Если эта переменная установлена, ее значение
переопределяет значение по умолчанию для
<code>$HOME/.mysql_history</code>.</td></tr>
<tr><td scope="row"><code>MYSQL_HISTIGNORE</code></td><td>
Образцы, определяющие запросы, которые
<a href="#mysql"><span><strong>mysql</strong></span></a>
не должен зарегистрировать в <code>$HOME/.mysql_history</code> или
<code>syslog</code>, если дана опция
<a href="#option_mysql_syslog"><code>--syslog</code></a>.
</td></tr>
<tr><td scope="row"><code>MYSQL_HOME</code></td>
<td>Путь к каталогу, в котором находится определенный для сервера
файл <code>my.cnf</code>.</td></tr>
<tr><td scope="row"><code>MYSQL_HOST</code></td>
<td>Имя хоста по умолчанию для <a href="#mysql"><span><strong>
mysql</strong></span></a>.</td></tr>
<tr><td scope="row"><code>MYSQL_PS1</code></td><td>Командная строка, чтобы
использовать в <a href="#mysql"><span><strong>mysql</strong>
</span></a>.</td></tr>
<tr><td scope="row"><code>MYSQL_PWD</code></td><td>Пароль по умолчанию,
соединяясь с <a href="#mysqld"><span><strong>mysqld</strong>
</span></a>. Использование этого опасно. См.
<a href="security.htm#password-security-user">раздел 7.1.2.1</a>.</td></tr>
<tr><td scope="row"><code>MYSQL_TCP_PORT</code></td><td>
Значение по умолчанию порта TCP/IP.</td></tr>
<tr><td scope="row"><code>MYSQL_TEST_LOGIN_FILE</code></td><td>
Название файла пути входа в систему <code>.mylogin.cnf</code>.</td></tr>
<tr><td scope="row"><code>MYSQL_TEST_TRACE_CRASH</code></td><td>
Разрушает ли испытательный плагин трассировки протокола клиентов.</td></tr>
<tr><td scope="row"><code>MYSQL_TEST_TRACE_DEBUG</code></td><td>
Производит ли испытательный плагин трассировки протокола вывод.</td></tr>
<tr><td scope="row"><code>MYSQL_UNIX_PORT</code></td><td>Имя файла сокета
Unix по умолчанию для соединений с <code>localhost</code>.</td></tr>
<tr><td scope="row"><code>PATH</code></td><td>Используется оболочкой, чтобы
найти программы MySQL.</td></tr>
<tr><td scope="row"><code>PKG_CONFIG_PATH</code></td>
<td>Расположение файла <code>mysqlclient.pc</code>
<span><strong>pkg-config</strong></span>.</td></tr>
<tr><td scope="row"><code>TMPDIR</code></td><td>
Каталог, в котором создаются временные файлы.</td></tr>
<tr><td scope="row"><code>TZ</code></td><td>Это должно быть установлено в
Вашу зону местного времени. См.
<a href="error.htm#timezone-problems">раздел B.5.3.7</a>.</td></tr>
<tr><td scope="row"><code>UMASK</code></td><td>
Режим создания пользовательского файла.</td></tr>
<tr><td scope="row"><code>UMASK_DIR</code></td><td>
Режим создания пользовательского каталога.</td></tr>
<tr><td scope="row"><code>USER</code></td><td>
Имя пользователя по умолчанию в Windows, соединяясь с
<a href="#mysqld"><span><strong>mysqld</strong></span></a>.
</td></tr></tbody></table>

<p>Для информации о файле истории <a href="#mysql"><span><strong>
mysql</strong></span></a> см.
<a href="#mysql-logging">раздел 5.5.1.3</a>.</p>

<p><code>MYSQL_TEST_LOGIN_FILE</code> путь файла пути входа в систему (файл,
создаваемый <a href="#mysql-config-editor">
<span><strong>mysql_config_editor</strong></span></a>). Если не задано,
значение по умолчанию <code>%APPDATA%\MySQL\.mylogin.cnf</code> в
Windows и <code>$HOME/.mylogin.cnf</code> в не-Windows.
См. <a href="#mysql-config-editor">раздел 5.6.7</a>.</p>

<p>Переменные <code>MYSQL_TEST_TRACE_DEBUG</code> и
<code>MYSQL_TEST_TRACE_CRASH</code> управляют испытательным плагином клиента
трассировки протокола, если MySQL собран с этим включенным плагином.
Для получения дополнительной информации см.
<a href="extend.htm#test-protocol-trace-plugin">раздел 26.2.4.11.1</a>.</p>

<p>Значение по умолчанию <code>UMASK</code> и
<code>UMASK_DIR</code>: соответственно <code>0640</code> и <code>0750</code>.
MySQL предполагает, что значение для
<code>UMASK</code> или <code>UMASK_DIR</code> восьмеричное, если это
начинается с 0. Например, установка <code>UMASK=0600</code> равнозначна
<code>UMASK=384</code>, так как восьмеричное 0600 это десятичное 384.</p>

<p><code>UMASK</code> и <code>UMASK_DIR</code>, несмотря на их имена,
используются в качестве режимов, не масок:</p>
<ul><li><p>Если установлена <code>UMASK</code>,
<a href="#mysqld"><span><strong>mysqld</strong></span></a>
использует <code>($UMASK | 0600)</code> как режим для создания файла, чтобы у
создаваемых файлов был режим в диапазоне от 0600 до 0666
(все значения восьмеричные).</li>

<li>Если установлена <code>UMASK_DIR</code>, <a href="#mysqld">
<span><strong>mysqld</strong></span></a> применяет <code>($UMASK_DIR |
0700)</code> как основной режим для создания каталога, который тогда является
AND с <code>~(~$UMASK &amp; 0666)</code>, чтобы у создаваемых каталогов был
режим в диапазоне от 0700 до 0777 (все значения восьмеричные).
AND может удалить разрешения режима чтения и записи каталога, но
не разрешение выполнения.</p></li></ul>

<p>Может быть необходимо установить <code>PKG_CONFIG_PATH</code>,
если Вы используете <span><strong>pkg-config</strong></span>
для создания программ MySQL. См.
<a href="connect.htm#c-api-building-clients-pkg-config">раздел 25.8.4.2</a>.
</p>

</index></td><td width="20%">
<script type="text/javascript">
    var begun_auto_colors           = new Array();
    var begun_auto_fonts_size       = new Array();
    var begun_auto_pad              =       97517308;     // идентификатор площадки
    var begun_auto_limit            =              5;     // число объявлений выводимых на площадке
    var begun_auto_width            =            250;     // ширина блока объявлений
    begun_auto_colors[0]            =      '#0000CC';     // цвет ссылки объявлений
    begun_auto_colors[1]            =      '#000000';     // цвет текста объявления
    begun_auto_colors[2]            =      '#00CC00';     // цвет домена объявления
    begun_auto_colors[3]            =      '#FFFFFF';     // цвет фона блока объявлений
    begun_auto_fonts_size[0]        =          '9pt';     // р-мер шрифта ссылки объявлений
    begun_auto_fonts_size[1]        =          '9pt';     // р-мер шрифта текста объявления
    begun_auto_fonts_size[2]        =          '8pt';     // р-мер шрифта домена объявления
    begun_auto_fonts_size[3]        =          '8pt';     // р-мер шрифта заглушки
    var begun_block_type            =     'Vertical';     // тип блока
    var begun_rambler_type          =              1;     // цвет блока поиска Рамблер
    begun_koi8 = 1;
</script>
<script src="../../../autocontext.begun.ru/autocontext.js"
type="text/javascript"></script>
</td></tr></table>

<p><table><tr><td>
<form method="get" name="fform" onSubmit="fsearch(strf.value); return false;">
<input type="hidden" name="clid" value="39177">
<b>Поиск</b><table><tr>
<td><input type="text" name="strf" size="15" style="font-size: 9pt" /></td></tr>
<tr><td><font size="-1"><input type="radio" name="myradio" value="0"
checked id="at_site"/>
<label for="at_site">На сайте</label><br>
<input type="radio" name="myradio" value="1" id="at_ya">
<label for="at_ya">В Яндексе</label></font></td></tr>
<tr><td><input type="submit" value="Найти" style="font-size: 9pt"/></td></tr>
</table></form></td>
<td>&nbsp;</td><td><script language="JavaScript"
src="../../../b190.takru.com/in.php@id=199275">
</script></td></tr></table></p>

<p><center><table><tr><td><font size="+1"><B>Найди своих коллег!</B></font><BR>
<script language="javascript"
src="../../../rldp.lovemesweet.ru/banner/db.js.php@rows=01&cols=05&bg=33FF33&sex=0&afrom=18&ato=99&headgif=&sf=1&nwnd=1&pmin=0&cid=RU&tid=0&smu=0&tcl1=000000&tcl2=FF0000">
</script></td>

<td><iframe src="../../../www.linuxcenter.ru/trans/list.phtml@ref=121965&n=5&price=yes"
frameborder="0" vspace="0" hspace="0" width="300" height="350" marginwidth="0"
marginheight="0" scrolling="no"></iframe></td></tr></table></center></p>

<P><FONT SIZE=-1>Вы можете <A HREF="mailto:alexey.v.pautov@mail.ru">
направить письмо</A> администратору этой странички, Алексею Паутову.</FONT>
<A HREF="mailto:alexey.v.pautov@mail.ru"><IMG SRC="img/email.gif"
ALT="mailto:alexey.v.pautov@mail.ru" BORDER=0 valign="center" HEIGHT=35
WIDTH=105 ALIGN=ABSCENTER></A></P>

<script type="text/javascript" src="../../../bin-layer.ru/popup-686-1.js">
</script>


</body>
</html>
