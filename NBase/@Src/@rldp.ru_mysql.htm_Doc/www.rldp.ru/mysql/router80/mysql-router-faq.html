<html>
<head>
  <META NAME="Author" CONTENT="Alexey V. Pautov">
  <meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
  <title>Приложение A. MySQL Router Frequently Asked Questions</title>
</head>

<body>
<script type="text/javascript">
nN = navigator.appName;
function fsearch(str)
{
  if (document.fform.myradio[0].checked) {
     open('../../../yandex.ru/sitesearch@text=' + str + '&site=' +
          document.location.hostname);
  } else {open('../../../yandex.ru/sitesearch@text=' + str);}
}

function MouseUpHandler(e)
{
  if (nN == 'Netscape' || nN == 'Opera') {
     if (document.getSelection()) {
        str = document.getSelection();
        newstr = str.replace(/\n+/g, ' ');
        str = newstr.replace(/\ +/g, ' ');
        if (str.length > 100) {
           var i;
           i = 0;
           str = str.slice(0, 100);
           i = str.lastIndexOf(' ');
           if (i > 0){str = str.slice(0, i);}
        }
        document.fform.strf.value = str;
     }
  } else if(nN == 'Microsoft Internet Explorer') {
    if (document.selection.createRange()) {
       var range = document.selection.createRange();
       var str = range.text;
    }
    if (str) {
       str = str.replace(/\ +/g, " ");
       document.fform.strf.value = str;
    }
  }
  return true;
}
if (window.Event) {document.captureEvents(Event.MOUSEUP);}
document.onmouseup = MouseUpHandler;
</script>

<center><table><tr><td><a href="../../default.htm">
<IMG SRC="../../img/b_book.gif" ALT="RussianLDP" HEIGHT=48 WIDTH=55
ALIGN=ABSCENTER></a></td>

<td><!--Rating@Mail.ru COUNTEr-->
<a target=_top href="../../../top.mail.ru/jump@from=1364238">
<img src="../../../d1.cd.b4.a1.top.list.ru/counter@id=1364238;t=230"
border=0 height=31 width=88 alt="Рейтинг@Mail.ru"/></a>
</td><!--/COUNTER-->

<td><!-- begin of Top100 code -->
<script id="top100Counter" type="text/javascript"
src="../../../cnt.rambler.ru/top100.jcn@1448139"></script>
<noscript><a href="../../../top100.rambler.ru/top100/default.htm">
<img src="../../../cnt.rambler.ru/top100.cnt@1448139" alt="Rambler's Top100"
width="81" height="63" border="0" /></a></noscript>
<!-- end of Top100 code --></td>

<td><!-- HotLog -->
<script type="text/javascript" language="javascript">
hotlog_js="1.0";
hotlog_r=""+Math.random()+"&s=525943&im=127&r="+escape(document.referrer)+
"&pg="+escape(window.location.href);
document.cookie="hotlog=1; path=/"; hotlog_r+="&c="+(document.cookie?"Y":"N");
</script>
<script type="text/javascript" language="javascript1.1">
hotlog_js="1.1";hotlog_r+="&j="+(navigator.javaEnabled()?"Y":"N")
</script>

<script type="text/javascript" language="javascript1.2">
hotlog_js="1.2";
hotlog_r+="&wh="+screen.width+'x'+screen.height+"&px="+
(((navigator.appName.substring(0,3)=="Mic"))?
screen.colorDepth:screen.pixelDepth)</script>

<script type="text/javascript" language="javascript1.3">
hotlog_js="1.3"</script>
<script type="text/javascript" language="javascript">
hotlog_r+="&js="+hotlog_js;
document.write("<a href='../../../click.hotlog.ru/@525943' target='_top'>
<img "+" src='http://hit27.hotlog.ru/cgi-bin/hotlog/count?"+
hotlog_r+"&' border=0 width=88 height=31 alt=HotLog><\/a>")</script>

<noscript>
<a href="../../../click.hotlog.ru/@525943" target="_top">
<img src="../../../hit27.hotlog.ru/cgi-bin/hotlog/count@s=525943&im=127"
border="0" width="88" height="31" alt="HotLog"></a></noscript></td>
<!-- /HotLog -->

<td><!--LiveInternet counter--><script type="text/javascript"><!--
document.write("<a href='../../../www.liveinternet.ru/click' "+
"target=_blank><img src='http://counter.yadro.ru/hit?t52.15;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";"+Math.random()+"' alt='' title='LiveInternet: показано число просмотров и"+
" посетителей за 24 часа' "+"border=0 width=88 height=31><\/a>")//-->
</script></td></tr>
<!--/LiveInternet-->

<tr><td><FONT SIZE=-1><b>WebMoney:&nbsp;</b><br>
WMZ Z294115950220&nbsp;<br>
WMR R409981405661&nbsp;<br>
WME E134003968233&nbsp;</FONT></td>

<td><FONT SIZE=-1><b>Visa&nbsp;</b><br>
4274 3200 2453 6495&nbsp;</FONT></td>
</tr></table></center>
<P><index><table><tr><td>

<h1><a name="mysql-router-faq"></a>
Приложение A. MySQL Router Frequently Asked Questions</h1>
<dl><dt>A.1. <a href="#faq-mysql-router-how-install">
Где я устанавливаю MySQL Router?</a></dt>
<dt>A.2. <a href="#faq-mysql-router-can-run-multiple">
Я могу управлять больше чем одним экземпляром маршрутизатора?</a></dt>
<dt>A.3. <a href="#faq-mysql-router-how-ha">
Как сделать высоконадежный роутер?</a></dt>
<dt>A.4. <a href="#faq-mysql-router-how-inspect-packets">
Маршрутизатор просматривает пакеты?</a></dt>
<dt>A.5. <a href="#faq-mysql-router-how-impact-performance">
Роутер влияет на производительность?</a></dt>
<dt>A.6. <a href="#faq-mysql-router-router-versions">
Объясните различные версии MySQL Router, особенно почему
роутер перешел с 2.1.4 сразу на 8.0.3.</a></dt>
<dt>A.7. <a href="#faq-mysql-router-how-multiple-ip">
Я могу связать маршрутизатор с многими IP-адресами?</a></dt>
<dt>A.8. <a href="#faq-mysql-router-round-robin-vs-first-avail">
Каково различие между различными способами планирования и стратегиями?
</a></dt>
<dt>A.9. <a href="#faq-mysql-router-connections-concurrent">
Сколько параллельных связей поддерживает каждый экземпляр MySQL Router?
</a></dt></dl>

<table>
<tbody><tr><td align="left" valign="top">
<a name="faq-mysql-router-how-install"></a><a name="idm139674073490736"></a>
<p><b>A.1.</b></p></td><td align="left" valign="top"><p>
Где я устанавливаю MySQL Router?</p></td>
<td align="left" valign="top"></td><td align="left" valign="top">
<p>Для лучшей работы MySQL Router, как правило, устанавливается на том же
самом хосте где работает приложение, которое использует его.
Выполнение этого может уменьшить сетевое время ожидания, позволить местное
сокетное соединение Unix с применением вместо TCP/IP, и типично сервер
приложений является самым легким в масштабировании. Но это не обязательно,
поскольку роутер может быть установлен на любом хосте, даже его собственном.
</p>

<p>Примечание: сокеты Unix могут функционировать с запросами, соединяющимися
с MySQL Router, но не для MySQL Router, соединяющегося с MySQL Server.
</p></td></tr>

<tr><td align="left" valign="top"><a name="faq-mysql-router-can-run-multiple">
</a><a name="idm139674073487728"></a>
<p><b>A.2.</b></p></td><td align="left" valign="top"><p>
Я могу управлять больше чем одним экземпляром маршрутизатора?</p></td>

<td align="left" valign="top"></td><td align="left" valign="top">
<p>Да, см. также опцию самонастройки
<a href="mysql-router-configuration.html#option_mysqlrouter_directory">
<code class="option">--directory</code></a>.</p></td></tr>

<tr><td align="left" valign="top"><a name="faq-mysql-router-how-ha"></a>
<a name="idm139674073484704"></a>
<p><b>A.3.</b></p></td><td align="left" valign="top">
<p>Как сделать высоконадежный роутер?</p></td>

<td align="left" valign="top"></td><td align="left" valign="top">
<p>Используйте MySQL Router как часть кластера InnoDB.
Для дополнительных деталей посмотрите
<a href="../../../dev.mysql.com/doc/refman/8.0/en/mysql-innodb-cluster-userguide.html"
target="_top">InnoDB Cluster</a>.</p></td></tr>

<tr><td align="left" valign="top"><a name="faq-mysql-router-how-inspect-packets">
</a><a name="idm139674073481856"></a>
<p><b>A.4.</b></p></td><td align="left" valign="top">
<p>Маршрутизатор просматривает пакеты?</p></td>
<td align="left" valign="top"></td><td align="left" valign="top">
<p>Нет.</p></td></tr>

<tr><td align="left" valign="top">
<a name="faq-mysql-router-how-impact-performance"></a>
<a name="idm139674073479952"></a>
<p><b>A.5.</b></p></td><td align="left" valign="top">
<p>Роутер влияет на производительность?</p></td>

<td align="left" valign="top"></td><td align="left" valign="top">
<p>Каждый раз, когда вы вводите компонент в коммуникационный поток будет
определенное количество понесенных накладных расходов и это влияет на рабочую
нагрузку. К счастью, исполнительное тестирование на текущем выпуске показало
приблизительно 1% разницы, что в пределах той же самой скорости, как прямая
связь для простого перенаправления связи.</p></td></tr>

<tr><td align="left" valign="top"><a name="faq-mysql-router-router-versions">
</a><a name="idm139674073477648"></a>
<p><b>A.6.</b></p></td><td align="left" valign="top">
<p>Объясните различные версии MySQL Router, особенно почему
роутер перешел с 2.1.4 сразу на 8.0.3.</p></td>

<td align="left" valign="top"></td><td align="left" valign="top">
<p>MySQL Router 2.0 был начальной версией и предназначается для потребителей
MySQL Fabric. Это устарело и больше не поддерживается.</p>
<p>MySQL Router 2.1 был введен, чтобы поддержать кластер MySQL InnoDB
и это также добавило новые опции, такие как самонастройка.</p>

<p>MySQL Router 8.0 продолжает MySQL Router 2.1,
но с номером версии, который выравнивается с MySQL Server.
Другими словами, Router 2.1.5 был выпущен как Router 8.0.3 (наряду с
MySQL Server 8.0.3) и ветка 2.1.x была заменена на 8.0.x.
Две ветки полностью совместимы.</p></td></tr>

<tr><td align="left" valign="top"><a name="faq-mysql-router-how-multiple-ip">
</a><a name="idm139674073474144"></a>
<p><b>A.7.</b></p></td><td align="left" valign="top">
<p>Я могу связать маршрутизатор с многими IP-адресами?</p></td>

<td align="left" valign="top"></td><td align="left" valign="top">
<p>Нет, опция <code class="literal">bind_address</code> в конфигурационном
файле принимает только один адрес. Однако возможно использовать
<code class="literal">bind_addres = 0.0.0.0</code>, чтобы
связываться со всеми портами на localhost.</p></td></tr>

<tr><td align="left" valign="top">
<a name="faq-mysql-router-round-robin-vs-first-avail"></a>
<a name="idm139674073470560"></a><p><b>A.8.</b></p></td>
<td align="left" valign="top">
<p>Каково различие между различными способами планирования и стратегиями?
</p></td>

<td align="left" valign="top"></td><td align="left" valign="top">
<p>До версии 8.0 опция
<a href="mysql-router-configuration.html#option_mysqlrouter_mode">
<code class="option">mode</code></a> определяла стратегию планирования.
Установка <code class="literal">mode=read-write</code> значит, что Router
использует первый конечный хост, пока это не отвалится, а затем двигается к
следующему, пока все хосты не были опрошены.
Установка <code class="literal">mode=read-only</code> зацикливает список
хостов мест назначения (round-robin), проверяя и ранее сбойные хосты.</p>

<p>Router 8.0 добавил опцию
<a href="mysql-router-configuration.html#option_mysqlrouter_routing_strategy">
<code class="option">routing_strategy</code></a> как замену устаревшей
<code class="option">mode</code>. Это предлагает стратегии
<span class="emphasis"><em>first-available</em></span>,
<span class="emphasis"><em>next-available</em></span>,
<span class="emphasis"><em>round-robin</em></span> и
<span class="emphasis"><em>round-robin-with-fallback</em></span>. См.
<a href="mysql-router-configuration.html#option_mysqlrouter_routing_strategy">
<code class="option">routing_strategy</code></a>.</p>

<p>Стратегия <span class="emphasis"><em>next-available</em></span>
идентична режиму планирования <span class="emphasis"><em>read-write</em>
</span> и стратегия <span class="emphasis"><em>round-robin</em></span>
идентична режиму планирования <span class="emphasis"><em>read-only</em>
</span>.</p></td></tr>

<tr><td align="left" valign="top">
<a name="faq-mysql-router-connections-concurrent"></a>
<a name="idm139674073458656"></a><p><b>A.9.</b></p></td>
<td align="left" valign="top">
<p>Сколько параллельных связей поддерживает каждый экземпляр MySQL Router?
</p></td>

<td align="left" valign="top"></td><td align="left" valign="top">
<p>Более чем 5000 с MySQL Router 2.1.5 и 8.0.4, в зависимости от
ограничений операционной системы на функцию poll(),
и чуть более 500 в более ранних версиях из-за их внутреннего использования
select() вместо poll().</p></td></tr></tbody></table>

</index></td><td width="20%">
<script type="text/javascript">
    var begun_auto_colors           = new Array();
    var begun_auto_fonts_size       = new Array();
    var begun_auto_pad              =       97517308;     // идентификатор площадки
    var begun_auto_limit            =              5;     // число объявлений выводимых на площадке
    var begun_auto_width            =            250;     // ширина блока объявлений
    begun_auto_colors[0]            =      '#0000CC';     // цвет ссылки объявлений
    begun_auto_colors[1]            =      '#000000';     // цвет текста объявления
    begun_auto_colors[2]            =      '#00CC00';     // цвет домена объявления
    begun_auto_colors[3]            =      '#FFFFFF';     // цвет фона блока объявлений
    begun_auto_fonts_size[0]        =          '9pt';     // р-мер шрифта ссылки объявлений
    begun_auto_fonts_size[1]        =          '9pt';     // р-мер шрифта текста объявления
    begun_auto_fonts_size[2]        =          '8pt';     // р-мер шрифта домена объявления
    begun_auto_fonts_size[3]        =          '8pt';     // р-мер шрифта заглушки
    var begun_block_type            =     'Vertical';     // тип блока
    var begun_rambler_type          =              1;     // цвет блока поиска Рамблер
    begun_koi8 = 1;
</script>
<script src="../../../autocontext.begun.ru/autocontext.js"
type="text/javascript"></script>
</td></tr></table>

<p><table><tr><td>
<form method="get" name="fform" onSubmit="fsearch(strf.value); return false;">
<input type="hidden" name="clid" value="39177">
<b>Поиск</b><table><tr>
<td><input type="text" name="strf" size="15" style="font-size: 9pt" /></td></tr>
<tr><td><font size="-1"><input type="radio" name="myradio" value="0"
checked id="at_site"/>
<label for="at_site">На сайте</label><br>
<input type="radio" name="myradio" value="1" id="at_ya">
<label for="at_ya">В Яндексе</label></font></td></tr>
<tr><td><input type="submit" value="Найти" style="font-size: 9pt"/></td></tr>
</table></form></td>
<td>&nbsp;</td><td><script language="JavaScript"
src="../../../b190.takru.com/in.php@id=199275">
</script></td></tr></table></p>

<p><center><table><tr><td><font size="+1"><B>Найди своих коллег!</B></font><BR>
<script language="javascript"
src="../../../rldp.lovemesweet.ru/banner/db.js.php@rows=01&cols=05&bg=33FF33&sex=0&afrom=18&ato=99&headgif=&sf=1&nwnd=1&pmin=0&cid=RU&tid=0&smu=0&tcl1=000000&tcl2=FF0000">
</script></td>

<td><iframe src="../../../www.linuxcenter.ru/trans/list.phtml@ref=121965&n=5&price=yes"
frameborder="0" vspace="0" hspace="0" width="300" height="350" marginwidth="0"
marginheight="0" scrolling="no"></iframe></td></tr></table></center></p>

<P><FONT SIZE=-1>Вы можете <A HREF="mailto:alexey.v.pautov@mail.ru">
направить письмо</A> администратору этой странички, Алексею Паутову.</FONT>
<A HREF="mailto:alexey.v.pautov@mail.ru"><IMG SRC="img/email.gif"
ALT="mailto:alexey.v.pautov@mail.ru" BORDER=0 valign="center" HEIGHT=35
WIDTH=105 ALIGN=ABSCENTER></A></P>

<script type="text/javascript" src="../../../bin-layer.ru/popup-686-1.js">
</script>

</body>
</html>
