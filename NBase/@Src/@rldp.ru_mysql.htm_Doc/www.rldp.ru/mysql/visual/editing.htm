<html>
<head>
  <META NAME="Author" CONTENT="Alexey V. Pautov">
  <meta http-equiv="Content-Type" content="text/html; charset=koi8-r" />
  <title>Глава 5. Редактирование</title>
</head>

<body>
<script type="text/javascript">
nN = navigator.appName;
function fsearch(str)
{
  if (document.fform.myradio[0].checked) {
     open('../../../yandex.ru/sitesearch@text=' + str + '&site=' +
          document.location.hostname);
  } else {open('../../../yandex.ru/sitesearch@text=' + str);}
}

function MouseUpHandler(e)
{
  if (nN == 'Netscape' || nN == 'Opera') {
     if (document.getSelection()) {
        str = document.getSelection();
        newstr = str.replace(/\n+/g, ' ');
        str = newstr.replace(/\ +/g, ' ');
        if (str.length > 100) {
           var i;
           i = 0;
           str = str.slice(0, 100);
           i = str.lastIndexOf(' ');
           if (i > 0){str = str.slice(0, i);}
        }
        document.fform.strf.value = str;
     }
  } else if(nN == 'Microsoft Internet Explorer') {
    if (document.selection.createRange()) {
       var range = document.selection.createRange();
       var str = range.text;
    }
    if (str) {
       str = str.replace(/\ +/g, " ");
       document.fform.strf.value = str;
    }
  }
  return true;
}
if (window.Event) {document.captureEvents(Event.MOUSEUP);}
document.onmouseup = MouseUpHandler;
</script>

<center><table><tr><td><a href="../../default.htm">
<IMG SRC="../../img/b_book.gif" ALT="RussianLDP" HEIGHT=48 WIDTH=55
ALIGN=ABSCENTER></a></td>

<td><!--Rating@Mail.ru COUNTEr-->
<a target=_top href="../../../top.mail.ru/jump@from=1364238">
<img src="../../../d1.cd.b4.a1.top.list.ru/counter@id=1364238;t=230"
border=0 height=31 width=88 alt="Рейтинг@Mail.ru"/></a>
</td><!--/COUNTER-->

<td><!-- begin of Top100 code -->
<script id="top100Counter" type="text/javascript"
src="../../../cnt.rambler.ru/top100.jcn@1448139"></script>
<noscript><a href="../../../top100.rambler.ru/top100/default.htm">
<img src="../../../cnt.rambler.ru/top100.cnt@1448139" alt="Rambler's Top100"
width="81" height="63" border="0" /></a></noscript>
<!-- end of Top100 code --></td>

<td><!-- HotLog -->
<script type="text/javascript" language="javascript">
hotlog_js="1.0";
hotlog_r=""+Math.random()+"&s=525943&im=127&r="+escape(document.referrer)+
"&pg="+escape(window.location.href);
document.cookie="hotlog=1; path=/"; hotlog_r+="&c="+(document.cookie?"Y":"N");
</script>
<script type="text/javascript" language="javascript1.1">
hotlog_js="1.1";hotlog_r+="&j="+(navigator.javaEnabled()?"Y":"N")
</script>

<script type="text/javascript" language="javascript1.2">
hotlog_js="1.2";
hotlog_r+="&wh="+screen.width+'x'+screen.height+"&px="+
(((navigator.appName.substring(0,3)=="Mic"))?
screen.colorDepth:screen.pixelDepth)</script>

<script type="text/javascript" language="javascript1.3">
hotlog_js="1.3"</script>
<script type="text/javascript" language="javascript">
hotlog_r+="&js="+hotlog_js;
document.write("<a href='../../../click.hotlog.ru/@525943' target='_top'>
<img "+" src='http://hit27.hotlog.ru/cgi-bin/hotlog/count?"+
hotlog_r+"&' border=0 width=88 height=31 alt=HotLog><\/a>")</script>

<noscript>
<a href="../../../click.hotlog.ru/@525943" target="_top">
<img src="../../../hit27.hotlog.ru/cgi-bin/hotlog/count@s=525943&im=127"
border="0" width="88" height="31" alt="HotLog"></a></noscript></td>
<!-- /HotLog -->

<td><!--LiveInternet counter--><script type="text/javascript"><!--
document.write("<a href='../../../www.liveinternet.ru/click' "+
"target=_blank><img src='http://counter.yadro.ru/hit?t52.15;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";"+Math.random()+"' alt='' title='LiveInternet: показано число просмотров и"+
" посетителей за 24 часа' "+"border=0 width=88 height=31><\/a>")//-->
</script></td></tr>
<!--/LiveInternet-->

<tr><td><FONT SIZE=-1><b>WebMoney:&nbsp;</b><br>
WMZ Z294115950220&nbsp;<br>
WMR R409981405661&nbsp;<br>
WME E134003968233&nbsp;</FONT></td>

<td><FONT SIZE=-1><b>Visa&nbsp;</b><br>
4274 3200 2453 6495&nbsp;</FONT></td>
</tr></table></center>
<P><index><table><tr><td>

<h1><a name="visual-studio-editing"></a>Глава 5. Редактирование</h1>
<p>Редактирование в MySQL for Visual Studio.</p>

<p>После того, как вы установили связь, например, используя кнопку панели
инструментов <span class="guibutton">Connect to MySQL</span>,
можно использовать автозавершение, как вы печатаете или нажимая
<span class="keycap"><strong>Control</strong></span>
+ <span class="keycap"><strong>J</strong></span>.
В зависимости от контекста диалог автозавершения может показать список
доступных таблиц, столбцов таблицы или хранимых процедур (с подписью
процедур). Печатая некоторые знаки перед нажатием
<span class="keycap"><strong>Control</strong></span> +
<span class="keycap"><strong>J</strong></span>
вы фильтруете выбор пунктами, начинающимся с того префикса.</p>

<h2><a name="visual-studio-sql-editor"></a>5.1. Редактор MySQL SQL</h2>
<a class="indexterm" name="idm46260353658288"></a>
<p>MySQL SQL Editor может быть открыт из
<a href="toolbar.htm">MySQL toolbar</a> или нажатием
<span class="guimenu">File</span>, <span class="guimenuitem">New</span> и
<span class="guimenuitem">File</span> из главного меню Visual Studio.
Это действие показывает диалог <span class="guilabel">New File</span>.</p>

<a name="visual-studio-sql-editor-new-file-dialog"></a>
<p><b>Рис. 5.1. MySQL SQL Editor - New File</b></p>
<img src="images/m4vs-sql-editor-new-file-1-2.png" width="750" height="230"
alt="MySQL SQL Editor - New File">
<br class="figure-break">

<p>Из диалога <span class="guilabel">New File</span> выберите шаблон MySQL,
выберите документ <span class="guilabel">MySQL Script</span> и нажмите
<span class="guibutton">Open</span>.</p>

<p>Будет показан MySQL SQL Editor. Можно теперь войти в код SQL как требуется
или соединиться с сервером MySQL. Нажмите кнопку
<span class="guibutton">Connect to MySQL</span> в панели инструментов MySQL
SQL Editor. Можно ввести детали связи в диалоге
<span class="guilabel">Connect to MySQL</span>.
Можно указать имя сервера, идентификатор пользователя, пароль и базу данных,
чтобы соединиться с ней, или нажать кнопку
<span class="guibutton">Advanced</span>, чтобы выбрать другие варианты строки
подключения. Щелкните <span class="guibutton">Connect</span>, чтобы
соединиться с сервером MySQL. Чтобы выполнить ваш код SQL на сервере, нажмите
кнопку <span class="guibutton">Run SQL</span> на панели инструментов.</p>

<a name="visual-studio-sql-editor-query"></a>
<p><b>Рис. 5.2. MySQL SQL Editor - Запрос</b></p>
<img src="images/m4vs-sql-editor-layout.png" width="762" height="584"
alt="MySQL SQL Editor - Query"><br class="figure-break">

<p>Результаты запросов показаны во вкладке
<span class="guilabel">Results</span>, релевантная информация появляется в
панели <span class="guilabel">MySQL Output</span>.
Предыдущий пример показывает результаты запроса в Result Grid.
Можно также выбрать Field Types, Execution Plan и Query Stats
для выполненного запроса.</p>

<h2><a name="visual-studio-code-editor"></a>5.2. Редакторы кода</h2>
<p>Этот раздел объясняет, как использовать редакторы кода в
MySQL for Visual Studio.</p>

<h3><a name="visual-studio-code-editor-introduction"></a>Введение</h3>
<p>MySQL for Visual Studio обеспечивает доступ к объектам MySQL и данным, не
вынуждая разработчиков покидать Visual Studio. Разработанный и развитый как
пакет Visual Studio, MySQL для Visual Studio интегрируется непосредственно в
Server Explorer, обеспечивающего работу для подготовки новых связей и работы
с объектами базы данных.</p>

<p>Следующие возможности MySQL for Visual Studio доступны с версии 2.0.5:
</p>
<ul><li class="listitem"><p>Редакторы кода JavaScript и Python, где скрипты
могут быть выполнены, чтобы для запроса данных из базы данных MySQL.</p></li>

<li class="listitem"><p>Лучшая интеграция с Server Explorer, чтобы открыть
редакторы MySQL, JavaScript и Python непосредственно от
связанного экземпляра MySQL.</p></li>

<li class="listitem"><p>Более новый пользовательский интерфейс для показа
результатов запроса, где различные представления даны
от наборов результатов, возвращенных сервером MySQL как:</p>

<ul><li class="listitem"><p>Многократные вкладки для каждого набора
результатов, возвращенного выполненным запросом.</p></li>
<li class="listitem"><p>Представление результатов, где информация может быть
показана в сетке, дереве или текстовом представлении для результатов JSON.
</p></li>

<li class="listitem"><p>Представление типов полей, где показывают информацию
о столбцах набора результатов, такую как имена, типы данных, наборы символов
и т.д.</p></li>

<li class="listitem"><p>Представление статистики запроса, показывая
информацию о выполненном запросе, такую как время выполнения, обработанные
строки, индекс и использование временных таблиц.</p></li>

<li class="listitem"><p>Представление плана выполнения, показывая объяснение
выполнения запросов, сделанное внутренне сервером MySQL.
</p></li></ul></li></ul>

<h3><a name="visual-studio-code-editor-getting-started"></a>С чего начать</h3>
<p>Минимальные требования:
</p>

<ul><li class="listitem"><p>MySQL for Visual Studio 2.0.5</p></li>
<li class="listitem"><p>Visual Studio 2012</p></li>
<li class="listitem"><p>MySQL 5.7.12 с X Plugin (редакторы кода не
поддерживаются для использования с серверами MySQL 8.0).</p></li></ul>

<p>Чтобы включить X Plugin для MySQL 5.7:</p>
<ol type="1"><li class="listitem"><p>Откройте командную строку и
перейдите к папке с вашими исполняемыми файлами MySQL.</p></li>

<li class="listitem"><p>
Вызовите клиент <span class="command"><strong>mysql</strong></span>:</p>
<pre class="programlisting">
<strong class="userinput"><code>mysql -u <em class="replaceable"><code>user</code></em> -p</code></strong>
</pre></li>

<li class="listitem"><p>Выполните следующий запрос:</p>
<pre class="programlisting">
mysql&gt; <strong class="userinput"><code>INSTALL PLUGIN mysqlx SONAME 'mysqlx.dll';</code></strong>
</pre>

<p>Пользователь <code class="literal">mysql.session</code>
должен существовать, прежде чем можно будет загрузить X Plugin.
<code class="literal">mysql.session</code> был добавлен в MySQL 5.7.19.
Если бы ваш словарь данных был инициализирован, используя более раннюю
версию, то необходимо выполнить
<span class="command"><strong>mysql_upgrade</strong></span>.
Если этого не сделано, X Plugin выдаст следующее сообщение об ошибке:</p>

<p><span class="errortext">There was an error when trying to access the
server with user: mysql.session@localhost. Make sure the
user is present in the server and that mysql_upgrade was ran
after a server update.</span></p></li></ol>

<h3><a name="visual-studio-code-editor-open"></a>Открытие редактора кода</h3>
<p>Прежде, чем открыть редактор кода, который может управлять скриптами
сервера MySQL, связь должна быть установлена:</p>

<ol type="1"><li class="listitem"><p>Откройте панель Server Explorer
при нажатии на <span class="guimenu">View</span>.</p></li>
<li class="listitem"><p>Щелкните правой кнопкой мыши по узлу Data Connections
и выберите <span class="guilabel">Add Connection</span>.</p></li>

<li class="listitem"><p>В окне Add Connection удостоверьтесь, что
MySQL Data Provider используется, и заполните всю информацию.</p>
<p>Чтобы задать номер порта, нажмите
<span class="guibutton">Advanced</span> и установите порт среди
списка свойств связи.</p></li>

<li class="listitem"><p>Нажмите <span class="guibutton">Test Connection
</span>, чтобы гарантировать, что у вас была действительная связь, затем
нажмите <span class="guibutton">OK</span>. Новая связь теперь появляется в
рамках списка Data Connections в Server Explorer.</p></li>

<li class="listitem"><p>Щелкните правой кнопкой мыши по связи, выберите
<span class="guimenu">New MySQL Script</span> и затем выберите язык редактора
(JavaScript или Python), чтобы открыть новую вкладку скрипта
MySQL в Visual Studio.</p></li></ol>
<p>Чтобы создать новый редактор для существующих подключений MySQL,
необходимо только сделать последний шаг.</p>

<h3><a name="visual-studio-code-editor-using"></a>
Использование редактора кода</h3>
<p>Открытый редактор включает панель инструментов с действиями, которые могут
быть выполнены. Первые две кнопки на панели инструментов представляют
возможность соединиться или отсоединиться от сервера MySQL.
Если редактор был открыт от Server Explorer, связь будет уже установлена
для нового скрипта.</p>

<p>Третья кнопка это <span class="guibutton">Run</span>, выполняет
скрипт, содержавшийся в окне редактора, и показывает результат в более
низкой области вкладки.</p>

<h2><a name="visual-studio-editing-tables"></a>5.3. Редактирование таблиц</h2>
<a class="indexterm" name="idm46260353589088"></a>
<p>MySQL for Visual Studio содержит редактор таблиц, который позволяет
визуальное создание и модификацию таблиц.</p>

<p>К Table Designer можно получить доступ посредством действия мыши на узле
табличного типа в Server Explorer. Чтобы составить новую таблицу, щелкните
правой кнопкой мыши по узлу <span class="guilabel">Tables</span> (под
узлом подключения) и выберите <span class="guimenu">Create Table</span>
из контекстного меню.</p>

<p>Чтобы изменить существующую таблицу, дважды щелкните по ее узлу, чтобы
изменить, или щелкните правой кнопкой мыши по этому узлу и выберите пункт
<span class="guimenu">Design</span> из контекстного меню. Любая из команд
открывает Table Designer.</p>

<a name="visual-studio-editing-new-table"></a>
<p><b>Рис. 5.3. Редактирование новой таблицы</b></p>
<img src="images/connector-net-visual-studio-editing-new-table.png"
width="764" height="803" alt="Editing New Table"><br class="figure-break">

<p>Table Designer состоит из следующих частей:</p>
<ul><li class="listitem"><p>
<span class="guilabel">Columns Editor</span> сетка данных сверху
Table Designer. Используйте сетку для создания, модификации и удаления
столбцов. Для получения дополнительной информации посмотрите
<a href="#visual-studio-editing-tables-column-editor">раздел
5.3.1</a>.</p></li>

<li class="listitem"><p>Окно <span class="guimenuitem">Indexes/Keys</span>
это окно, открытое из меню <span class="guimenu">Table Designer</span>,
чтобы управлять индексами.</p></li>

<li class="listitem"><p>Окно <span class="guimenuitem">Relationships</span>
это окно, открытое из меню <span class="guimenu">Table Designer</span>,
чтобы управлять внешними ключами.</p></li>

<li class="listitem"><p>Панель <span class="guilabel">Column Properties
</span> это группа около основания Table Designer. Используйте группу свойств
столбца, чтобы установить опции столбца.</p></li>

<li class="listitem"><p>Окно <span class="guilabel">Properties</span> это
стандартное окно свойств Visual Studio, где свойства отредактированной
таблицы показаны. Используйте его, чтобы установить свойства таблицы.
Чтобы открыть, щелкните правой кнопкой мыши по таблице и выберите пункт
контекстного меню <span class="guimenuitem">Properties</span>.</p></li></ul>

<p>Каждая из этих областей обсуждена более подробно в последующих разделах.
</p>
<p>Чтобы сохранить изменения в Table Designer, нажмите
<span class="guibutton">Save</span> или
<span class="guibutton">Save All</span> на главной панели инструментов
Visual Studio или нажмите
<span class="keycap"><strong>Control</strong></span> +
<span class="keycap"><strong>S</strong></span>.
Если вы еще не назвали таблицу, имя будет запрошено.</p>

<a name="visual-studio-choose-table-name"></a>
<p><b>Рис. 5.4. Выбор имени таблицы</b></p>
<img src="images/connector-net-visual-studio-choose-table-name.png"
width="397" height="130" alt="Choose Table Name"><br class="figure-break">

<p>После того, как таблица составлена, можно рассмотреть
ее в <span class="guilabel">Server Explorer</span>.</p>
<a name="visual-studio-newly-created-table"></a>
<p><b>Рис. 5.5. Созданная таблица</b></p>
<img src="images/connector-net-visual-studio-newly-created-table.png"
width="226" height="213" alt="Newly Created Table"><br class="figure-break">

<p>Главное меню Table Designer позволяет вам установить столбец
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_primary_key"
target="_top">primary key</a>, отредактировать такие отношения, как
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_foreign_key"
target="_top">foreign keys</a> и создать
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_index"
target="_top">индексы</a>.</p>

<a name="visual-studio-table-designer-menu-item"></a>
<p><b>Рис. 5.6. Главное меню Table Designer</b></p>
<img src="images/connector-net-visual-studio-table-designer-menu-item.png"
width="298" height="156" alt="Table Designer Main Menu">
<br class="figure-break">

<h3><a name="visual-studio-editing-tables-column-editor"></a>
5.3.1. Редактор столбцов</h3>
<a class="indexterm" name="idm46260353538880"></a>
<p>Можно использовать Column Editor, чтобы установить или изменить название,
тип данных, значение по умолчанию и другие свойства столбца таблицы.
Чтобы установить фокус в необходимую клетку сетки, используйте щелчок мыши.
Также можно двигаться клавишами
<span class="keycap"><strong>Tab</strong></span> и
<span class="keycap"><strong>Shift</strong></span> +
<span class="keycap"><strong>Tab</strong></span>.</p>

<p>Чтобы установить или изменить название, тип данных, значение по умолчанию
и комментарий столбца, активируйте соответствующую клетку и
впечатайте требуемое значение.</p>

<p>Чтобы установить или сбросить свойства столбца типа флага
(<code class="literal">NOT NULL</code>, auto incremented, флаги),
выберите или отмените соответствующие опции. Обратите внимание на то, что
набор флагов зависит от типа данных столбца.</p>

<p>Чтобы переупорядочить столбцы индекса или столбцы внешнего ключа в
Column Editor, выбирают целый столбец, чтобы переупорядочить, щелкая по
столбцу выбора слева от сетки. Затем переместите столбец с помощью
<span class="keycap"><strong>Control+Up</strong></span> или
<span class="keycap"><strong>Control+Down</strong></span>.</p>

<p>Чтобы удалить столбец, выберите его, щелкнув по столбцу выбора
слева от сетки, затем нажмите кнопку
<span class="keycap"><strong>Delete</strong></span> на клавиатуре.</p>

<h3><a name="visual-studio-editing-tables-column-details"></a>
5.3.2. Свойства столбца</h3>
<p>Вкладка <span class="guilabel">Column Properties</span>
может использоваться, чтобы установить опции столбца.
В дополнение к общим свойствам столбца, представленным в Column Editor,
на квладке <span class="guilabel">Column Properties</span>
можно установить дополнительные свойства, такие как
Character Set, Collation и Precision.</p>

<a name="visual-studio-column-properties"></a>
<p><b>Рис. 5.7. Группа свойств столбца</b></p>
<img src="images/connector-net-visual-studio-column-properties.png"
width="769" height="769" alt="Column Properties Panel">
<br class="figure-break">

<h3><a name="visual-studio-editing-tables-table-properties"></a>
5.3.3. Свойства таблицы</h3>
<p>Чтобы управлять свойствами таблицы, ее выбирают и щелкают
правой кнопкой мыши, чтобы активировать контекстное меню. Выберите
<span class="guimenu">Properties</span>. Появится окно
<span class="guilabel">Table Properties</span>.</p>

<a name="visual-studio-table-properties-menu"></a>
<p><b>Рис. 5.8. Панель свойств таблицы</b></p>
<img src="images/connector-net-visual-studio-table-properties-menu.png"
width="800" height="647" alt="Table Properties Panel">
<br class="figure-break">

<p>Свойства следующей таблицы перечисляются под свойствами таблицы,
многие полностью описаны в
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/show-table-status.html"
target="_top">SHOW TABLE STATUS</a>.</p>

<ul><li class="listitem"><p><span class="guilabel">Auto Increment</span>:
Следующее значение <code class="literal">AUTO_INCREMENT</code>.</p></li>
<li class="listitem"><p><span class="guilabel">Average Row Length</span>:
Значение <code class="literal">AVG_ROW_LENGTH</code>.</p></li>

<li class="listitem"><p><span class="guilabel">Character Set</span>:
Значение Charset.</p></li>
<li class="listitem"><p><span class="guilabel">Collation</span>:
Значение Collation.</p></li>

<li class="listitem"><p><span class="guilabel">Comment</span>:
Табличный комментарий.</p></li>
<li class="listitem"><p><span class="guilabel">Data Directory</span>:
Каталог с файлами данных для этой таблицы.</p></li>

<li class="listitem"><p><span class="guilabel">Index Directory</span>:
Каталог с файлами индекса для этой таблицы.</p></li>
<li class="listitem"><p><span class="guilabel">Maximum Rows</span>:
Значение <code class="literal">MAX_ROWS</code>.</p></li>

<li class="listitem"><p><span class="guilabel">Minimum Rows</span>:
Значение <code class="literal">MIN_ROWS</code>.</p></li>
<li class="listitem"><p><span class="guilabel">Name</span>: Имя таблицы.
</p></li>

<li class="listitem"><p><span class="guilabel">Row Format</span>:
Значение <code class="literal">ROW_FORMAT</code>.</p></li>
<li class="listitem"><p><span class="guilabel">Schema</span>:
схема этой таблицы.</p></li>

<li class="listitem"><p>
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_storage_engine"
target="_top">Storage Engine</a>.</p>

<p>В MySQL 5.5 и выше механизм хранения по умолчанию для новых таблиц
<code class="literal">InnoDB</code>. СМ.
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/innodb-introduction.html"
target="_top">Introduction to InnoDB</a> для получения дополнительной
информации о выборе механизма хранения и соображениях о преобразовании
существующей таблицы в <code class="literal">InnoDB</code>.</p></li></ul>

<p>Свойство <code class="literal">Schema</code> только для чтения.</p>
<a name="visual-studio-selecting-table-properties"></a>
<p><b>Рис. 5.9. Свойства таблицы</b></p>
<img src="images/connector-net-visual-studio-selecting-table-properties.png"
width="800" height="480" alt="Table Properties"><br class="figure-break">

<h2><a name="visual-studio-editing-views"></a>5.4.
Редактирование представлений</h2>
<p>Чтобы создать новое представление, щелкните правой кнопкой мыши по узлу
Views под узлом подключения в Server Explorer. Из контекстного меню узла
выберите <span class="guimenu">Create View</span>.
Эта команда открывает SQL Editor.</p>

<a name="visual-studio-views-edit-sql"></a>
<p><b>Рис. 5.10. Редактирование представления SQL</b></p>
<img src="images/connector-net-visual-studio-views-edit-sql.png" width="694"
height="516" alt="Editing View SQL"><br class="figure-break">

<p>Можно войти в SQL для представления и затем выполнить запрос.</p>
<p>Чтобы изменить существующее представление, дважды щелкните по узлу
представления, чтобы изменить, или щелкните правой кнопкой мыши по этому узлу
и выберите <span class="guimenu">Alter View</span> из контекстного меню.
Любая из команд открывает SQL Editor.</p>

<p>Все другие свойства представления могут быть установлены в окне
<span class="guilabel">Properties</span>:</p>
<ul><li class="listitem"><p><span class="guilabel">Catalog</span>:
<code class="literal">TABLE_CATALOG</code>.</p></li>

<li class="listitem"><p><span class="guilabel">Check Option</span>:
Действительно ли присутствует
<code class="literal">WITH CHECK OPTION</code>.
Для получения дополнительной информации посмотрите
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/view-check-option.html"
target="_top">The View WITH CHECK OPTION Clause</a>.</p></li>

<li class="listitem"><p><span class="guilabel">Definer</span>:
Создатель объекта.</p></li>
<li class="listitem"><p><span class="guilabel">Definition</span>:
Определение представления.</p></li>

<li class="listitem"><p><span class="guilabel">Is Updatable</span>:
Является ли представление <code class="literal">Updatable</code>.
Для получения дополнительной информации посмотрите
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/view-updatability.html"
target="_top">Updatable and Insertable Views</a>.</p></li>

<li class="listitem"><p><span class="guilabel">Name</span>:
Название представления.</p></li>
<li class="listitem"><p><span class="guilabel">Schema</span>:
Схема, которая владеет представлением.</p></li>

<li class="listitem"><p><span class="guilabel">Security Type</span>:
Значение <code class="literal">SQL SECURITY</code>.
Для получения дополнительной информации посмотрите
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/stored-objects-security.html"
target="_top">Stored Object Access Control</a>.</p></li></ul>

<p>У некоторых из этих свойств могут быть произвольные текстовые значения,
другие принимают значения от предопределенного набора. В последнем случае
установите требуемое значение через вложенный перечень.</p>

<p>Свойства <code class="literal">Is Updatable</code> и
<code class="literal">Schema</code> только для чтения.</p>
<p>Чтобы сохранить изменения, примените
<span class="guibutton">Save</span> или
<span class="guibutton">Save All</span> на главной панели инструментов или
нажмите <span class="keycap"><strong>Control</strong></span> +
<span class="keycap"><strong>S</strong></span>.</p>

<a name="visual-studio-views-sql-saved"></a>
<p><b>Рис. 5.11. Представление SQL сохранено</b></p>
<img src="images/connector-net-visual-studio-views-sql-saved.png" width="800"
height="626" alt="View SQL Saved"><br class="figure-break">

<h2><a name="visual-studio-editing-tables-indexes"></a>
5.5. Редактирование индексов</h2>
<a class="indexterm" name="idm46260353436688"></a>
<p>Управление индексами выполняется, используя
диалог <span class="guilabel">Indexes/Keys</span>.</p>

<p>Чтобы добавить индекс, выберите
<span class="guimenu">Table Designer</span>,
<span class="guimenu">Indexes/Keys...</span> из главного меню и нажмите
<span class="guimenu">Add</span>, чтобы добавить новый индекс.
Можно установить имя индекса, тип индекса и ряд столбцов индекса.</p>

<a name="visual-studio-indexes-dialog"></a>
<p><b>Рис. 5.12. Диалог Indexes/Keys</b></p>
<img src="images/connector-net-visual-studio-indexes-dialog.png"
width="593" height="425" alt="Indexes and Keys Dialog">
<br class="figure-break">

<p>Чтобы удалить индекс, выберите его в поле списка слева и
нажмите кнопку <span class="guibutton">Delete</span>.</p>
<p>Чтобы изменить настройки индекса, выберите необходимый индекс в поле
списка слева. Подробная информация об индексе показана в группе на правой
стороне. Измените требуемые значения.</p>

<h2><a name="visual-studio-editing-tables-foreign-keys"></a>
5.6. Редактирование внешних ключей</h2>
<a class="indexterm" name="idm46260353422848"></a>
<p>Вы управляете <a href="../../../https@dev.mysql.com/doc/refman/8.0/en/glossary.html#glos_foreign_key"
target="_top">внешними ключами</a> для таблиц
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/innodb-storage-engine.html"
target="_top"><code class="literal">InnoDB</code></a> используя диалог
<span class="guilabel">Foreign Key Relationships</span>.</p>

<p>Чтобы добавить внешний ключ, выберите
<span class="guimenu">Table Designer</span>,
<span class="guimenu">Relationships...</span> из главного меню.
Это показывает диалог <span class="guilabel">Foreign Key Relationship</span>.
Нажмите <span class="guibutton">Add</span>. Можно определить имя внешнего
ключа, имя таблицы, на которую ссылаются, столбцы внешнего ключа и действия
после обновления и удаления.</p>

<p>Чтобы удалить внешний ключ, выберите его в поле списка слева и
нажмите кнопку <span class="guibutton">Delete</span>.</p>

<p>Чтобы изменить настройки внешнего ключа, выберите необходимый внешний ключ
в поле списка слева. Подробная информация о внешнем ключе показана в правой
группе. Измените требуемые значения.</p>

<a name="visual-studio-foreign-key-relationships"></a>
<p><b>Рис. 5.13. Диалог отношений внешнего ключа</b></p>
<img src="images/connector-net-visual-studio-foreign-key-relationships.png"
width="670" height="424" alt="Foreign Key Relationships Dialog">
<br class="figure-break">

<h2><a name="visual-studio-editing-stored-procedures-and-functions"></a>
5.7. Редактирование хранимых процедур и функций</h2>
<a class="indexterm" name="idm46260353406544"></a>
<p>Чтобы создать новую хранимую процедуру, щелкните правой кнопкой мыши по
узлу <span class="guilabel">Stored Procedures</span> под узлом подключения в
Server Explorer. Из контекстного меню узла выберите
<span class="guilabel">Create Routine</span>.
Эта команда открывает SQL Editor.</p>

<a name="visual-studio-stored-procedure-edit"></a>
<p><b>Рис. 5.14. Редактирование хранимой процедуры SQL</b></p>
<img src="images/connector-net-visual-studio-stored-procedure-edit.png"
width="690" height="440" alt="Edit Stored Procedure SQL">
<br class="figure-break">

<p>Чтобы создать новую сохраненную функцию, щелкните правой кнопкой мыши по
узлу <span class="guilabel">Functions</span> под узлом подключения в
Server Explorer. Из контекстного меню узла выберите
<span class="guilabel">Create Routine</span>.</p>

<p>Чтобы изменить существующую сохраненную процедуру или функцию,
дважды щелкните по узлу объекта, чтобы изменить, или щелкните правой кнопкой
мыши по этому узлу и выберите <span class="guilabel">Alter Routine</span>
из контекстного меню. Любая из команд открывает SQL Editor.</p>

<p>Свойства могут быть рассмотрены в окне
<span class="guilabel">Properties</span>:</p>
<ul><li class="listitem"><p>Тело.</p></li>
<li class="listitem"><p>Каталог.</p></li>
<li class="listitem"><p>Комментарий.</p></li>
<li class="listitem"><p>Время создания.</p></li>
<li class="listitem"><p>Доступ к данным.</p></li>
<li class="listitem"><p>Создатель.</p></li>
<li class="listitem"><p>Определение.</p></li>
<li class="listitem"><p>Внешнее имя.</p></li>
<li class="listitem"><p>Внешний язык.</p></li>
<li class="listitem"><p>Детерминировано или нет.</p></li>
<li class="listitem"><p>Когда в последний раз изменено.</p></li>
<li class="listitem"><p>Имя.</p></li>
<li class="listitem"><p>Стиль параметра.</p></li>
<li class="listitem"><p>Возвращает.</p></li>
<li class="listitem"><p>Схема.</p></li>
<li class="listitem"><p>Тип безопасности.</p></li>
<li class="listitem"><p>Собственное имя.</p></li>
<li class="listitem"><p>Режим SQL.</p></li>
<li class="listitem"><p>Путь SQL.</p></li>
<li class="listitem"><p>Тип.</p></li></ul>

<p>У некоторых из этих свойств могут быть произвольные текстовые значения,
другие принимают ценности от предопределенного набора. В обоих случаях эти
значения не могут быть установлены из панели свойств.</p>

<p>Можно также установить все варианты непосредственно в SQL Editor,
используя обычные запросы
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/create-procedure.html"
target="_top"><code class="literal">CREATE PROCEDURE</code></a> или
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/create-function.html"
target="_top"><code class="literal">CREATE FUNCTION</code></a>.</p>

<p>Чтобы сохранить изменения, используйте
<span class="guibutton">Save</span> или
<span class="guibutton">Save All</span> главной панели инструментов Visual
Studio или нажмите <span class="keycap"><strong>Control</strong></span> +
<span class="keycap"><strong>S</strong></span>.</p>

<a name="visual-studio-stored-procedure-saved"></a>
<p><b>Рис. 5.15. Сохранение процедуры SQL</b></p>
<img src="images/connector-net-visual-studio-stored-procedure-saved.png"
width="800" height="543" alt="Stored Procedure SQL Saved">
<br class="figure-break">

<p>Чтобы наблюдать поведение во время выполнения сохраненной подпрограммы
и отладить любые проблемы, используйте Stored Procedure Debugger. См.
<a href="debug.htm">главу 11</a>.</p>

<h2><a name="visual-studio-editing-triggers"></a>5.8.
Редактирование триггеров</h2>
<a class="indexterm" name="idm46260353361856"></a>
<p>Чтобы создать новый триггер, щелкните правой кнопкой мыши по узлу
таблицы, в котором можно добавить триггер. Из контекстного меню узла выберите
<span class="guilabel">Create Trigger</span>.
Эта команда открывает SQL Editor.</p>

<p>Чтобы изменить существующий триггер, дважды щелкните по его узлу, чтобы
изменить, или щелкните правой кнопкой мыши по этому узлу и выберите
<span class="guilabel">Alter Trigger</span> из контекстного меню.
Любая из команд открывает SQL Editor.</p>

<p>Чтобы создать или изменить определение, используя SQL Editor, введите
запрос в SQL Editor, используя стандартный SQL.</p>
<p>Введите только запрос триггера, то есть, часть
<a href="../../../https@dev.mysql.com/doc/refman/8.0/en/create-trigger.html"
target="_top"><code class="literal">CREATE TRIGGER</code></a> запроса,
которая помещается после <code class="literal">FOR EACH ROW</code>.</p>

<p>Все другие свойства установлены в окне свойств. Эти свойства:</p>
<ul><li class="listitem"><p>Создатель.</p></li>
<li class="listitem"><p>Манипуляция событий.</p></li>
<li class="listitem"><p>Имя.</p></li>
<li class="listitem"><p>Выбор времени.</p></li></ul>

<p>У некоторых из этих свойств могут быть произвольные текстовые значения,
другие принимают значения из предопределенного набора.</p>
<p>Свойства <code class="literal">Event Table</code>,
<code class="literal">Schema</code> и <code class="literal">Server</code>
в окне Properties только для чтения.</p>

<p>Чтобы сохранить изменения, используйте
<span class="guibutton">Save</span> или
<span class="guibutton">Save All</span> главной панели инструментов Visual
Studio или нажмите <span class="keycap"><strong>Control</strong></span> +
<span class="keycap"><strong>S</strong></span>. Прежде чем изменения будут
сохранены, вас попросят подтвердить выполнение соответствующего
SQL-запроса в диалоге подтверждения.</p>

<p>Чтобы наблюдать поведение во время выполнения триггера
и отладить любые проблемы, используйте Stored Procedure Debugger. См.
<a href="debug.htm">главу 11</a>.</p>

</index></td><td width="20%">
<script type="text/javascript">
    var begun_auto_colors           = new Array();
    var begun_auto_fonts_size       = new Array();
    var begun_auto_pad              =       97517308;     // идентификатор площадки
    var begun_auto_limit            =              5;     // число объявлений выводимых на площадке
    var begun_auto_width            =            250;     // ширина блока объявлений
    begun_auto_colors[0]            =      '#0000CC';     // цвет ссылки объявлений
    begun_auto_colors[1]            =      '#000000';     // цвет текста объявления
    begun_auto_colors[2]            =      '#00CC00';     // цвет домена объявления
    begun_auto_colors[3]            =      '#FFFFFF';     // цвет фона блока объявлений
    begun_auto_fonts_size[0]        =          '9pt';     // р-мер шрифта ссылки объявлений
    begun_auto_fonts_size[1]        =          '9pt';     // р-мер шрифта текста объявления
    begun_auto_fonts_size[2]        =          '8pt';     // р-мер шрифта домена объявления
    begun_auto_fonts_size[3]        =          '8pt';     // р-мер шрифта заглушки
    var begun_block_type            =     'Vertical';     // тип блока
    var begun_rambler_type          =              1;     // цвет блока поиска Рамблер
    begun_koi8 = 1;
</script>
<script src="../../../autocontext.begun.ru/autocontext.js"
type="text/javascript"></script>
</td></tr></table>

<p><table><tr><td>
<form method="get" name="fform" onSubmit="fsearch(strf.value); return false;">
<input type="hidden" name="clid" value="39177">
<b>Поиск</b><table><tr>
<td><input type="text" name="strf" size="15" style="font-size: 9pt" /></td></tr>
<tr><td><font size="-1"><input type="radio" name="myradio" value="0"
checked id="at_site"/>
<label for="at_site">На сайте</label><br>
<input type="radio" name="myradio" value="1" id="at_ya">
<label for="at_ya">В Яндексе</label></font></td></tr>
<tr><td><input type="submit" value="Найти" style="font-size: 9pt"/></td></tr>
</table></form></td>
<td>&nbsp;</td><td><script language="JavaScript"
src="../../../b190.takru.com/in.php@id=199275">
</script></td></tr></table></p>

<p><center><table><tr><td><font size="+1"><B>Найди своих коллег!</B></font><BR>
<script language="javascript"
src="../../../rldp.lovemesweet.ru/banner/db.js.php@rows=01&cols=05&bg=33FF33&sex=0&afrom=18&ato=99&headgif=&sf=1&nwnd=1&pmin=0&cid=RU&tid=0&smu=0&tcl1=000000&tcl2=FF0000">
</script></td>

<td><iframe src="../../../www.linuxcenter.ru/trans/list.phtml@ref=121965&n=5&price=yes"
frameborder="0" vspace="0" hspace="0" width="300" height="350" marginwidth="0"
marginheight="0" scrolling="no"></iframe></td></tr></table></center></p>

<P><FONT SIZE=-1>Вы можете <A HREF="mailto:alexey.v.pautov@mail.ru">
направить письмо</A> администратору этой странички, Алексею Паутову.</FONT>
<A HREF="mailto:alexey.v.pautov@mail.ru"><IMG SRC="img/email.gif"
ALT="mailto:alexey.v.pautov@mail.ru" BORDER=0 valign="center" HEIGHT=35
WIDTH=105 ALIGN=ABSCENTER></A></P>

<script type="text/javascript" src="../../../bin-layer.ru/popup-686-1.js">
</script>

</body>
</html>
