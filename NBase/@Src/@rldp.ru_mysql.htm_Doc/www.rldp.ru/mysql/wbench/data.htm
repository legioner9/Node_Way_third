<html>
<head>
  <META NAME="Author" CONTENT="Alexey V. Pautov">
  <meta http-equiv="Content-Type" content="text/html; charset=koi8-r">
  <title>Глава 9. Проектирование и моделирование баз данных</title>
</head>

<body>
<script type="text/javascript">
nN = navigator.appName;
function fsearch(str)
{
  if (document.fform.myradio[0].checked) {
     open('../../../yandex.ru/sitesearch@text=' + str + '&site=' +
          document.location.hostname);
  } else {open('../../../yandex.ru/sitesearch@text=' + str);}
}

function MouseUpHandler(e)
{
  if (nN == 'Netscape' || nN == 'Opera') {
     if (document.getSelection()) {
        str = document.getSelection();
        newstr = str.replace(/\n+/g, ' ');
        str = newstr.replace(/\ +/g, ' ');
        if (str.length > 100) {
           var i;
           i = 0;
           str = str.slice(0, 100);
           i = str.lastIndexOf(' ');
           if (i > 0){str = str.slice(0, i);}
        }
        document.fform.strf.value = str;
     }
  } else if(nN == 'Microsoft Internet Explorer') {
    if (document.selection.createRange()) {
       var range = document.selection.createRange();
       var str = range.text;
    }
    if (str) {
       str = str.replace(/\ +/g, " ");
       document.fform.strf.value = str;
    }
  }
  return true;
}
if (window.Event) {document.captureEvents(Event.MOUSEUP);}
document.onmouseup = MouseUpHandler;
</script>

<center><table><tr><td><a href="../../default.htm">
<IMG SRC="../../img/b_book.gif" ALT="RussianLDP" HEIGHT=48 WIDTH=55
ALIGN=ABSCENTER></a></td>

<td><!--Rating@Mail.ru COUNTEr-->
<a target=_top href="../../../top.mail.ru/jump@from=1364238">
<img src="../../../d1.cd.b4.a1.top.list.ru/counter@id=1364238;t=230"
border=0 height=31 width=88 alt="Рейтинг@Mail.ru"/></a>
</td><!--/COUNTER-->

<td><!-- begin of Top100 code -->
<script id="top100Counter" type="text/javascript"
src="../../../cnt.rambler.ru/top100.jcn@1448139"></script>
<noscript><a href="../../../top100.rambler.ru/top100/default.htm">
<img src="../../../cnt.rambler.ru/top100.cnt@1448139" alt="Rambler's Top100"
width="81" height="63" border="0" /></a></noscript>
<!-- end of Top100 code --></td>

<td><!-- HotLog -->
<script type="text/javascript" language="javascript">
hotlog_js="1.0";
hotlog_r=""+Math.random()+"&s=525943&im=127&r="+escape(document.referrer)+
"&pg="+escape(window.location.href);
document.cookie="hotlog=1; path=/"; hotlog_r+="&c="+(document.cookie?"Y":"N");
</script>
<script type="text/javascript" language="javascript1.1">
hotlog_js="1.1";hotlog_r+="&j="+(navigator.javaEnabled()?"Y":"N")
</script>

<script type="text/javascript" language="javascript1.2">
hotlog_js="1.2";
hotlog_r+="&wh="+screen.width+'x'+screen.height+"&px="+
(((navigator.appName.substring(0,3)=="Mic"))?
screen.colorDepth:screen.pixelDepth)</script>

<script type="text/javascript" language="javascript1.3">
hotlog_js="1.3"</script>
<script type="text/javascript" language="javascript">
hotlog_r+="&js="+hotlog_js;
document.write("<a href='../../../click.hotlog.ru/@525943' target='_top'>
<img "+" src='http://hit27.hotlog.ru/cgi-bin/hotlog/count?"+
hotlog_r+"&' border=0 width=88 height=31 alt=HotLog><\/a>")</script>

<noscript>
<a href="../../../click.hotlog.ru/@525943" target="_top">
<img src="../../../hit27.hotlog.ru/cgi-bin/hotlog/count@s=525943&im=127"
border="0" width="88" height="31" alt="HotLog"></a></noscript></td>
<!-- /HotLog -->

<td><!--LiveInternet counter--><script type="text/javascript"><!--
document.write("<a href='../../../www.liveinternet.ru/click' "+
"target=_blank><img src='http://counter.yadro.ru/hit?t52.15;r"+
escape(document.referrer)+((typeof(screen)=="undefined")?"":
";s"+screen.width+"*"+screen.height+"*"+(screen.colorDepth?
screen.colorDepth:screen.pixelDepth))+";u"+escape(document.URL)+
";"+Math.random()+"' alt='' title='LiveInternet: показано число просмотров и"+
" посетителей за 24 часа' "+"border=0 width=88 height=31><\/a>")//-->
</script></td></tr>
<!--/LiveInternet-->

<tr><td><FONT SIZE=-1><b>WebMoney:&nbsp;</b><br>
WMZ Z294115950220&nbsp;<br>
WMR R409981405661&nbsp;<br>
WME E134003968233&nbsp;</FONT></td>

<td><FONT SIZE=-1><b>Visa&nbsp;</b><br>
4274 3200 2453 6495&nbsp;</FONT></td>
</tr></table></center>
<P><index><table><tr><td>

<h1><a name="wb-data-modeling"></a>
Глава 9. Проектирование и моделирование баз данных</h1>
<p>Моделирование упрощает проектирование баз данных и обслуживание, позволяя
вам, архитектору данных, визуализировать вопросы проектирования и требования.
Управляемое моделью проектирование баз данных это эффективная методология для
создания хороших баз данных, обеспечивая гибкость, чтобы ответить на
развивающиеся требования к данным. Модели используются, чтобы построить
диаграммы ER и физические базы данных MySQL.</p>

<p>MySQL Workbench обеспечивает обширные возможности по созданию и управлению
моделями базы данных, включая:
<ul><li>Создайте и управляйте моделью графически.</li>
<li>Перепроектируйте живую базу данных к модели.</li>
<li>Разработайте модель скрипта или живой базы данных.</li>
<li>Создайте и отредактируйте таблицы и вставьте данные.</p></li></ul>
<p>Это не исчерпывающий список. Следующие разделы описывают эти и
дополнительные возможности моделирования данных.

<h2><a name="wb-design-modeling-interface"></a>9.1. Моделирование интерфейса
</h2>
<p>Моделирование понятий и интерфейсных элементов
описано в следующих секциях.

<h3><a name="wb-model-editor"></a>9.1.1. Model Editor</h3>
<p>Когда Model Editor вызван с домашнего экрана, MySQL Workbench
показывает страницу MySQL Model. Страница MySQL Model имеет
есть три главных панели: Description Editor, User Types
List/History и Model Overview.</p>

<a name="wb-mysql-model-page-image"></a>
<p><b>Рис. 9.1. Страница MySQL Model</b></p>
<img src="images/wb-mysql-model-page.png" width="800" height="553"
alt="Content is described in the surrounding text."><br>

<p>Description Editor и панель User Types List/History содержатся в рамках
боковой панели. Она может быть перемещена, используя
диалог Workbench Preferences.</p>

<p>Панель <span class="guilabel">Model Overview</span>
включает следующие разделы:</p>
<ul><li><p>EER Diagrams</li>
<li>Physical Schemata</li>
<li>Schema Privileges</li>
<li>SQL Scripts</li>
<li>Model Notes</p></li></ul>

<p>Для каждой из этих секций добавьте объекты к проекту, щелкнув по
соответствующему символу add-object. Можно также переименовать,
отредактировать, обрезать, скопировать или удалить объекты на этой странице,
щелкнув правой кнопкой мыши, чтобы открыть контекстное меню.</p>
<p>Следующие разделы далее обсуждают страницу MySQL Model.

<h4><a name="wb-data-modeling-menus"></a>9.1.1.1. Моделирование меню</h4>
<p>Некоторые пункты меню не доступны в MySQL Workbench Community Edition, а
есть только в MySQL Workbench Commercial Editions.
Это обозначается, когда применимо.

<h5><a name="wb-file-menu"></a>9.1.1.1.1. Меню File</h5>
<p>Используйте меню <span class="guimenu">File</span>, чтобы открыть проект,
начать новый проект или сохранить проект. Выбор <span class="guimenuitem">
Model</span> открывает схему по умолчанию
<code class="literal">mydb</code>. Выбор <span class="guimenuitem">Open
Model</span> открывает диалоговое окно файла с типом файла по умолчанию
MySQL Workbench Models (<code class="filename">mwb</code>).
Чтобы показать список недавно открытых файлов MWB, выберите
<span class="guimenuitem">Open Recent</span> из меню.
Клавиша быстрого вызова, чтобы создать новый проект:
<span class="keycap"><strong>Control+N</strong></span>, чтобы открыть
существующий проект <span class="keycap"><strong>Control+O</strong></span>.
</p>

<p>Закрыть в настоящее время активную вкладку
<code class="literal">MySQL Model</code> или
<code class="literal">EER Diagram</code> можно через меню
<span class="guimenuitem">Close Tab</span>.
Можно также сделать это с клавиатуры, нажав
<span class="keycap"><strong>Control+W</strong></span>.
Чтобы вновь открыть вкладку <code class="literal">MySQL Model</code> см.
<a href="#wb-view-menu">раздел 9.1.1.1.3</a>. Чтобы вновь открыть
вкладку <code class="literal">EER Diagram</code>, дважды щелкните
<code class="literal">EER Diagram</code> в секции
<code class="literal">EER Diagrams</code> страницы
<code class="literal">MySQL Model</code>.</p>

<p>Используйте пункты меню <span class="guimenuitem">Save Model</span> или
<span class="guimenuitem">Save Model As</span>, чтобы сохранить модель.
Когда вы сохраняете модель, ее имя появляется в заголовке окна.
Если вы внесли изменения в проект и не сохранили их, звездочка появляется в
заголовке окна после имени модели. Когда вы сохраняете модель, она
сохраняется как файл MySQL Workbench с расширением
<code class="literal">mwb</code>.</p>

<p>Используйте пункт меню <span class="guimenuitem">Import</span>, чтобы
импортировать определение данных MySQL (DDL) файл скрипта.
Например, это могло бы быть файлом, созданным, дав команду
<span class="command"><strong>mysqldump <code class="option">--no-data</code>
</strong></span>. MySQL Workbench обращается со скриптом следующим образом:

<ul><li>Если скрипт не содержит <code class="literal">CREATE DATABASE
<em class="replaceable"><code>db_name</code></em>;</code>,
объекты схемы копируются к схеме по умолчанию
<code class="literal">mydb</code>.</li>

<li>Если скрипт создает базу данных, новая вкладка, имеющяя имя базы данных,
добавляется к разделу <code class="literal">Physical Schemata</code>
страницы <code class="literal">MySQL Model</code>.</li>
<li>Если скрипт содержит данные, они проигнорированы.</p></li></ul>

<p>Для получения дополнительной информации об импортировании скрипта
DDL посмотрите <a href="#wb-reverse-engineer-create-script">раздел
9.4.2.1</a>.</p>

<p>В подменю <span class="guisubmenu">Import</span> можно также импортировать
файлы <code class="literal">DBDesigner4</code>.</p>

<p>Есть множество пунктов в подменю <span class="guisubmenu">Export</span>.
Можно произвести SQL-операторы, необходимые, чтобы создать новую базу данных
или изменить существующую. Для получения дополнительной информации об этих
пунктах меню, посмотрите
<a href="#wb-forward-engineering-sql-scripts">раздел 9.4.1.1</a>.</p>

<p>Используя подменю <span class="guisubmenu">Export</span>,
можно также экспортировать диаграмму EER как PNG, SVG, PDF или файл
Postscript. Для примера файла PNG посмотрите
<a href="#wb-sakila-eer-image">рис. 9.29</a>.</p>

<p>Меню <span class="guimenuitem">Page Setup</span>
позволяет вам установить формат бумаги, ориентацию и края для печати.</p>
<p>Параметры печати позволены, только если выбрана вкладка
<span class="guilabel">EER Diagrams</span>. У вас есть выбор печати
вашей модели непосредственно на вашем принтере, печать ее как файл PDF или
создание файла PostScript. Для получения дополнительной информации посмотрите
<a href="#wb-printing">раздел 9.2.1</a>.</p>

<p>Параметры печати доступны только в MySQL Workbench Commercial.</p>
<p>Используйте пункт меню <span class="guimenuitem">Document Properties
</span>, чтобы установить следующие свойства вашего проекта:
<ul><li><code class="literal">Name</code>: Имя модели (по умолчанию
<code class="literal">MySQL Model</code>).</li>

<li><code class="literal">Version</code>: Номер версии проекта.</li>
<li><code class="literal">Author</code>: Автор проекта.</li>
<li><code class="literal">Project</code>: Название проекта.</li>
<li><code class="literal">Created</code>: Не редактируемое поле, определено
атрибутами файла MWB.</li>

<li><code class="literal">Last Changed</code>: Не редактируемое поле,
определено атрибутами файла MWB.</li>
<li><code class="literal">Description</code>: Описание вашего проекта.
</p></li></ul>

<h5><a name="wb-edit-menu"></a>9.1.1.1.2. Меню Edit</h5>
<p>Используйте меню <span class="guimenu">Edit</span>, чтобы внести изменения
в объекты. Текстовые описания пункта меню изменяются, чтобы отразить
название выбранного объекта.</p>

<p>У этого меню есть пункты для вырезки, копирования и вставки.
Эти действия могут также быть выполнены, используя ключевые комбинации
<span class="keycap"><strong>Control+X</strong></span>,
<span class="keycap"><strong>Control+C</strong></span> и
<span class="keycap"><strong>Control+V</strong></span>.
Отмените удаление, используя <span class="guimenuitem">Undo Delete
'<em class="replaceable"><code>object_name</code></em>'</span>.
Ключевая комбинация <span class="keycap"><strong>Control+Z</strong></span>
может также использоваться, чтобы отменить операцию. Также возможно выполнить
<span class="guimenuitem">Redo</span>используя пункт меню или ключевую
комбинацию <span class="keycap"><strong>Control+Y</strong></span>.</p>

<p>Также найдите пункт <span class="guimenuitem">Delete
'<em class="replaceable"><code>object_name</code></em>'</span> для удаления в
настоящее время выбранного объекта. Команда с клавиатуры для этого действия:
<span class="keycap"><strong>Control+Delete</strong></span>.
Можно также щелкнуть правой кнопкой мыши по объекту и выбрать опцию "Удалить"
из всплывающего меню.</p>

<p>Меню <span class="guimenuitem">Delete
'<em class="replaceable"><code>object_name</code></em>'</span>
ведет себя по-другому в зависимости от обстоятельств. Например, если активна
<span class="guilabel">EER Diagram</span> и таблица это
в настоящее время выбранный объект, диалоговое окно может открыть
выяснение, хотите ли вы удалить таблицу только из листа или из базы данных
также. Для получения информации об урегулировании поведения по умолчанию,
удаляя из EER Diagram, см.
<a href="conf.htm#wb-preferences-modeling">раздел 3.2.4</a>.</p>

<p>Если активна страница <code class="literal">MySQL Model</code>,
выбранный объект удален из каталога и не будет
<span class="emphasis"><em>никакого диалогового окна подтверждения
</em></span>.</p>

<p>Выберите <span class="guimenuitem">Edit Selected</span>, чтобы
отредактировать в настоящее время выбранный объект. Можно также редактировать
в новом окне выбором <span class="guimenuitem">Edit Selected in New
Window</span>. Клавиши быстрого вызова для <span class="guimenuitem">Edit
Selected</span> и <span class="guimenuitem">Edit Selected in New
Window</span> это <span class="keycap"><strong>Control+E</strong></span> и
<span class="keycap"><strong>Control+Shift+E</strong></span>.</p>

<p>Меню <span class="guimenuitem">Select</span> имеет следующие подменю:
<ul><li><span class="guimenuitem">Select All</span> (клавиша быстрого вызова
<span class="keycap"><strong>Control+A</strong></span>):
Выбирает все объекты на активной диаграмме EER.</li>

<li><span class="guimenuitem">Similar Figures</span> (Объекты того же самого
типа): Ищет объекты, подобные в настоящее время выбранному объекту.</li>
<li><span class="guimenuitem">Connected Figures</span>:
Ищет все объекты, связанные с в настоящее время выбранным объектом.
</p></li></ul>

<p>Эти пункты меню активны только, когда вкладка
<span class="guilabel">EER Diagram</span> выбрана.
Пункты <span class="guimenuitem">Similar Figures</span> и
<span class="guimenuitem">Connected Figures</span>
отключены, если никакой объект в настоящее время не выбирается
на диаграмме EER.</p>

<p>Когда многократные объекты были отобраны, используя один из этих пунктов
меню, можно перейти между выбранными пунктами, выбрав
<span class="guimenuitem">Go to Next Selected</span> или
<span class="guimenuitem">Go to previous Selected</span>.</p>

<p>Отбор объектов изменяет некоторые пункты меню
<span class="guimenu">Edit</span>. Если только один объект отобран, имя
объекта появляется после <span class="guimenuitem">Cut</span>,
<span class="guimenuitem">Copy</span> и
<span class="guimenuitem">Delete</span>. Если больше чем один объект отобран,
эти пункты меню показывают количество отобранных объектов.

<h6><a name="wb-find-dialog-window"></a>9.1.1.1.2.1. Диалоговое окно Find</h6>
<p>Каждое окно MySQL Workbench включает функциональность поиска.
Панель <span class="guisubmenu">Find</span> с
<span class="guimenu">Find &amp; Replace</span> показан на рисунке.</p>

<a name="wb-migration-overview-find-panel"></a>
<p><b>Рис. 9.2. Панель Find с Find &amp; Replace</b></p>
<img src="images/wb-find-panel.png" width="800" height="560"
alt="Content is described in the surrounding text."><br>

<h7><a name="idm140523191891696"></a>Опции Find</h7>
<p>Опции диалога <code class="literal">Find</code>
описаны в следующем списке:

<ul><li><span class="guimenu">String Matching</span> (по умолчанию) или
<span class="guimenu">Regular Expression</span>: Поиск, соответствуя
последовательности или регулярному выражению PCRE.</li>

<li><span class="guimenu">Ignore Case</span>: поиск без учета регистра.
Работает с <span class="guimenu">String Matching</span> и
<span class="guimenu">Regular Expression</span>.</li>

<li><span class="guimenu">Match Whole Words</span>: Если включена,
только целые последовательности подобраны. Например, поиск "home"
не соответствовал бы "home_id". По умолчанию выключена.</li>

<li><span class="guimenu">Wrap Around</span>: поиск от начала документа,
поскольку иначе это будет только искать от позиции курсора до конца
документа. По умолчанию включена.</li></p></li></ul>

<p>MySQL Workbench Commercial Editions включает продвинутое средство
Find для моделей, как обозначено на рисунке ниже.</p>
<a name="wb-find-window"></a><p><b>Рис. 9.3. Окно Find</b></p>
<img src="images/wb-find-commercial-window.png" width="206" height="555"
alt="Content is described in the surrounding text."><br>

<p>Можно искать следующие местоположения:
<ul><li>Entire Model: Ищет по всей модели.</li>
<li>Current View: Ищет текущее представление только. Это может быть
страница <code class="literal">MySQL Model</code>.</li>

<li>All Views: Просматривает <code class="literal">MySQL Model Page</code>
и все диаграммы EER.</li>
<li>Database Objects: Просматривает только объекты базы данных.</li>
<li>Selected Figures: Ищет по выбранным в настоящее время объектам.
Эта особенность работает только на диаграммах EER.</p></li></ul>

<p>Введите текст, который вы хотите искать, в поле
<span class="guilabel">Find Text</span>. Можно также выбрать любые
из следующих опций:
<ul><li>Match Case</li>
<li>Whole Word</li>
<li>Use Regular Expression</li>
<li>Search in Comments</li>
<li>Search in SQL for Views, SPs etc.</p></li></ul>

<p>Любой текст в поле <span class="guilabel">Find Text</span>
сохраняется на время вашей сессии. Используйте кнопки
<span class="guibutton">Next</span> или
<span class="guibutton">Previous</span>, чтобы найти случаи
вашего критерия поиска.</p>

<p>Нажатие кнопки <span class="guibutton">Find All</span> открывает окно
<span class="guilabel">Find Results</span>, закрепленное в нижней части
приложения. При необходимости можно отцепить это окно как любое другое.</p>

<p>-Используйте это окно, чтобы перейти к объектам. Например, двойной щелчок
по <code class="literal">Description</code> объекта, расположенного на EER
диаграмме, проводит к определенной диаграмме и выбирает объект. Заметьте, что
свойства объекта показаны на панели <code class="literal">Properties</code>.
</p>

<p>Диалог <code class="literal">Find</code> может также быть открыт,
используя ключевую комбинацию
<span class="keycap"><strong>Control+F</strong></span>. Используйте
<span class="keycap"><strong>Control+G</strong></span>, чтобы найти следующее
вхождение и <span class="keycap"><strong>Control+Shift+G</strong></span>,
чтобы найти предыдущее. Закройте окно <code class="literal">Find</code>
нажатием на <span class="guibutton">x</span> в правом верхнем углу или
нажимая клавишу <span class="keycap"><strong>Esc</strong></span>.

<h6><a name="wb-edit-preferences"></a>9.1.1.1.2.2. Workbench Preferences</h6>
<p>Этот пункт меню позволяет вам установить глобальные
настройки MySQL Workbench.</p>

<h5><a name="wb-view-menu"></a>9.1.1.1.3 Меню View</h5>
<p>Это меню с учетом контекста показывает общие возможности для изменения
представления в MySQL Workbench. Варианты изменяются в зависимости от текущей
вкладки, доступные пункты меню <span class="guimenu">View</span>:</p>

<p><span class="bold"><strong>General options</strong></span>:
<ul><li><span class="guimenuitem">Home</span>: Выбирает домашний экран.</li>
<li><span class="guimenuitem">Panels</span>: Формируйте, какая из трех
доступных панелей открыта. Можно также управлять этим из GUI с использованием
кнопок панелей на верхней правой стороне MySQL Workbench.</li>

<li><span class="guimenuitem">Output</span>: Показывает вывод консоли.</li>
<li><span class="guimenuitem">Select Next Main Tab</span>: Выбирает следующую
вкладку MySQL Workbench.</li>
<li><span class="guimenuitem">Select Next Main Tab</span>:
Выбирает предыдущую вкладку MySQL Workbench.</p></li></ul>

<p><span class="bold"><strong>Model/EER options</strong></span>:
<ul><li><span class="guimenuitem">Windows</span>:
подменю с пунктами, которые активируют определенные панели.
Назначенные группы включают "Model Navigator", "Catalog", "Layers", "User
Datatypes", "Object Descriptions", "Object Properties" и "Undo History".</li>

<li><span class="guimenuitem">Zoom 100%</span>: уровень детализации по
умолчанию диаграммы EER.</li>
<li><span class="guimenuitem">Zoom In</span>:
Увеличивает масштаб диаграммы EER.</li>

<li><span class="guimenuitem">Zoom Out</span>:
Уменьшает масштаб диаграммы EER.</p>
<p>Способность увеличить масштаб диаграммы EER является также доступной с
использованием инструмента ползунка в панели <code class="literal">Model
Navigator</code>, см. <a href="#wb-navigator-panel">раздел 9.1.1.9
</a>.</li>

<li><span class="guimenuitem">Set Marker</span>: Отмечает объект.
С клавиатуры выберите объект, который вы хотите отметить, затем надо
использовать ключевую комбинацию
<span class="keycap"><strong>Control+Shift</strong></span> и номер маркера
(1 - 9). Можно создать до девяти маркеров.</li>

<li><span class="guimenuitem">Go To Marker</span>: Переход к маркеру.
С клавиатуры используйте <span class="keycap"><strong>Control</strong>
</span> + номер маркера.</li>

<li><span class="guimenuitem">Toggle Grid</span>: Показ линии сетки
на диаграмме EER.</li>
<li><span class="guimenuitem">Toggle Page Guides</span>: Показ Page Guides,
чтобы помочь проектировать диаграмму EER на основе страниц.</p></li></ul>

<h5><a name="wb-arrange-menu"></a>9.1.1.1.4. Меню Arrange</h5>
<p>Меню <span class="guimenu">Arrange</span> применяются только к объектам на
листе диаграммы EER и позволены, только если представление диаграммы EER
активно. У меню <span class="guimenu">Arrange</span> есть эти пункты:

<ul><li><span class="guimenuitem">Align to Grid</span>:
Выравнивает пункты на листе по линиям сетки.</li>
<li><span class="guimenuitem">Bring to Front</span>:
Переносит объекты на передний план.</li>

<li><span class="guimenuitem">Send to Back</span>: Посылает объекты в фон.
</li>
<li><span class="guimenuitem">Center Diagram Contents</span>:
Центрирует объекты листа.</li>
<li><span class="guimenuitem">Autolayout</span>:
Автоматически устраивает объекты на листе.</li>

<li><span class="guimenuitem">Reset Object Size</span>:
Расширяет объект на диаграмме EER. Например, если у таблицы есть длинное имя
столбца, которое не полностью показано, этот пункт меню расширяет таблицу,
чтобы сделать столбец видимым. Этот пункт меню не позволен, если
объект не выбран.</li>

<li><span class="guimenuitem">Expand All</span>: Используйте этот пункт,
чтобы расширить все объекты на диаграмме EER. Этот пункт покажет колонки
таблицы, если объектная нотация поддержит расширение.
Некоторые объектные нотации, такие как <code class="literal">Classic</code>,
не разрешают расширение или сокращение. Индексы не будут автоматически
расширены, если они не были ранее расширены и свернуты через
<span class="guimenuitem">Collapse All</span>.</li>

<li><span class="guimenuitem">Collapse All</span>:
Отменяет операцию, выполненную <span class="guimenuitem">Expand All</span>.
</p></li></ul>

<h5><a name="wb-model-menu"></a>9.1.1.1.5. Меню Model</h5>
<p>Когда модель открыта, это меню показывает действия для вашей модели, у
него есть эти пункты:

<ul><li><span class="guimenuitem">Add Diagram</span>:
Создает новую диаграмму EER. Клавиша быстрого вызова:
<span class="keycap"><strong>Control+T</strong></span>.</li>

<li><span class="guimenuitem">Create Diagram From Catalog Objects</span>:
Создает диаграмму EER из всех объектов в каталоге.</li>
<li><span class="guimenuitem">User Defined Types</span>:
Представляет диалоговое окно, которое позволяет вам добавить и удалить
пользовательские типы данных.</li>

<li><span class="guimenuitem">DBDoc Model Reporting...</span>:
Для получения информации об этом пункте меню посмотрите
<a href="#wb-reporting">раздел 9.1.1.1.5.1</a>.
Только MySQL Workbench Commercial.</li>

<li><span class="guimenuitem">Validation</span>:
Проверяет законность модели, используя стандарты ANSI.
Для получения информации об этом пункте меню посмотрите
menu item, see <a href="#wb-validation-menus">раздел 9.1.1.1.5.2</a>.
Только MySQL Workbench Commercial.</li>

<li><span class="guimenuitem">Validation (MySQL)</span>:
Проверяет законность использования модели по стандарту MySQL.
Для получения информации об этом пункте меню посмотрите
<a href="#wb-validation-menus">раздел 9.1.1.1.5.2</a>.
Только MySQL Workbench Commercial.</li>

<li><span class="guimenuitem">Object Notation</span>:
Для получения информации об этом пункте меню посмотрите
<a href="#wb-object-notation-menu">раздел 9.1.1.1.5.3</a>.</li>

<li><span class="guimenuitem">Relationship Notation</span>:
Для получения информации об этом пункте меню посмотрите
<a href="#wb-relationship-notation-menu">раздел 9.1.1.1.5.4</a>.</li>

<li><span class="guimenuitem">Diagram Properties and Size</span>:
Открывает диалоговое окно размера диаграммы, которое позволяет вам
отрегулировать ширину или высоту листа. Единица измерения: страницы, значение
по умолчанию равняется двум.</p>
<p>Когда у вас будут таблицы с многочисленными колонками, используйте этот
пункт меню, чтобы увеличить размер EER.</li>

<li><span class="guimenuitem">Model Options</span>:
Задает опции на уровне модели. Эти варианты не должны быть перепутаны с
вариантами, которые установлены глобально для Workbench, и упоминаются как
Workbench Preferences. Доступные варианты это
подмножество Workbench Preferences.</p>
<p>Для получения дополнительной информации о Workbench Preferences, см.
<a href="conf.htm#wb-preferences-modeling">раздел 3.2.4</a>.</p></li></ul>

<h6><a name="wb-reporting"></a>9.1.1.1.5.1. Диалог DBDoc Model Reporting
(MySQL Workbench Commercial)</h6>
<p>Диалог находится в меню <span class="guimenu">Model</span>
<span class="guimenuitem">DBDoc - Model Reporting...</span>.</p>

<p><span class="guimenuitem">DBDoc - Model Reporting...</span>
доступен только в MySQL Workbench Commercial.</p>
<p>Используйте это диалоговое окно, чтобы установить возможности для создания
документации ваших моделей базы данных. Для получения дополнительной
информации посмотрите <a href="#wb-model-reporting">раздел 9.2.2</a>.

<h6><a name="wb-validation-menus"></a>9.1.1.1.5.2.
Подменю Validation (MySQL Workbench Commercial)</h6>
<p>Меню <span class="guimenu">Model</span> имеет два подменю проверки,
<span class="guisubmenu">Validation</span> и
<span class="guisubmenu">Validation (MySQL)</span>.
Используйте эти подменю для общей проверки и MySQL-проверки объектов и
отношений, определенных в вашей модели.</p>

<p>Эти пункты доступны только в MySQL Workbench Commercial.</p>
<p>У подменю <span class="guisubmenu">Validation</span> есть эти пункты:
<ul><li><span class="guimenuitem">Validate All</span>:
Выполняет все доступные проверки.</li>

<li><span class="guimenuitem">Empty Content Validation</span>:
Проверка на объекты без содержания, такие как таблица без столбцов.</li>
<li><span class="guimenuitem">Table Efficiency Validation</span>:
Проверяет эффективность таблиц, например, таблица без
определенного первичного ключа.</li>

<li><span class="guimenuitem">Duplicate Identifiers Validation</span>:
Проверка на двойные идентификаторы, такие как две таблицы
с тем же самым именем.</li>

<li><span class="guimenuitem">Consistency Validation</span>:
Проверки на соглашения о присвоении имен.</li>
<li><span class="guimenuitem">Logic Validation</span>:
Проверка, например, что внешний ключ не ссылается на неосновной столбец
ключа в исходной таблице.</p></li></ul>

<p>У подменю <span class="guisubmenu">Validation (MySQL)</span>
есть эти пункты:
<ul><li><span class="guimenuitem">Validate All</span>:
Выполняет все доступные проверки.</li>

<li><span class="guimenuitem">Integrity Validation</span>:
Разрешены проверки на недопустимые ссылки, такие как имя таблицы
больше, чем максимум.</li>

<li><span class="guimenuitem">Syntax validation</span>:
Проверки на правильный синтаксис SQL.</li>
<li><span class="guimenuitem">Duplicate Identifiers Validation (Additions)
</span>: Проверки на объекты с тем же самым именем.</p></li></ul>
<p>Для получения дальнейшей информации посмотрите
<a href="#wb-validation-plugins">раздел 9.2.3</a>.

<h6><a name="wb-object-notation-menu"></a>9.1.1.1.5.3.
Подменю Object Notation</h6>
<p>Пункты в подменю <span class="guisubmenu">Object Notation</span>
применяется исключительно к диаграмме EER.</p>

<p>В подменю <span class="guisubmenu">Object Notation</span>
есть эти пункты:
<ul><li><span class="guimenuitem">Workbench (Default)</span>:
Показывает столбцы, индексы и триггеры.</li>

<li><span class="guimenuitem">Workbench (Simplified)</span>:
Показывает только  столбцы.</li>
<li><span class="guimenuitem">Classic</span>:
Подобно <code class="literal">Workbench (Simplified)</code>.</li>
<li><span class="guimenuitem">IDEF1X</span>:
стиль моделирования информации языка ICAM DEFinition.</p></li></ul>

<p>Стиль объектной нотации, который вы выбираете, сохраняется на время вашей
сессии MySQL Workbench и сохранен наряду с вашей моделью. Когда
MySQL Workbench перезапущен, объектная нотация возвращается к
значению по умолчанию.</p>

<p>Если вы планируете экспортировать или напечатать диаграмму EER,
выберите стиль сначала. Изменение стилей после помещения объектов
в диаграмму, может значительно изменить вид диаграммы.

<h6><a name="wb-relationship-notation-menu"></a>9.1.1.1.5.4.
Подменю Relationship Notation</h6>
<p>Пункты подменю <span class="guisubmenu">Relationship Notation</span>
применяются исключительно к диаграмме EER:</p>

<ul><li><span class="guimenuitem">Crow's Foot (IE)</span>:
Стиль моделирования по умолчанию. Для примера посмотрите
<a href="#wb-sakila-tutorial-image">рис. 9.24</a>.</li>

<li><span class="guimenuitem">Classic</span>: Использует алмазную форму,
чтобы указать на количество элементов.</li>
<li><span class="guimenuitem">Connect to Columns</span></li>
<li><span class="guimenuitem">UML</span>: Стиль Universal Modeling Language.
</li>
<li><span class="guimenuitem">IDEF1X</span>: Стиль ICAM DEFinition language.
</p></li></ul>

<p>Чтобы рассмотреть различные стили, настройте отношения между двумя или
больше таблицами и выберите различные пункты меню.</p>
<p>Стиль отношений, который вы выбираете, сохраняется на время вашей сессии
MySQL Workbench и сохранен наряду с вашей моделью. Когда MySQL Workbench
перезапущен, стиль отношений возвращается к <code class="literal">Crow's Foot
</code>.</p>

<p>Если вы планируете экспортировать или напечатать диаграмму EER,
выберите стиль сначала. Изменение стилей после помещения объектов в
диаграмму, может значительно изменить диаграмму.

<h5><a name="wb-database-menu"></a>9.1.1.1.6. Меню Database</h5>
<p>Это меню показывает действия для подключенного сервера MySQL. У меню
<span class="guimenu">Database</span> есть эти пункты:

<ul><li><span class="guimenuitem">Query Database</span>:
Запускает редактор SQL, который позволяет вам создать код SQL и выполнить его
на живом сервере. Для получения дополнительной информации посмотрите
<a href="dev.htm#wb-sql-editor">раздел 8.1</a>.</li>

<li><span class="guimenuitem">Manage Connections</span>: Запускает диалог
<span class="guilabel">Manage Server Connections</span>,
который позволяет вам создать и управлять связями.
Для получения дополнительной информации посмотрите
<a href="connect.htm#wb-manage-server-connections">раздел 5.3</a>.</li>

<li><span class="guimenuitem">Reverse Engineer</span>:
Создает модель из существующей базы данных. Для получения дополнительной
информации посмотрите <a href="#wb-reverse-engineer-live">раздел
9.4.2.2</a>.</li>

<li><span class="guimenuitem">Forward Engineer</span>:
Создает базу данных из модели. Для получения дополнительной информации
посмотрите <a href="#wb-forward-engineering-live-server">раздел
9.4.1.2</a>.</li>

<li><span class="guimenuitem">Schema Transfer Wizard...</span>:
Выполняет мастер миграции базы данных. Это полезно для перемещения от более
старого сервера MySQL до последней версии MySQL и предназначается для
локальной разработки. Вы не должны использовать этот инструмент на рабочих
экземплярах, поскольку они часто требуют более сложных
методов миграции данных.</p>

<p>Для получения дополнительной информации об этом мастере см.
<a href="migr.htm#wb-migration-database-mysql-schema-transfer">здесь</a>.
</li>

<li><span class="guimenuitem">Migration Wizard...</span>:
Выполняет мастер миграции базы данных для любой базы данных и
предназначается, чтобы мигрировать таблицы и данные с поддержанных систем баз
данных на ваш сервер MySQL. Для получения дополнительной информации см.
<a href="migr.htm">главу 10</a>.</li>

<li><span class="guimenuitem">Edit Type Mappings for Generic Migration
</span>: Отсюда можно определить
отображения типа, такие как преобразование типа исходных данных
<code class="literal">int8</code> к целевому типу данных MySQL
<code class="literal">BIGINT</code>.</li>

<li><span class="guimenuitem">Synchronize Model</span>:
Синхронизирует вашу модель базы данных с существующей базой данных.
Для получения дополнительной информации посмотрите
<a href="#wb-database-synchronization">раздел 9.5.1</a>.</li>

<li><span class="guimenuitem">Synchronize with Any Source</span>:
Позволяет вам сравнивать целевую базу данных или скрипт
с открытой моделью, внешним скриптом или второй базой данных и применять эти
изменения назад к цели. Для получения дополнительной информации посмотрите
<a href="#wb-database-synchronization">раздел 9.5.1</a>.</li>

<li><span class="guimenuitem">Compare Schemas</span>:
Сравнивает вашу модель схемы с живой базой данных или файлом скрипта. См.
<a href="#wb-database-diff-report">раздел 9.5.2</a>.</p></li></ul>

<h5><a name="wb-plugins-menu"></a>9.1.1.1.7. Меню Tools</h5>
<ul><li><span class="guimenuitem">Browse Audit Log File</span>:
Запускает файловый браузер, чтобы открыть определенный файл журнала аудита.
MySQL Workbench спросит доступ sudo, если пользователь MySQL Workbench
неспособен прочитать файл журнала аудита. Для получения дополнительной
информации о Audit Inspector см. <a href="admin.htm#wb-audit-inspector">
раздел 6.6</a>. Только MySQL Workbench Commercial.</li>

<li><span class="guimenuitem">Configuration</span>:
Резервная копия (или восстановление) ваших подключений MySQL, как определено
в MySQL Workbench. Данные о связи хранятся в файле
<code class="filename">connections.xml</code>, для получения дополнительной
информации об этом файле см.
<a href="conf.htm#wb-configuring-files">раздел 3.3</a>.</li>

<li><span class="guimenuitem">Utilities</span>:
Эти утилиты производят код PHP для "Connect to the MySQL server" или
"Iterate SELECT results", если возможно. Для получения дополнительной
информации о генерации кода PHP посмотрите
<a href="dev.htm#wb-generating-php">раздел 8.1.11.2</a>.</li>

<li><span class="guimenuitem">Start Shell for MySQL Utilities</span>:
Открывает утилиту <span class="command"><strong>mysqluc</strong></span>.
Для получения дополнительной информации об утилитах MySQL см.
<a href="util.htm">приложение F</a>.</p></li></ul>

<h5><a name="wb-scripting-menu"></a>9.1.1.1.8. Меню Scripting</h5>
<p>Это меню показывает сценарии GRT и опции плагинов. У меню
<span class="guimenu">Scripting</span> есть эти пункты:

<ul><li><span class="guimenuitem">Scripting Shell</span>:
Запускает MySQL Workbench Scripting Shell. Для получения дополнительной
информации посмотрите <a href="extend.htm#wb-scripting-shell">раздел C.5</a>.
</li>

<li><span class="guimenuitem">New Script</span>: Открывает диалог
<span class="guilabel">New Script File</span> с вариантами создать
<span class="guimenuitem">Python Script</span>,
<span class="guimenuitem">Python Plugin</span> или
<span class="guimenuitem">Python Module</span>.</li>

<li><span class="guimenuitem">Open Script</span>:
Открывает диалог <span class="guilabel">Open GRT Script</span>, который
по умолчанию покажет каталог скриптов Workbench. Файлы открыты в окне
<span class="guilabel">Workbench Scripting Shell</span>.</li>

<li><span class="guimenuitem">Run Script File</span>:
Выполняет скрипт, который в настоящее время открыт.</li>
<li>
<span class="guimenuitem">Run Workbench Script File</span>:
Выполняет указанный файл скрипта.</li>
<li><span class="guimenuitem">Install Plugin/Module File</span>:
Загружает и устанавливает файл модуля или плагин.</li>

<li><span class="guimenuitem">Plugin Manager</span>:
Покажет информацию о плагинах, которые установлены, позволяет
отключать и деинсталлировать плагины.</p></li></ul>

<h5><a name="wb-help-menu"></a>9.1.1.1.9. Меню Help</h5>
<p>Используйте меню <span class="guimenu">Help</span>, когда вы требуете
поддержки, или когда вы хотите помочь улучшить MySQL Workbench.
У этого меню есть следующие пункты:

<ul><li><span class="guimenuitem">Help Index</span>:
Открывает окно, показывая местную копию документации MySQL Workbench.
Читайте, ищите или напечатайте документацию из этого окна.</li>

<li><span class="guimenuitem">MySQL.com Website</span>:
Открывает ваш браузер по умолчанию на домашней странице веб-сайта MySQL.</li>
<li><span class="guimenuitem">Workbench Product Page</span>:
Открывает ваш браузер по умолчанию на странице MySQL Workbench.</li>

<li><span class="guimenuitem">System Info</span>: информация о вашей системе,
которая полезна, сообщая об ошибке. Для получения дополнительной информации
посмотрите <a href="#wb-system-info">раздел 9.1.1.1.9.1</a>.</li>

<li><span class="guimenuitem">Report a Bug</span>: Открывает ваш браузер по
умолчанию на bugs.mysql.com и автоматически заполняет несколько полей,
таких как версия OS и MySQL Workbench, проходя в дополнительных данных через
запрос GET. "Description" по умолчанию просит вас также приложить файл
журнала Workbench. Для получения дополнительной информации о полезных отчетах
об ошибках см. <a href="workbench-reporting-bugs.html">приложение D</a>.</li>

<li><span class="guimenuitem">View Reported Bugs</span>:
Открывает ваш браузер по умолчанию, чтобы видеть список текущих ошибок.</li>
<li><span class="guimenuitem">Locate Log Files</span>:
Открывает каталог, который содержит файлы журнала MySQL Workbench.</li>

<li><span class="guimenuitem">Show Log File</span>:
Открывает главный файл журнала MySQL Workbench в вашем текстовом редакторе по
умолчанию. Этот файл, как правило, называют <code class="filename">wb.log
</code>.</li>

<li><span class="guimenuitem">Check For Updates</span>:
Проверяет, используете ли вы текущую версию MySQL Workbench.
Если да, всплывающее окно сообщает вам об этом. В противном случае будет
запрос, чтобы вы открыли страницу загрузки MySQL Workbench.</li>

<li><span class="guimenuitem">About Workbench</span>: Показывает окно
MySQL Workbench <code class="literal">About</code>.
Это также показывает версию MySQL Workbench.</p></li></ul>

<h6><a name="wb-system-info"></a>9.1.1.1.9.1. System Info</h6>
<p>Используйте пункт меню <span class="guimenu">Help</span>,
<span class="guimenuitem">System Info</span>, чтобы показать информацию о
вашей системе. Этот пункт особенно полезен для определения режима рендеринга:

<pre>
MySQL Workbench Community (GPL) for Windows version 6.1.4revision 11773 build 1454
Configuration Directory: C:\Users\philip\AppData\Roaming\MySQL\Workbench
Data Directory: C:\Users\philip\Desktop\MySQL\MySQL Workbench 6.1.4 CE
Cairo Version: 1.8.8
OS: Microsoft Windows 7Service Pack 1 (build 7601), 64-bit
CPU: 4x Intel(R) Core(TM) i5-2400 CPU @ 3.10GHz, 8.0 GiB RAM
Active video adapter NVIDIA GeForce GT 610
Installed video RAM: 1024 MB
Current video mode: 1920 x 1080 x 4294967296 colors
Used bit depth: 32
Driver version: 9.18.13.2049
Installed display drivers: nvd3dumx.dll,nvwgf2umx.dll,nvwgf2umx.dll,nvd3dum,nvwgf2um,nvwgf2um
Current user language: English (United States)
</pre>

<h4><a name="wb-toolbar"></a>9.1.1.2. Панель инструментов</h4>
<p>Панель инструментов MySQL Workbench расположена ниже строки меню.
Щелкните по инструментам на панели инструментов, чтобы
выполнить следующие действия:

<ul><li>Значок документа: Создает новый документ.</li>
<li>Значок папки: Открывает файл MySQL Workbench (расширение
<code class="filename">mwb</code>).</li>
<li>Символ сохранения: Сохраняет текущий проект MySQL Workbench.</li>

<li>Правые и левые стрелки: стрелка влево выполняет
<span class="quote"><span class="quote">Undo</span></span>.
Стрелка вправо выполняет
<span class="quote"><span class="quote">Redo</span></span>.</p></li></ul>
<p>Другие инструменты появляются на панели инструментов в
зависимости от контекста.

<h5><a name="wb-tool-specific-toolbar-items"></a>9.1.1.2.1.
Определенные для инструмента пункты панели инструментов</h5>
<p>Когда лист диаграммы EER выбран, следующие символы появляются справа
от значков стрелки:

<ul><li>Символ переключения сетки: Включает и выключает сетку.</li>
<li>Символ сетки: Выравнивает объекты на листе с сеткой.</li>
<li>Символ новой диаграммы EER: Создает новую вкладку диаграммы EER.
</p></li></ul>

<p>Панель инструментов также изменяется, в зависимости от активного
инструмента в вертикальной панели инструментов. Для обсуждения этих
инструментов посмотрите <a href="#wb-vertical-toolbar">раздел
9.1.2.1</a>.</p>

<p>Если активен инструмент <code class="literal">Table</code>,
списки схем, типы хранения и сопоставления появляются на панели инструментов.
Свойства таблицы могут быть изменены, используя редактор свойств.</p>
<p>Когда объект выбран, свойства объекта, такие как цвет, могут быть
изменены в редакторе свойств.

<h4><a name="wb-eer-diagrams-section"></a>9.1.1.3. Диаграммы EER</h4>
<p>Используйте <code class="literal">Add new Diagram</code> в области
<code class="literal">MySQL Model</code>, чтобы создать диаграммы EER.
Когда вы добавляете диаграмму EER, новая вкладка появляется ниже панели
инструментов. Используйте ее, чтобы перейти к недавно созданной диаграмме
EER. Для дальнейшего обсуждения диаграмм EER посмотрите
<a href="#wb-eer-diagram-editor">раздел 9.1.2</a>.

<h4><a name="wb-view-overview-physical-schemata"></a>9.1.1.4.
Панель Physical Schemata</h4>
<p>Панель <code class="literal">Physical Schemata</code> страницы
<code class="literal">MySQL Model</code> показывает активные схемы и объекты,
что они содержат.</p>

<p>Раскройте <code class="literal">Physical Schemata</code>
дважды щелкая по стрелке слева от заголовка окна
<code class="literal">Physical Schemata</code>. Когда секция
<code class="literal">Physical Schemata</code> расширена, она показывает все
в настоящее время загруженные схемы.</p>

<p>Каждая схема показывается как вкладка. Чтобы выбрать определенную схему,
щелкните по ее вкладке. Когда MySQL Workbench открыт, схема по умолчанию
<code class="literal">mydb</code>. Можно начать работать с этой схемой или
загрузить новый файл модели MySQL Workbench (расширение
<code class="filename">.mwb</code>).</p>

<p>Есть множество способов добавить схему к панели
<code class="literal">Physical Schemata</code>.
Можно открыть файл MWB, перепроектировать скрипт MySQL или, если вы
используете MySQL Workbench Commercial,
можно перепроектировать базу данных, соединившись с сервером MySQL.</p>

<p>Можно также добавить новую схему, щелкнув
<span class="guibutton">+</span> справа вверху на панели
<code class="literal">Physical Schemata</code>. Чтобы удалить схему, щелкните
по ее вкладке и нажмите кнопку <span class="guibutton">-</span>
слева от <span class="guibutton">+</span>. Налево от этих кнопок есть три
кнопки, которые управляют, как показаны символы объекта базы данных:

<ul><li>Левая кнопка показывает объекты базы данных как большие символы.</li>
<li>Средняя кнопка показывает маленькие символы в много строк.</li>
<li>Правая кнопка показывает маленькие символы в единственном списке.
</p></li></ul>

<h5><a name="wb-overview-schema-objects"></a>9.1.1.4.1.
Панель Schema Objects</h5>
<p>Панель <code class="literal">Physical Schemata</code>
имеет следующие разделы:

<ul><li>Tables</li>
<li>Views</li>
<li>Routines</li>
<li>Routine Groups</p></li></ul>

<p>Каждая секция содержит указанные объекты базы данных и символ,
используемый для создания дополнительных объектов.</p>
<p>Любые объекты базы данных, добавленные к листу диаграммы EER,
также обнаруживаются в <code class="literal">Physical Schemata</code>.
Для получения информации о добавлении объектов к листу диаграммы EER
посмотрите <a href="#wb-eer-diagram-editor">раздел 9.1.2</a>.

<h4><a name="wb-model-overview-privileges"></a>9.1.1.5.
Панель Schema Privileges</h4>
<p>У панели <code class="literal">Schema Privileges</code> есть следующие
разделы, используемые, чтобы создать пользователей для ваших
схем и определить роли:
<ul><li>Users</li>
<li>Roles</p></li></ul>

<a name="wb-schema-privileges-image"></a>
<p><b>Рис. 9.4. Роли и привилегии</b></p>
<img src="images/wb-schema-privileges.png" width="535" height="147"
alt="Content is described in the surrounding text."><br>

<h5><a name="wb-adding-roles"></a>9.1.1.5.1. Добавление ролей</h5>
<p>Чтобы добавить роль, дважды щелкните <span class="guibutton">Add Role
</span>. Это создает роль с именем по умолчанию
<code class="literal">role1</code>. Щелчок правой кнопкой мыши по роли
открывает всплывающее меню со следующими пунктами:

<ul><li><span class="guimenuitem">Cut
'<em class="replaceable"><code>role_name</code></em>'</span>:
Вырезает роль.</li>

<li><span class="guimenuitem">Copy
'<em class="replaceable"><code>role_name</code></em>'</span>:
Копирует роль.</li>

<li><span class="guimenuitem">Edit Role...</span>:
Открывает ролевой редактор.</li>
<li><span class="guimenuitem">Edit in New Window...</span>:
Открывает ролевой редактор в новом окне редактора.</li>

<li><span class="guimenuitem">Delete
'<em class="replaceable"><code>role_name</code></em>'</span>:
Удаляет роль.</li>

<li><span class="guimenuitem">Copy SQL to Clipboard</span>:
В настоящее время не осуществлено.</p></li></ul>
<p>Чтобы переименовать роль, щелкните по ролевому имени. Тогда вы будете в
состоянии отредактировать текст.</p>

<p>Все определенные роли перечисляются под
<span class="guilabel">Roles</span> на левой стороне ролевого редактора.
Двойной щелчок по ролевому объекту открывает ролевой редактор внизу страницы.
</p>

<a name="wb-roles-image"></a><p><b>Рис. 9.5. Редактор ролей</b></p>
<img src="images/wb-roles.png" width="800" height="240"
alt="Content is described in the surrounding text."><br>

<p>Выберите роль, к которой вы хотите добавить объекты. Можно перетащить
объекты из <code class="literal">Physical Schemas</code> в секцию
<code class="literal">Objects</code> ролевого редактора.
Чтобы назначить привилегии на роль, выберите ее из секции
<code class="literal">Roles</code>, затем выберите объект в секции
<code class="literal">Objects</code>. В секции
<code class="literal">Privileges</code> проверьте права, которые вы хотите
назначить на эту роль. Например, роль
<code class="literal">web_user</code> могла бы иметь только привилегию
<code class="literal">SELECT</code> и только для объектов из базы данных,
которые выставляются через веб-интерфейс. Создание ролей может сделать
процесс назначения прав новым пользователям намного легче.

<h5><a name="wb-adding-users"></a>9.1.1.5.2. Добавление пользователей</h5>
<p>Чтобы добавить пользователя, дважды щелкните
<code class="literal">Add User</code>. Это создает пользователя с именем по
умолчанию <code class="literal">user1</code>.
Двойной щелчок по этому пользователю открывает пользовательский редактор.</p>

<p>В <code class="literal">User Editor</code> установите имя и пароль
пользователя, используя поля <span class="guilabel">Name</span> и
<span class="guilabel">Password</span>. Назначьте одну роль или много ролей
пользователю, выбрав желаемые роли из области справа и затем щелкнув кнопку
<span class="guibutton">&lt;</span>. Роли могут быть отменены, переместив
их в противоположном направлении.</p>

<p>Щелчок правой кнопкой мыши по пользователю открывает всплывающее меню.
Пункты и функции меню описаны в <a href="#wb-adding-roles">разделе
9.1.1.5.1</a>.

<h4><a name="wb-views-overview-scripts"></a>9.1.1.6.
Панель SQL Scripts</h4>
<p>Используйте панель <code class="literal">SQL Scripts</code>, чтобы
добавить скрипты SQL к модели для документации и организационных целей,
выполняя синхронизацию модели/схемы или прямую разработку.</p>

<p>Если вы создали свой проект из скрипта SQL и планируете создать скрипт
<code class="literal">ALTER</code>, можно хотеть добавить оригинальный
скрипт здесь, потому что будет необходимо создать скрипт
<code class="literal">ALTER</code>. См.
<a href="#wb-export-script-alter-schema">раздел 9.4.1.1.2</a>.</p>
<p>Способность использовать приложения, выполняя прямую разработку и
синхронизацию была добавлена в MySQL Workbench 6.2.0.</p>

<a name="wb-views-overview-scripts-editor"></a>
<p><b>Рис. 9.6. Редактор скриптов SQL</b></p>
<img src="images/wb-views-overview-scripts-editor.png" width="735"
height="430" alt="Content is described in the surrounding text."><br>

<h4><a name="wb-views-overview-notes"></a>9.1.1.7. Панель Model Notes</h4>
<p>Используйте панель <code class="literal">Model Notes</code>, чтобы
написать проектные записки. Любые скрипты или добавленные примечания будут
сохранены с вашим проектом.

<h4><a name="wb-history-palette"></a>9.1.1.8. Палитра History</h4>
<p>Используйте палитру <code class="literal">History</code>, чтобы
рассмотреть меры, которые вы приняли. Нажатие на запись
открывает всплывающее меню с пунктом
<span class="guimenuitem">Copy History Entries to Clipboard</span>.
Выберите этот пункт, чтобы выбрать один элемент.
Можно выбрать многократные смежные записи, нажав
<span class="keycap"><strong>Shift</strong></span> и щелкнув по записям,
которые вы хотите скопировать. Выберите записи состоящие из нескольких
несмежных участков при помощи
<span class="keycap"><strong>Control</strong></span>.</p>
<p>Только действия, которые изменяют модель MySQL или изменяют диаграмму EER,
захватываются палитрой <code class="literal">History</code>.

<h4><a name="wb-navigator-panel"></a>9.1.1.9. Панель Model Navigator</h4>
<p>Панель <span class="guilabel">Model Navigator</span> или
<span class="guilabel">Bird's Eye</span> предоставляет обзор объектов,
помещенных на лист диаграммы EER, и поэтому является самой полезной, когда
диаграмма EER активна. Любые объекты, которые вы поместили на лист, должны
быть видимы в навигаторе.</p>

<p>Model Navigator показывает общую площадь диаграммы EER.
Черный прямоугольный контур указывает на порт представления на видимую
область листа. Чтобы изменить порт представления диаграммы EER, щелкните по
этой черной схеме и тяните ее к желаемому местоположению.
Можно увеличить масштаб отобранных областей диаграммы EER при помощи
инструмента ползунка у основания этого окна. Размеры порта представления
изменяются, как вы увеличиваете и уменьшаете масштаб.
Если у инструмента ползунка есть центр, можно также изменить масштаб
изображения с использованием клавиш курсора.</p>

<a name="wb-navigator-description"></a>
<p><b>Рис. 9.7. Model Navigator: пример</b></p>
<img src="images/wb-navigator-description.png" width="800" height="672"
alt="Content is described in the surrounding text."><br>

<p>Размер по умолчанию <code class="literal">Model Navigator</code>:
две страницы. Используйте страницу <span class="guimenu">Model</span>,
<span class="guimenuitem">Diagram Properties and Size</span>, чтобы изменить
название диаграммы и размер. Следующие данные показывают пример
диалога Diagram Properties.</p>

<a name="wb-navigator-image"></a>
<p><b>Рис. 9.8. Палитра Model Navigator</b></p>
<img src="images/wb-navigator.png" width="457" height="380"
alt="Content is described in the surrounding text."><br>

<h4><a name="wb-catalog-palette"></a>9.1.1.10. Палитра Catalog Tree</h4>
<p>Палитра <code class="literal">Catalog Tree</code> показывает все схемы,
которые присутствуют в секции <code class="literal">Physical Schemata</code>
страницы <code class="literal">MySQL Model</code>. Расширьте представление об
объектах, содержавшихся в определенной схеме, щелкнув
<span class="guibutton">&gt;</span> слева от названия схемы.
Это показывает следующие значки папок:

<ul><li>Tables</li>
<li>Views</li>
<li>Routine Groups</p></li></ul>

<p>Расширьте каждый из них в свою очередь, щелкнув
<span class="guibutton">&gt;</span> слева от значка папки.</p>
<p>Палитра Catalog Tree прежде всего используется, чтобы перетащить
объекты на лист диаграммы EER.</p>

<h4><a name="wb-layers-palette"></a>9.1.1.11. Палитра Layers</h4>
<p>Эта палитра показывает все слои и рисунки на диаграмму EER. Если слой или
рисунок в настоящее время выбраны, <code class="literal">X</code>
появляется около названия объекта, и его свойства показаны в палитре
<code class="literal">Properties</code>. Это полезно, определяя выбранные
объекты, используя опции в меню <span class="guimenuitem">Select</span>. См.
<a href="#wb-edit-menu">раздел 9.1.1.1.2</a>.</p>
<p>Отбор объекта в палитре <code class="literal">Layers</code>
также регулирует порт представления к области листа, где объект расположен.

<h5><a name="wb-invisible-objects-layers"></a>9.1.1.11.1.
Нахождение невидимых объектов, используя палитру Layers</h5>
<p>При некоторых обстоятельствах можно хотеть сделать объект на диаграмме EER
невидимым. Выберите объект и в палитре <code class="literal">Properties
</code> установите свойство <code class="literal">visible</code> в
<code class="literal">False</code>.</p>

<p>Палитра <code class="literal">Layer</code> обеспечивает легкий способ
определить местонахождение объекта, такого как отношения, которые были
установлены в <code class="literal">hidden</code>. Откройте палитру
<code class="literal">Layers</code> и выберите объект, дважды щелкая по нему.
Можно тогда отредактировать объект и изменить его настройки
видимости к <code class="literal">Fully Visible</code>.

<h4><a name="wb-properties-palette"></a>9.1.1.12. Палитра Properties</h4>
<p>Палитра <code class="literal">Properties</code> используется, чтобы
показать и отредактировать свойства объектов на диаграмме EER.
Это особенно полезно для редактирования экранных объектов, таких
как слои и примечания.</p>

<p>Отбор объекта в диаграмме EER показывает свойства в палитре
<code class="literal">Properties</code>.</p>
<p>У всех объектов кроме связей есть следующие свойства
за исключением отмеченного:
<ul><li><code class="literal">color</code>:
Цветной акцент объекта показан как шестнадцатеричное значение.
Измените цвет объекта, изменив это значение.
Только знаки, которые законны для шестнадцатеричных значений,
могут быть введены. Можно также изменить цвет, щелкнув
<span class="guibutton">...</span>, чтобы открыть диалоговое
окно изменения цвета.</li>

<li><code class="literal">description</code>:
Применимый только к слоям. Средство документирования цели слоя.</li>
<li><code class="literal">expanded</code>:
Этот признак относится к объектам, таким как таблицы, которые могут быть
расширены, чтобы показать колонки, индексы и триггеры.</li>

<li><code class="literal">height</code>: Высота объекта.
В зависимости от объекта, это свойство может быть только прочитано или
доступно чтение-запись.</li>

<li><code class="literal">left</code>: Число пикселей от объекта до
левой стороны листа.</li>
<li><code class="literal">locked</code>: Блокирован ли объект.
Значение для этого признака <code class="literal">true</code> или
<code class="literal">false</code>.</li>

<li><code class="literal">manualSizing</code>: Был ли объект вручную измерен.
Значение для этого признака <code class="literal">true</code> или
<code class="literal">false</code>.</li>

<li><code class="literal">name</code>: Название объекта.</li>
<li><code class="literal">top</code>: Число пикселей от объекта
до вершины листа.</li>

<li><code class="literal">visible</code>: Обнаруживается ли объект на листе.
Используйте <code class="literal">1</code> для true и
<code class="literal">0</code> для false. Это в настоящее время используется
только для отношений.</li>

<li><code class="literal">width</code>: Ширина объекта.
В зависимости от объекта, это свойство может быть только прочитано или
доступно чтение-запись.</p></li></ul>

<p>У таблиц есть следующие дополнительные свойства:
<ul><li><code class="literal">indexesExpanded</code>:
Показаны ли индексы, когда таблица помещается в лист.
Используйте <code class="literal">1</code> для true и
<code class="literal">0</code> для false.</li>

<li><code class="literal">triggersExpanded</code>: Показаны ли триггеры,
когда таблица помещается в лист.
Используйте <code class="literal">1</code> для true и
<code class="literal">0</code> для false.</p></li></ul>
<p>Для обсуждения свойств связи посмотрите
<a href="#wb-connection-properties">раздел 9.1.4.3</a>.

<h3><a name="wb-eer-diagram-editor"></a>9.1.2. Редактор диаграмм EER</h3>
<p>Диаграммы EER создаются, дважды щелкая <code class="literal">Add
Diagram</code>. Можно создать любое количество диаграмм EER, как можно
создать любое количество физических схем (баз данных).
Каждая диаграмма EER изображается схематически как вкладка под
панелью инструментов, определенная диаграмма EER выбрана, щелкнув
по ее вкладке.</p>

<p>Нажатие на вкладку диаграммы EER проводит к листу, используемому для того,
чтобы графически управлять объектами базы данных.
<code class="literal">Vertical Toolbar</code> находится на левой
стороне этой страницы.</p>

<p>Этот инструмент для создания и редактирования диаграмм EER для модели.
Чтобы отредактировать существующую базу данных, перепроектируйте базу данных,
чтобы создать модель, или синхронизируйте вашу модель с базой данных.
Для получения дополнительной информации посмотрите разделы
<a href="#wb-reverse-engineer-live">9.4.2.2</a> и
<a href="#wb-design-schema">9.5</a>.

<h4><a name="wb-vertical-toolbar"></a>
9.1.2.1. Вертикальная панель инструментов</h4>
<p>Вертикальная панель инструментов появляется на левой панели, когда
вкладка диаграммы EER выбрана. Инструменты на этой панели инструментов
помогают в создании диаграмм EER.</p>

<a name="wb-vertical-toolbar-image"></a>
<p><b>Рис. 9.9. Вертикальная панель инструментов</b></p>
<img src="images/wb-vertical-toolbar.png" width="789" height="575"
alt="Content is described in the surrounding text."><br>

<p>Нажатие на инструмент изменяет указатель мыши на указатель, который
напоминает значок инструмента, указывая, какой инструмент активен.
Эти инструменты могут также быть активированы с клавиатуры, нажав клавишу,
связанную с инструментом. Проведение указателя мыши по символу панели
инструментов покажет описание инструмента и его горячей клавиши.</p>
<p>Более подробное описание каждого из этих инструментов следует.

<h5><a name="wb-standard-mouse-pointer"></a>9.1.2.1.1.
Стандартный указатель мыши</h5>
<p>Стандартный указатель мыши, расположенный наверху вертикальной панели
инструментов, является указателем мыши по умолчанию для вашей операционной
системы. Используйте этот инструмент, чтобы вернуться к стандартному
указателю мыши после использования других инструментов.</p>
<p>Чтобы вернуться к указателю по умолчанию с клавиатуры, используйте
клавишу <span class="keycap"><strong>Esc</strong></span>.

<h5><a name="wb-hand-tool"></a>9.1.2.1.2. Ручной инструмент</h5>
<p>Ручной инструмент используется, чтобы переместить всю диаграмму EER.
Щелкните по этому инструменту и затем щелкните где угодно по листу диаграммы
EER. Перемещение мыши, удерживая кнопку мыши изменяет
порт представления листа.</p>

<p>Чтобы определить ваше положение на листе, посмотрите на панель
<code class="literal">Model Navigator</code> в верхнем правом углу. Если
панель <code class="literal">Model Navigator</code> не открыта, используйте
<span class="guimenu">View</span>, <span class="guisubmenu">Windows</span>,
<span class="guimenuitem">Model Navigator</span>, чтобы ее открыть.</p>
<p>Чтобы активировать ручной инструмент с клавиатуры, используйте клавишу
<span class="keycap"><strong>H</strong></span>.</p>

<p>Можно также изменить порт представления диаграммы EER, используя панель
<code class="literal">Model Navigator</code>, см.
<a href="#wb-navigator-panel">раздел 9.1.1.9</a>.

<h5><a name="wb-eraser-tool"></a>9.1.2.1.3. Инструмент резинки</h5>
<p>Используйте инструмент резинки, чтобы удалить объекты из листа
диаграммы EER. Измените указатель мыши на инструмент резинки, затем щелкните
по объекту, который вы хотите удалить. В зависимости от ваших параметров
настройки, диалоговое окно должно открыться, прося, чтобы вы
подтвердили тип удаления.</p>

<p>Действием инструмента <code class="literal">резинки</code>
управляет общее урегулирование выбора для удаления.
Перед использованием инструмента резинки надо быть уверенным, что вы
понимаете доступные параметры, описанные в
<a href="conf.htm#wb-preferences-modeling">разделе 3.2.4</a>.</p>

<p>Чтобы активировать инструмент резинки с клавиатуры, используйте клавишу
<span class="keycap"><strong>D</strong></span>.</p>
<p>Можно также удалить объект, выбрав его и нажав
<span class="keycap"><strong>Control+Delete</strong></span>
или щелкнув правой кнопкой мыши по нему и выбрав
<span class="guimenuitem">Delete</span> из всплывающего меню.

<h5><a name="wb-layer-tool"></a>9.1.2.1.4. Инструмент Layer</h5>
<p>Инструмент layer это прямоугольный символ с буквой
<code class="literal">L</code> в левом нижнем углу.
Используйте инструмент слоя, чтобы организовать объекты на
листе диаграммы EER. Это полезно для группировки подобных объектов.
Например, можно использовать его, чтобы сгруппировать все представления.</p>

<p>Щелкните по инструменту слоя и используйте его, чтобы потянуть
прямоугольник на листе. Измените на стандартный инструмент указателя мыши и
возьмите любые объекты, которые требуется поместить в недавно созданный слой.
</p>

<p>Чтобы изменить размер слоя, сначала выберите его, щелкнув по нему.
Когда слой выбран, маленькие прямоугольники появляются в каждом углу и
посреди каждой стороны. Приспособьте размер, таща любой
из этих прямоугольников.</p>

<p>Можно также внести изменения в слой, выбрав слой и изменив свойства в
панели <code class="literal">Properties</code>. Использование панель
<code class="literal">Properties</code> это единственный способ
изменить название слоя.</p>

<p>Чтобы активировать инструмент слоя с клавиатуры, используйте клавишу
<span class="keycap"><strong>L</strong></span>. См.
<a href="#wb-layers">раздел 9.1.7</a>.

<h5><a name="wb-note-tool"></a>9.1.2.1.5. Инструмент Text</h5>
<p>Текстовый инструмент это квадратный значок с буквой
<code class="literal">N</code> в левом верхнем углу. Используйте этот
инструмент, чтобы поместить текстовые объекты на лист диаграммы EER.
Щелкните по инструменту, затем по желаемому местоположению на листе.
После того, как текстовый объект был помещен на лист, указатель мыши
возвращается к своему изначальному виду.</p>

<p>Чтобы добавить текст к текстовому объекту, щелкните правой кнопкой мыши по
текстовому объекту и выберите <span class="guimenuitem">Edit Note...</span>
или <span class="guimenuitem">Edit in New Window...</span>.</p>

<p>Можно управлять свойствами текстового объекта, выбирая его и затем изменяя
его свойства в панели <code class="literal">Properties</code>.</p>
<p>Чтобы активировать текстовый инструмент с клавиатуры, используйте клавишу
<span class="keycap"><strong>N</strong></span>. См.
see <a href="#wb-text-objects">раздел 9.1.9</a>.

<h5><a name="wb-image-tool"></a>9.1.2.1.6. Инструмент Image</h5>
<p>Используйте инструмент изображения, чтобы поместить изображение на лист.
Когда этот инструмент выбран, и вы щелкаете по листу, диалоговое окно
предоставляет возможность выбрать желаемый графический файл.</p>

<p>Чтобы активировать инструмент изображения с клавиатуры, используйте
клавишу <span class="keycap"><strong>I</strong></span>. См.
<a href="#wb-images">раздел 9.1.10</a>.

<h5><a name="wb-table-tool"></a>9.1.2.1.7. Инструмент Table</h5>
<p>Используйте этот инструмент, чтобы составить таблицу на
листе диаграммы EER.</p>

<p>Нажатие на лист составляет таблицу. Чтобы отредактировать таблицу
редактором таблиц MySQL, щелкните правой кнопкой мыши по ней и выберите
<span class="guimenuitem">Edit Table...</span> или
<span class="guimenuitem">Edit in New Window...</span>
из всплывающего меню. Можно также дважды щелкнуть по таблице, чтобы
загрузить ее в редактор таблиц.</p>

<p>Чтобы активировать инструмент таблицы с клавиатуры, используйте клавишу
<span class="keycap"><strong>T</strong></span>.
См. <a href="dev.htm#wb-table-editor">раздел 8.1.10</a>.</p>

<h5><a name="wb-view-tool"></a>9.1.2.1.8. Инструмент View</h5>
<p>Используйте этот инструмент, чтобы создать представление на листе
диаграммы EER. Когда инструмент стола активируется, список схем появляется на
панели инструментов ниже главного меню, позволяя вам связать новое
представление с определенной схемой. Можно также выбрать цвет для объекта,
выбрав из списка цветов справа от списка схем.</p>

<p>После выбора этого инструмента, щелчок по листу создает новое
представление. Чтобы отредактировать это представление, щелкните правой
кнопкой мыши по нему и выберите <span class="guimenuitem">Edit View...</span>
или <span class="guimenuitem">Edit in New Window...</span>
из всплывающего меню.</p>

<p>Чтобы активировать инструмент представления с клавиатуры, используйте
клавишу <span class="keycap"><strong>V</strong></span>. См.
<a href="#wb-creating-views">раздел 9.1.5</a>.

<h5><a name="wb-routine-group-tool"></a>9.1.2.1.9. Инструмент Routine Group
</h5>
<p>Используйте этот инструмент, чтобы создать хранимую подпрограмму
на листе диаграммы EER. Когда этот инструмент активируется, список схемы
появляется на панели инструментов ниже главного меню, позволяя вам связать
подпрограмму с определенной схемой. Можно также выбрать цвет из списка цветов
справа от списка схем.</p>

<p>После выбора этого инструмента, щелчок по листу создает новую
подпрограмму. Чтобы ее отредактировать, щелкните правой кнопкой мыши по ней и
выберите <span class="guimenuitem">Edit Routine Group...</span> или
<span class="guimenuitem">Edit in New Window...</span> из всплывающего меню.
</p>

<p>Чтобы активировать инструмент с клавиатуры, используйте клавишу
<span class="keycap"><strong>G</strong></span>.
См. <a href="#wb-routine-groups">раздел 9.1.6.2</a>.

<h5><a name="wb-reference-relationship-tools"></a>9.1.2.1.10.
Инструменты отношений</h5>
<p>Пять инструментов отношений используются, чтобы
представлять следующие отношения:

<ul><li>Отношения без идентификации один ко многим.</li>
<li>Отношения без идентификации один к одному.</li>
<li>Отношения с идентификацией один ко многим.</li>
<li>Отношения с идентификацией один к одному.</li>
<li>Отношения с идентификацией много ко многим.</p></li></ul>

<p>Эти инструменты появляются внизу вертикальной панели инструментов.
Проведите указатель мыши по каждому инструменту, чтобы видеть текст,
который описывает функцию. См.
<a href="#wb-foreign-key-relationships">раздел 9.1.4</a>.

<h3><a name="wb-tables"></a>9.1.3. Составление таблиц</h3>
<h4><a name="wb-tables-physical-schemata"></a>9.1.3.1.
Добавление таблиц к физическим схемам</h4>

<p>Двойной щелчок по значку <span class="guibutton">Add table</span>
в части <span class="guilabel">Physical Schemas</span> вкладки
<span class="guilabel">Model Overview</span>
добавляет таблицу с именем по умолчанию <code class="literal">table1</code>.
Если таблица с этим именем уже существует, новую таблицу называют
<code class="literal">table2</code>.</p>

<p>Добавление новой таблицы автоматически открывает редактор таблиц, см.
see <a href="dev.htm#wb-table-editor">раздел 8.1.10</a>.</p>
<p>Щелчок правой кнопкой мыши по таблице открывает контекстное меню
со следующими пунктами:<ul><li>
<span class="guimenuitem">Cut
'<em class="replaceable"><code>table_name</code></em>'</span>:
Вырезать таблицу, чтобы произвольно приклеить в другую схему.</li>

<li><span class="guimenuitem">Copy
'<em class="replaceable"><code>table_name</code></em>'</span>:
Скопировать таблицу, чтобы произвольно приклеить в другую схему.</li>

<li><span class="guimenuitem">Paste
'<em class="replaceable"><code>table_name</code></em>'</span>:
Приклеить таблицу. Выбор опции Paste также доступен из главного меню
<span class="guimenu">Edit</span>.</li>

<li><span class="guimenuitem">Edit
'<em class="replaceable"><code>table_name</code></em>'</span>:
Изменяет редактор таблиц на выбранную таблицу.</li>

<li><span class="guimenuitem">Edit '<em class="replaceable"><code>table_name
</code></em>' in New Tab</span>: Открывает таблицу в новой
вкладке редактора таблиц.</li>

<li><span class="guimenuitem">Copy SQL to Clipboard</span>:
Копирует <code class="literal">CREATE TABLE</code> для таблицы.</li>
<li><span class="guimenuitem">Copy Column Names to Clipboard</span>:
Копирует список разделенных запятой значений имен столбцов.</li>

<li><span class="guimenuitem">Copy Insert to Clipboard</span>: Копирует
<a href="../../../dev.mysql.com/doc/refman/8.0/en/insert.html" target="_top">
<code class="literal">INSERT</code></a> на основе вставок модели. Ничто не
копируется в буфер, если у таблицы нет определенных вставок.</li>

<li><span class="guimenuitem">Copy Insert Template to Clipboard</span>:
Копирует <a href="../../../dev.mysql.com/doc/refman/8.0/en/insert.html"
target="_top"><code class="literal">INSERT</code></a>, который
основан на модели.</li>

<li><span class="guimenuitem">Delete
'<em class="replaceable"><code>table_name</code></em>'</span>:
Удалит таблицу из базы данных. Это немедленно удаляет таблицу без
диалогового окна подтверждения.</li>

<li><span class="guimenuitem">Remove Figure
'<em class="replaceable"><code>table_name</code></em>'</span>:
Если применимо, удалит рисунок, связанный со таблицей.</p></li></ul>

<p>Если редактор таблиц не открыт, <span class="guimenuitem">Edit
'<em class="replaceable"><code>table_name</code></em>'</span>
открывает его. Если это уже открыто, выбранная таблица заменяет предыдущую.
<span class="guimenuitem">Edit '<em class="replaceable"><code>table_name
</code></em>' in New Tab</span> открывает дополнительную
вкладку редактора таблиц.</p>

<p>Любые таблицы, добавленные к разделу
<code class="literal">Physical Schemas</code>, также обнаруживается в палитре
<span class="guilabel">Catalog Tree</span> во вкладке
<span class="guilabel">EER Diagram</span>. Они могут быть добавлены к
диаграмме EER перетаскиванием их из этой палитры.

<h4><a name="wb-using-table-tool"></a>9.1.3.2.
Добавление таблиц к диаграмме EER</h4>
<p>Таблицы могут также быть добавлены к диаграмме EER, используя инструмент
<code class="literal">table</code> на вертикальной панели инструментов.
Удостоверьтесь, что вкладка <span class="guilabel">EER Diagram</span>
выбрана, затем щелкните правой кнопкой мыши по значку таблицы на вертикальной
панели инструментов. Значок таблицы это прямоугольный табличный символ.</p>

<p>Щелкание мышью на этом символе изменяет указатель мыши на указатель
таблицы. Можно также изменить указатель мыши на указатель таблицы, нажав
клавишу <span class="keycap"><strong>T</strong></span>.</p>

<p>Выбор инструмента <code class="literal">table</code> меняет содержание
панели инструментов, которая немедленно появляется ниже строки меню. Когда
указатель <code class="literal">Tables</code> активен, эта панель
инструментов содержит список схем, список механизмов хранения, список
сопоставлений и список цветовых схем. Используйте эти списки, чтобы выбрать
соответствующую схему, сопоставление и цветной акцент для новой таблицы.
Удостоверьтесь, что вы связываете новую таблицу с базой данных.
Механизм хранения и сопоставление таблицы могут быть изменены, используя
редактор таблиц. Цвет вашей таблицы может быть изменен, используя палитру
<code class="literal">Properties</code>. Значения <code class="literal">
Default Engine</code> и <code class="literal">Default Collation</code>
относятся к умолчаниям базы данных.</p>

<p>Составьте таблицу, щелкнув где угодно по листу диаграммы EER.
Это действие составляет новую таблицу с именем по умолчанию
<code class="literal">table1</code>. Чтобы вернуться к указателю мыши по
умолчанию, щелкните по значку стрелки наверху
вертикальной панели инструментов.</p>

<a name="wb-table-eer-view-image"></a>
<p><b>Рис. 9.10. Таблица на диаграмме EER</b></p>
<img src="images/wb-table-eer-view.png" width="163" height="290"
alt="Content is described in the surrounding text."><br>

<p>Как показано на предыдущем рисунке, первичный ключ обозначается значком
ключа, а индексируемые поля обозначаются отличным цветным алмазным символом.
Щелкните по стрелке справа от имени таблицы для показа полей.
Можно таким же способом переключать показ триггеров и индексов.</p>

<p>Щелчок правой кнопкой мыши по таблице открывает всплывающее меню
со следующими пунктами:
<ul><li><span class="guimenuitem">Cut
'<em class="replaceable"><code>table_name</code></em>'</span></li>

<li><span class="guimenuitem">Copy
'<em class="replaceable"><code>table_name</code></em>'</span></li>
<li><span class="guimenuitem">Paste</span></li>
<li><span class="guimenuitem">Edit
'<em class="replaceable"><code>table_name</code></em>'</span></li>

<li><span class="guimenuitem">Edit '<em class="replaceable">
<code>table_name</code></em>' in New Tab...</span></li>
<li><span class="guimenuitem">Copy SQL to Clipboard</span></li>

<li><span class="guimenuitem">Copy Column Names to Clipboard</span></li>
<li><span class="guimenuitem">Copy Inserts to Clipboard</span></li>
<li><span class="guimenuitem">Copy Insert Template to Clipboard</span></li>

<li><span class="guimenuitem">Delete
'<em class="replaceable"><code>table_name</code></em>'</span></li>
<li><span class="guimenuitem">Remove Figure
'<em class="replaceable"><code>table_name</code></em>'</span></p></li></ul>

<p>За исключением пункта удаления, эти пункты меню функционируют,
как описано в <a href="#wb-tables-physical-schemata">разделе
9.1.3.1</a>. Поведение удаления определяется вашими параметрами настройки
MySQL Workbench, см. <a href="conf.htm#wb-preferences-modeling">раздел 3.2.4
</a>.

<h3><a name="wb-foreign-key-relationships"></a>9.1.4.
Создание отношений внешнего ключа</h3>
<p>Ограничения внешнего ключа поддерживаются только для механизма хранения
<code class="literal">InnoDB</code>. Для других вариантов
синтаксис внешнего ключа правильно разобран, но не осуществлен.
Для получения дополнительной информации посмотрите
<a href="../../../dev.mysql.com/doc/refman/8.0/en/ansi-diff-foreign-keys.html"
target="_top">Foreign Key Differences</a>.</p>

<p>Используя MySQL Workbench можно добавить внешний ключ из редактора таблиц
или при помощи инструментов отношений на вертикальной панели инструментов
диаграммы EER. Эта секция имеет дело с добавлением внешнего ключа, используя
инструменты внешнего ключа. Чтобы добавить внешний ключ, используя редактор
таблиц, посмотрите <a href="dev.htm#wb-table-editor-foreign-keys-tab">раздел
8.1.10.4</a>.</p>

<p>Графические инструменты для добавления внешних ключей являются самыми
эффективными, когда вы строите таблицы с нуля. Если вы импортировали базу
данных, используя скрипт SQL и не должны добавлять столбцы к вашим таблицым,
можно счесть более эффективным определить внешние ключи,
используя редактор таблиц.

<h4><a name="wb-relationship-tools"></a>9.1.4.1.
Добавление отношений внешнего ключа, используя диаграмму EER</h4>
<p>У вертикальной панели инструментов на левой стороне диаграммы EER есть
шесть инструментов внешнего ключа:

<ul><li><code class="literal">one-to-one non-identifying relationship</code>
</li>
<li><code class="literal">one-to-many non-identifying relationship</code>
</li>

<li><code class="literal">one-to-one identifying relationship</code></li>
<li><code class="literal">one-to-many identifying relationship</code></li>
<li><code class="literal">many-to-many identifying relationship</code></li>
<li><code class="literal">Place a Relationship Using Existing Columns</code>
</p></li></ul>

<p>Различия включают:
<ul><li><span class="bold"><strong>Отношения идентификации</strong></span>:
определены сплошной линией между таблицами.</p>

<p>Отношения идентификации это то, где дочерняя таблица не может быть
однозначно определена без ее родителя. Как правило, это происходит там, где
посредническая таблица составлена, чтобы решить отношения много-много.
В таких случаях первичный ключ обычно это составной ключ, составленный из
первичных ключей от двух оригинальных таблиц.</li>

<li><span class="bold"><strong>Отношения без идентификации</strong></span>:
определены ломанной (пунктирной) линией между таблицами.</p></li></ul>
<p>Создайте или перетащите таблицы, которые вы хотите соединить.
Гарантируйте, что есть первичный ключ в таблице, которая будет на стороне
<span class="quote"><span class="quote">one</span></span>
отношений. Нажмите на соответствующий инструмент для типа отношений, которые
вы хотите создать. Если вы создаете связь &quot;один ко многим&quot;, сначала
щелкните по таблице, которая находится на стороне
<span class="quote"><span class="quote">many</span></span>
отношений, затем на таблице, содержащей ключ, на который ссылаются.
Это создает столбец в таблице на стороне многих отношений. Имя по умолчанию
этого столбца <em class="replaceable"><code>table_name_key_name</code></em>,
где имя таблицы и ключа относятся к таблице, содержащей ключ,
на который ссылаются.</p>

<p>Когда инструмент many-many активен, двойной щелчок по таблице составляет
ассоциативную таблицу с many-many отношениями. Для этого инструмента должен
быть первичный ключ, определенный в начальной таблице.</p>

<p>Используйте меню <span class="guimenu">Model</span>,
<span class="guimenuitem">Menu Options</span> чтобы установить определенное
для проекта имя по умолчанию для столбца внешнего ключа (см.
<a href="#wb-relationship-notation-menu">раздел 9.1.1.1.5.4</a>).
Чтобы изменить глобальное умолчание, посмотрите
<a href="conf.htm#wb-preferences-modeling">раздел 3.2.4</a>.</p>

<p>Чтобы отредактировать свойства внешнего ключа, дважды щелкните где угодно
по линии связи, которая присоединяется к этим двум таблицам.
Это открывает редактор отношений.</p>

<p>Если навести ваш указатель мыши на соединитель отношений, подчеркиваются
соединитель и связанные ключи, как показано на следующем рисунке.
Таблицы <code class="literal">film</code> и
<code class="literal">film_actor</code> связаны полем
<code class="literal">film_id</code>, это поле подчеркнуто в обоих таблицах.
Начиная с поля <code class="literal">film_id</code>,
часть первичного ключа в таблице <code class="literal">film_actor</code>,
сплошная линия используется для соединителя между этими двумя таблицами.</p>

<a name="wb-foreign-key-image"></a>
<p><b>Рис. 9.11. Соединитель отношений</b></p>
<img src="images/wb-foreign-key.png" width="380" height="456"
alt="Content is described in the surrounding text."><br>

<p>Если размещение заголовка связи не подходит, можно сменить его положение,
таща его к иному месту. Если вы установили вторичный заголовок, его положение
может также смениться. Для получения дополнительной информации о вторичных
заголовках, посмотрите <a href="#wb-connection-properties">раздел
9.1.4.3</a>. Где стиль примечания разрешает, например,
<code class="literal">Classic</code>, индикаторы количества элементов могут
также быть передвинуты.</p>

<p>Стиль примечания отношений на
<a href="#wb-foreign-key-image">рис. 9.11</a> crow's foot, принятый
по умолчанию. Можно изменить это, если вы используете Commercial Edition
MySQL Workbench. См. <a href="#wb-relationship-notation-menu">раздел
9.1.1.1.5.4</a>.</p>

<p>Можно выбрать многократные связи, удержав
<span class="keycap"><strong>Control</strong></span>, когда
вы щелкаете по связи. Это может быть полезно для выдвижения на первый план
определенных отношений на диаграмме EER.

<h4><a name="wb-relationship-editor"></a>9.1.4.2. Редактор отношений</h4>
<p>Двойной щелчок по отношениям на листе диаграммы EER открывает редактор
отношений. У него есть две вкладки:
<span class="guilabel">Relationship</span> и
<span class="guilabel">Foreign Key</span>.

<h5><a name="idm140523191211072"></a>Вкладка Relationship</h5>
<p>На вкладке <span class="guilabel">Relationship</span>
можно установить заголовок отношений, используя поле
<span class="guilabel">Caption</span>. Это имя показывается на листе и
является также именем, используемым для самого ограничения.
Значение по умолчанию для этого имени
<code class="literal">fk_<em class="replaceable"><code>
source_table_destination_table</code></em></code>. Используйте меню
<span class="guimenu">Model</span>, <span class="guimenuitem">Menu
Options</span>, чтобы установить определенное для проекта имя по умолчанию
для внешних ключей. Чтобы изменить глобальное умолчание, посмотрите
<a href="conf.htm#wb-preferences-modeling">раздел 3.2.4</a>.</p>

<p>Можно также добавить вторичный заголовок и заголовок к отношениям.</p>
<p>Секция <span class="guilabel">Visibility Settings</span> используется,
чтобы определить, как отношения показаны на листе диаграммы EER.
<code class="literal">Fully Visible</code> это умолчание, но вы также можете
скрыть линии связей или использовать линии разделения. Стиль линии разделения
показывают на следующем рисунке.</p>

<a name="wb-drawSplit-image"></a>
<p><b>Рис. 9.12. Соединитель разделения</b></p>
<img src="images/wb-drawSplit.png" width="220" height="180"
alt="Content is described in the surrounding text."><br>

<p>Соединитель прерывистой линии указывает на отношения без идентификации.
Стиль линии разделения может использоваться с отношениями идентификации или с
отношениями без идентификации. Это используется только в целях показа и ни на
что не указывает в природе отношений.</p>

<p>Чтобы установить нотацию отношений используют меню
<span class="guimenu">Model</span>, <span class="guimenuitem">Relationship
Notation</span>, см. <a href="#wb-relationship-notation-menu">раздел
9.1.1.1.5.4</a>.

<h5><a name="idm140523191191616"></a>Вкладка Foreign Key</h5>
<p>Вкладка <span class="guilabel">Foreign Key</span>
содержит несколько секций: <span class="guilabel">Referencing Table</span>,
<span class="guilabel">Cardinality</span> и
<span class="guilabel">Referenced Table</span>.</p>

<p>Опции <span class="guilabel">Mandatory</span> используются, чтобы выбрать,
обязательны ли таблица ссылки и таблица, на которую ссылаются. По умолчанию
оба из этих ограничений <code class="literal">true</code>.</p>

<p>Секция <span class="guilabel">Cardinality</span> имеет ряд кнопок, которые
позволяют вам выбрать отношения one-to-one или one-to-many. Есть также опция,
которая позволяет вам определить, являются ли
отношения отношениями с идентификацией.

<h4><a name="wb-connection-properties"></a>9.1.4.3. Свойства связи</h4>
<p>Щелкните правой кнопкой мыши по связи, чтобы выбрать ее.
Когда связь выбрана, она подчеркнута, и ее свойства показаны в палитре
properties. Свойства связи отличаются от свойств других объектов.
Следующий список описывает их:

<ul><li><code class="literal">caption</code>: Название связи.
По умолчанию имя это название внешнего ключа, и значение центрировано
выше линии связи.</li>

<li><code class="literal">captionXOffs</code>: Смещение X заголовка.</li>
<li><code class="literal">captionYOffs</code>: Смещение Y заголовка.</li>
<li><code class="literal">comment</code>:
Комментарий, связанный с отношениями.</li>

<li><code class="literal">drawSplit</code>:
Показать ли отношения как сплошную линию.</li>
<li><code class="literal">endCaptionXOffs</code>:
Точка X завершения заголовка.</li>

<li><code class="literal">endCaptionYOffs</code>:
Точка Y завершения заголовка.</li>
<li><code class="literal">extraCaption</code>:
Вторичный заголовок. По умолчанию этот дополнительный заголовок центрирован
ниже линии связи.</li>

<li><code class="literal">extraCaptionXOffs</code>:
Смещение X второго заголовка.</li>
<li><code class="literal">extraCaptionYOffs</code>:
Смещение Y второго заголовка.</li>

<li><code class="literal">mandatory</code>:
Обязательны ли таблицы. Для получения дополнительной информации посмотрите
<a href="#wb-relationship-editor">раздел 9.1.4.2</a>.</li>

<li><code class="literal">many</code>: False, если отношения one-to-one.</li>
<li><code class="literal">middleSegmentOffset</code>:
Смещение среднего раздела соединителя.</li>

<li><code class="literal">modelOnly</code>: Установлено, когда связь не будет
размножена к DDL. Это просто логическая связь, продвинутая диаграмма.
Это используется, например, при рисовании таблиц
<code class="literal">MyISAM</code> с визуальными отношениями, но
без внешних ключей.</li>

<li><code class="literal">name</code>:
Имя, определяющее связь на листе диаграммы EER. Обратите внимание на то, что
это <span class="bold"><strong>не</strong></span> название внешнего ключа.
</li>

<li><code class="literal">referredMandatory</code>: Обязательна ли ссылка.
</li>
<li><code class="literal">startCaptionXOffs</code>:
Начало X-смещения заголовка.</li>
<li><code class="literal">startCaptionYOffs</code>:
Начало Y-смещения заголовка.</p></li></ul>

<p>В большинстве случаев можно изменить свойства отношений, используя
редактор отношений, а не палитру <code class="literal">Properties</code>.</p>
<p>Если вы сделаете отношение невидимым, скрывая его, используя
<span class="guilabel">Visibility Settings</span> редактора отношений,
и затем закроете редактора отношений, вы больше не будете в состоянии выбрать
отношения, чтобы что-то с ними сделать в редакторе отношений. Чтобы сделать
отношения видимыми снова, необходимо расширить объект таблицы, касающийся
отношений, в палитре <span class="guilabel">Layers</span>
и выбрать объект связи. Чтобы отредактировать выбранный объект, щелкните
правой кнопкой мыши по нему, затем выберите
<span class="guimenuitem">Edit Object</span>. Можно тогда установить
<span class="guilabel">Visibility Settings</span> в
<span class="guilabel">Fully Visible</span>. Отношения тогда будут
видимы в окне <span class="guilabel">EER Diagram</span>.

<h3><a name="wb-creating-views"></a>9.1.5. Создание представлений</h3>
<p>Можно добавить представления в базу данных из секции
<code class="literal">Physical Schemas</code> страницы
<code class="literal">MySQL Model</code> или из диаграммы EER.

<h4><a name="wb-views-physical-schemata"></a>
9.1.5.1. Добавление представлений в физические схемы</h4>
<p>Чтобы добавить представление, дважды щелкните
<code class="literal">Add View</code> в секции
<code class="literal">Physical Schemas</code> страницы
<code class="literal">MySQL Model</code>. Имя по умолчанию представления:
<code class="literal">view1</code>. Если представление с этим именем уже
существует, новое представление называют <code class="literal">view2</code>.
</p>

<p>Добавление нового представления автоматически открывает редактор
представления, см. <a href="#wb-view-editor">раздел 9.1.5.3</a>.</p>
<p>Щелчок правой кнопкой мыши по представлению открывает всплывающее меню
со следующими пунктами:

<ul><li><span class="guimenuitem">Cut
'<em class="replaceable"><code>view_name</code></em>'</span></p>
<p>'<em class="replaceable"><code>view_name</code></em>' вырезано только
из листа EER и не удалено из схемы.</li>

<li><span class="guimenuitem">Copy
'<em class="replaceable"><code>view_name</code></em>'</span></li>
<li><span class="guimenuitem">Paste</span></li>
<li><span class="guimenuitem">Edit View...</span></li><li>
<span class="guimenuitem">Edit in New Window...</span></li>
<li><span class="guimenuitem">Copy SQL to Clipboard</span></li>

<li><span class="guimenuitem">Delete
'<em class="replaceable"><code>view_name</code></em>'</span>:
удаляет из листа EER и из схемы.</li>

<li><span class="guimenuitem">Remove
'<em class="replaceable"><code>view_name</code></em>'</span>:
удаляет из листа EER, но не из схемы.</p></li></ul>

<p>Если редактор таблиц не открыт,
<span class="guimenuitem">Edit View...</span> открывает его. Если это уже
открыто, выбранная таблица заменяет предыдущую.
<span class="guimenuitem">Edit in New Window...</span>
открывает новый редактор представления.</p>

<p>Пункты cut и copy полезны для копирования представлений
между различными схемами. <span class="guimenuitem">Copy SQL to Clipboard
</span> копирует в буфер команду <code class="literal">CREATE VIEW</code>.
</p>

<p>Используйте <span class="guimenuitem">Delete
'<em class="replaceable"><code>view_name</code></em>'</span>, чтобы удалить
представление из базы данных. Не будет
<span class="bold"><strong>никакого</strong></span>
диалогового окна подтверждения.</p>

<p>Любые представления, добавленные к секции
<code class="literal">Physical Schemas</code> также обнаруживаются в палитре
<code class="literal">Catalog</code> на левой стороне приложения.
Они могут быть добавлены к диаграмме EER во вкладке EER Diagram
перетаскиванием их от этой палитры.

<h4><a name="wb-using-view-tool"></a>9.1.5.2.
Добавление представлений е диаграмме EER</h4>
<p>Представления могут также быть добавлены к диаграмме EER, используя
инструмент <code class="literal">View</code> на вертикальной панели
инструментов. Удостоверьтесь, что вкладка
<span class="guilabel">EER Diagram</span> выбрана, затем щелкните по символу
представления на вертикальной панели инструментов. Символ представления это
два накладывающихся прямоугольника ниже значка таблицы.</p>

<p>Нажатие на этот символ изменяет указатель мыши на указатель представления.
Чтобы изменить указатель мыши на указатель представления с клавиатуры,
используйте клавишу <span class="keycap"><strong>V</strong></span>.</p>

<p>Выбор инструмента <code class="literal">View</code>
изменяет содержание панели инструментов, которая появляется ниже строки
главного меню. Когда указатель <code class="literal">Views</code>
активен, эта панель инструментов содержит список схем и список цветовых схем.
Используйте эти списки, чтобы выбрать соответствующую схему и цветной акцент
для нового представления. Удостоверьтесь, что вы связываете новое
представление с базой данных. Цвет вашей точки зрения может быть изменен,
используя палитру <code class="literal">Properties</code>.</p>

<p>Создайте представление, щелкнув где угодно по листу диаграммы EER.
Это создает новое представление с именем по умолчанию
<code class="literal">view1</code>. Чтобы вернуться к указателю мыши по
умолчанию, щелкните по значку стрелки наверху
вертикальной панели инструментов.</p>

<p>Щелчок правой кнопкой мыши по представлению открывает всплывающее меню.
За исключением пункта delete, эти пункты меню функционируют, как описано в
<a href="#wb-views-physical-schemata">разделе 9.1.5.1</a>.
Поведение выбора delete определяется вашими параметрами настройки MySQL
Workbench, см. <a href="conf.htm#wb-preferences-modeling">раздел 3.2.4</a>.

<h4><a name="wb-view-editor"></a>9.1.5.3. Редактор представления</h4>
<p>Чтобы вызвать редактор представления, дважды щелкните по объекту
представления на листе диаграммы EER или дважды щелкните по представлению в
секции <code class="literal">Physical Schemas</code> страницы
<code class="literal">MySQL Model</code>.
Это открывает редактор представления. Любое количество представлений может
быть открыто в то же время. Каждое дополнительное представление появляется
как вкладка наверху редактора представления.</p>

<p>Есть три вкладки у основания редактора представления:
<span class="guilabel">View</span>, <span class="guilabel">Comments</span> и
<span class="guilabel">Privileges</span>. Переходите между различными
вкладками, используя мышь или с клавиатуры, нажав
<span class="keycap"><strong>Control+Alt+Tab</strong></span>.</p>

<p><span class="bold"><strong>Вкладка View</strong></span></p>
<p>Используйте вкладку <span class="guilabel">View</span>, чтобы
выполнить следующие задачи:
<ul><li>Переименуйте представление, используя текстовое окно
<span class="guilabel">Name</span>.</li>

<li>Введите SQL, чтобы создать представление, используя поле
<span class="guilabel">SQL</span>.</li>
<li>Прокомментируйте представление, используя текстовое поле
<span class="guilabel">Comments</span>.</p></li></ul>

<p><span class="bold"><strong>Вкладка Comments</strong></span></p>
<p>Вкладка позволяет вам ввести комментарии для конкретного представления.
</p>
<p><span class="bold"><strong>Вкладка Privileges</strong></span></p>
<p>Вкладка <span class="guilabel">Privileges</span> редактора представления
функционирует точно таким же образом как, вкладка
<span class="guilabel">Privileges</span> редактора подпрограмм, см.
<a href="#wb-routine-editor-privileges">раздел 9.1.6.1.2.2</a>.

<h4><a name="wb-modifying-view"></a>9.1.5.4.
Изменение представления, используя палитру Properties</h4>
<p>Когда вы выбираете представление на листе диаграммы EER, его свойства
показаны в палитре <code class="literal">Properties</code>.
Большинство свойств, доступных из палитры
<code class="literal">Properties</code>,
относятся к появлению представления на листе диаграммы EER.</p>

<p>Для списка свойств, доступных через палитру
<code class="literal">Properties</code> см.
<a href="#wb-properties-palette">раздел 9.1.1.12</a>.

<h3><a name="wb-routines-routine-groups"></a>9.1.6.
Создание подпрограмм и групп подпрограмм</h3>
<p>Можно добавить группу подпрограмм к базе данных из секции
<span class="guilabel">Physical Schemata</span> страницы
<span class="guilabel">MySQL Model</span> или из диаграммы EER.
Подпрограмма может быть добавлена только из секции
<span class="guilabel">Physical Schemata</span> страницы
<span class="guilabel">MySQL Model</span>.</p>

<p>Чтобы рассмотреть существующую схему, наряду с ее подпрограммами, выбирают
<span class="guimenu">Database</span>, <span class="guimenuitem">Reverse
Engineer...</span> из главного меню. После того, как схема была добавлена к
текущей модели, вы видите объекты схемы на панели
<span class="guilabel">Physical Schemata</span> страницы
<span class="guilabel">MySQL Model</span>.</p>

<p>MySQL Workbench объединяет сохраненные функции и процедуры
в один логический объект, названный Routine. <span class="guilabel">Routine
Groups</span> используется, чтобы сгруппировать связанные подпрограммы.
Определите подпрограмму через <span class="guilabel">Routine Group Editor
</span>, чтобы назначить определенную подпрограмму
на группу, используя интерфейс перетаскивания.</p>

<p>Проектируя диаграмму EER, можно разместить Routine Groups на листе
перетаскивая ее из <span class="guilabel">Catalog Palette</span>.
Размещение отдельной подпрограммы на диаграмме не разрешено, поскольку это
загромоздило бы лист.

<h4><a name="wb-routines"></a>9.1.6.1. Подпрограммы</h4>
<h5><a name="wb-add-routines"></a>9.1.6.1.1.
Добавление подпрограмм к физическим схемам</h5>
<p>Чтобы добавить подпрограмму, дважды щелкните <code class="literal">Add
Routine</code> в разделе <code class="literal">Physical Schemata</code>
страницы <code class="literal">MySQL Model</code>. Имя по умолчанию:
<code class="literal">routine1</code>. Если подпрограмма с этим именем уже
существует, новая называется <code class="literal">routine2</code>.</p>

<p>Добавление новой подпрограммы автоматически открывает редактор, см.
<a href="#wb-routine-editor">раздел 9.1.6.1.2</a>.</p>
<p>Щелчок правой кнопкой мыши по подпрограмме открывает всплывающее меню
со следующими пунктами:
<ul><li><span class="guimenuitem">Rename</span></li>
<li><span class="guimenuitem">Cut
'<em class="replaceable"><code>routine_name</code></em>'</span></li>

<li><span class="guimenuitem">Copy
'<em class="replaceable"><code>routine_name</code></em>'</span></li>
<li><span class="guimenuitem">Paste</span></li>
<li><span class="guimenuitem">Edit Routine...</span></li>
<li><span class="guimenuitem">Edit in New Window...</span></li>

<li><span class="guimenuitem">Copy SQL to Clipboard</span></li>
<li><span class="guimenuitem">Delete
'<em class="replaceable"><code>routine_name</code></em>'</span></p></li></ul>

<p><span class="guimenuitem">Edit Routine...</span> открывает редактор.</p>
<p>Пункты cut и paste полезны для копирования подпрограмм
между различными схемами.</p>

<p>Удаление кода из вкладки <span class="guilabel">Routines</span>
в Routine Group Editor приводит к удалению  объекта из модели.</p>
<p>Чтобы удалить подпрограмму из группы, используйте вкладку
<span class="guilabel">Routine Group</span> в Routine Group Editor.</p>

<p>Действие опции delete варьируется в зависимости от того, как вы
формировали MySQL Workbench. См.
<a href="conf.htm#wb-preferences-modeling">раздел 3.2.4</a>.

<h5><a name="wb-routine-editor"></a>9.1.6.1.2. Routine Editor</h5>
<p>Чтобы вызвать редактор подпрограмм, дважды щелкните по подпрограмме в
разделе <code class="literal">Physical Schemata</code> на странице
<code class="literal">MySQL Model</code>. Это открывает редактор.
Любое количество подпрограмм может быть открыто в то же время.
Каждая дополнительная появляется как вкладка редактора.</p>

<p>Вкладки <span class="guilabel">Routine</span> и
<span class="guilabel">Privileges</span> появляются внизу редактора.
Перемещайтесь между вкладками, используя мышь или с клавиатуры, нажав
<span class="keycap"><strong>Control+Alt+Tab</strong></span>.

<h6><a name="wb-routines-routine-tab"></a>9.1.6.1.2.1. Вкладка Routine</h6>
<p>Используйте вкладку <span class="guilabel">Routine</span>, чтобы
выполнить следующие задачи:

<ul><li>Переименуйте подпрограмму, используя поле
<span class="guilabel">Name</span>.</li>
<li>Введите SQL, чтобы создать подпрограмму, в поле
<span class="guilabel">SQL</span>.</p></li></ul>

<h6><a name="wb-routine-editor-privileges"></a>9.1.6.1.2.2.
Вкладка Privileges</h6>
<p>Вкладка <span class="guilabel">Privileges</span> позволяет вам назначать
роли и привилегии. Можно также назначить привилегии на роль, используя
ролевой редактор. Для обсуждения этой темы, посмотрите
<a href="#wb-adding-roles">раздел 9.1.1.5.1</a>.</p>

<p>Когда эта вкладка открыта, все роли, которые были созданы, показаны в
списке справа. Переместите роли, которые вы хотите связать с этой
таблицей, в список <span class="guilabel">Roles</span> слева.
Сделайте это, выбрав роль и затем щелкнув
<span class="guibutton">&lt;</span>. Используйте клавишу
<span class="keycap"><strong>Shift</strong></span>, чтобы выбрать
многократные смежные роли и
<span class="keycap"><strong>Control</strong></span>, чтобы выбрать роли из
нескольких несмежных участков.</p>

<p>Чтобы назначить привилегии на роль, щелкните по роли в списке
<span class="guilabel">Roles</span>. Это показывает все доступные привилегии
в списке <span class="guilabel">Assigned Privileges</span>.
Привилегии, которые показаны:

<ul><li><code class="literal">ALL</code></li>
<li><code class="literal">CREATE</code></li>
<li><code class="literal">DROP</code></li>
<li><code class="literal">GRANT OPTION</code></li>
<li><code class="literal">REFERENCES</code></li>
<li><code class="literal">ALTER</code></li>
<li><code class="literal">DELETE</code></li>
<li><code class="literal">INDEX</code></li>
<li><code class="literal">INSERT</code></li>
<li><code class="literal">SELECT</code></li>
<li><code class="literal">UPDATE</code></li>
<li><code class="literal">TRIGGER</code></p></li></ul>

<p>Вы можете назначить все привилегии на определенную роль или любую другую
привилегию, как перечислено ранее. Привилегии, неподходящие определенной
таблице, такие как <code class="literal">FILE</code>, не показаны.</p>

<p>Если роли уже предоставили привилегии на определенной таблице, те
привилегии показаны, как уже зарегистрированные в списке
<span class="guilabel">Assigned Privileges</span>.

<h4><a name="wb-routine-groups"></a>9.1.6.2. Routine Groups</h4>
<h5><a name="wb-routine-groups-physical-schemata"></a>
9.1.6.2.1. Добавление Routine Groups в Physical Schemata</h5>
<p>Двойной щелчок <code class="literal">Add Routine Group</code> в разделе
<code class="literal">Physical Schemata</code> страницы
<code class="literal">MySQL Model</code> добавляет группу с именем по
умолчанию <code class="literal">routines1</code>. Если группа с этим именем
уже существует, новую группу называют <code class="literal">routines2</code>.
</p>

<p>Добавление новой группы автоматически открывает редактор групп, см.
<a href="#wb-routine-groups-editor">раздел 9.1.6.2.3</a>.</p>
<p>Щелчок правой кнопкой мыши по обычной группе открывает всплывающее меню
со следующими пунктами:
<ul><li><span class="guimenuitem">Rename</span></li>
<li><span class="guimenuitem">Cut
'<em class="replaceable"><code>routine_group_name</code></em>'</span></li>

<li><span class="guimenuitem">Copy
'<em class="replaceable"><code>routine_group_name</code></em>'</span></li>
<li><span class="guimenuitem">Edit Routine...</span></li>
<li><span class="guimenuitem">Edit in New Window...</span></li>

<li><span class="guimenuitem">Copy SQL to Clipboard</span></li>
<li><span class="guimenuitem">Delete
'<em class="replaceable"><code>routine_group_name</code></em>'</span>
</p></li></ul>

<p><span class="guimenuitem">Edit Routine Group...</span>
открывает редактор группы, который описан в
<a href="#wb-routine-groups-editor">разделе 9.1.6.2.3</a>.</p>

<p>Пункты cut и paste полезны для копирования групп между различными схемами.
</p>
<p>Удаление группы из страницы <code class="literal">MySQL Model</code>
удаляет группу, но не удаляет подпрограмм, содержавшихся в той группе.</p>

<p>Любые группы, добавленные к <code class="literal">Physical
Schemata</code>, также обнаружатся в палитре
<code class="literal">Catalog</code> на правой стороне приложения.
Они могут быть добавлены к диаграмме EER перетаскиванием их от этой палитры.

<h5><a name="wb-using-routine-groups-tool"></a>9.1.6.2.2.
Добавление Routine Groups к диаграмме EER</h5>
<p>Чтобы добавить группы к диаграмме EER, используйте инструмент
<code class="literal">Routine Groups</code>
на вертикальной панели инструментов. Удостоверьтесь, что вкладка
<span class="guilabel">EER Diagram</span> выбрана, затем щелкните правой
кнопкой мыши по символу групп на вертикальной панели инструментов.
Символ групп находится над самым низким сепаратором панели инструментов.</p>

<p>Щелкание мышью на этом символе изменяет указатель мыши на
указатель группы. Можно также изменить указатель мыши на указатель, нажав
клавишу <span class="keycap"><strong>G</strong></span>.</p>

<p>Выбор инструмента <code class="literal">Routine Group</code>
изменяет содержание панели инструментов, которая появляется ниже строки меню.
Когда указатель <code class="literal">Routine Groups</code> активен,
эта панель инструментов содержит список схем и список цветовой схемы.
Используйте эти списки, чтобы выбрать соответствующую схему и цветной акцент
для новой группы. Удостоверьтесь, что вы связываете новую группу с базой
данных. Цвет вашей группы может быть изменен позднее с использованием
палитры <code class="literal">Properties</code>.</p>

<p>Создайте группу, щелкнув где угодно по листу диаграммы EER.
Это создает новую группу с именем по умолчанию
<code class="literal">routines1</code>. Чтобы вернуться к указателю мыши по
умолчанию, щелкните по значку стрелки наверху
вертикальной панели инструментов.</p>

<p>Щелчок правой кнопкой мыши по группе открывает всплывающее меню.
За исключением пунктов delete и rename, эти опции меню функционируют как
описано в <a href="#wb-routine-groups-physical-schemata">разделе
9.1.6.2.1</a>. Логика опции delete определяется вашими параметрами настройки
MySQL Workbench, см. <a href="conf.htm#wb-preferences-modeling">раздел 3.2.4
</a>.

<h5><a name="wb-routine-groups-editor"></a>9.1.6.2.3.
Routine Group Editor</h5>
<p>Чтобы вызвать редактора группы, дважды щелкните по объекту группы на листе
диаграммы EER или дважды щелкните по группе в секции
<code class="literal">Physical Schemata</code> страницы
<code class="literal">MySQL Model</code>.
Любое количество групп может быть открыто в то же время.
Каждая дополнительная группа появляется как вкладка наверху редактора.</p>

<p>Вкладки <span class="guilabel">Routine group</span> и
<span class="guilabel">Privileges</span> появляются внизу редактора.
Перемещайтесь между различными вкладками, используя мышь или с клавиатуры,
нажав <span class="keycap"><strong>Control+Alt+Tab</strong></span>.

<h6><a name="wb-routine-groups-tab"></a>9.1.6.2.3.1.
Вкладка Routine Groups</h6>
<p>Используйте вкладку <span class="guilabel">Routine Groups</span>
редактора групп, чтобы выполнить следующие задачи:

<ul><li>Переименуйте группу, используя поле
<span class="guilabel">Name</span>.</li>
<li>Добавьте подпрограмму в группу перетаскиванием.</li>
<li>Добавьте комментарии к группе.</p></li></ul>

<h6><a name="wb-routine-groups-editor-privileges"></a>9.1.6.2.3.2.
Вкладка Privileges</h6>
<p>Вкладка <span class="guilabel">Privileges</span>
редактора группы функционирует точно таким же образом, как вкладка
<span class="guilabel">Privileges</span> редактора таблиц.
Для получения дополнительной информации посмотрите
<a href="#wb-routine-editor-privileges">раздел 9.1.6.1.2.2</a>.

<h6><a name="wb-modifying-routine"></a>9.1.6.2.3.3.
Изменение Routine Group через палитру Properties</h6>
<p>Когда вы выбираете группу на листе диаграммы EER, ее свойства показаны в
палитре <code class="literal">Properties</code>. Все свойства, доступные из
палитры <code class="literal">Properties</code>, относятся к появлению
группы на листе диаграммы EER.</p>

<p>Для списка свойств, доступных через палитру
<code class="literal">Properties</code>, см.
<a href="#wb-properties-palette">раздел 9.1.1.12</a>.

<h3><a name="wb-layers"></a>9.1.7. Создание слоев</h3>
<p>Можно добавить слои к базе данных только из диаграммы EER.
Слои используются, чтобы помочь организовать объекты на листе.
Как правило, связанные объекты добавляются к тому же самому слою, например,
вы можете добавить все ваши представления на один слой.

<h4><a name="wb-using-layer-tool"></a>9.1.7.1.
Добавление слоев к диаграмме EER</h4>
<p>Чтобы добавить слои к диаграмме EER, используйте инструмент
<code class="literal">Layer</code> на вертикальной панели инструментов.
Выберите вкладку <span class="guilabel">EER Diagram</span> и щелкните по
символу слоя на вертикальной панели инструментов. Символ слоя это
прямоугольник с символом <code class="literal">L</code>
в левом нижнем углу, ниже символа резинки.</p>

<p>Щелкание мышью на этом символе изменяет указатель мыши на указатель слоя.
Можно также изменить указатель мыши на указатель слоя, нажав клавишу
<span class="keycap"><strong>L</strong></span>.</p>

<p>Выбор инструмента <code class="literal">Layer</code>
изменяет содержание панели инструментов, которая появляется ниже строки меню.
Когда указатель <code class="literal">Layers</code> активен, эта панель
инструментов содержит список цветовой схемы. Используйте этот список, чтобы
выбрать цветной акцент для нового слоя. Цвет вашего слоя может быть изменен
позднее с использованием палитры <code class="literal">Properties</code>.</p>

<p>Создайте слой, щелкнув где угодно по листу диаграммы EER и, удерживая
левую кнопку мыши, потяните прямоугольник подходящего размера.
Это создает новый слой с именем по умолчанию
<code class="literal">layer1</code>. Чтобы вернуться к указателю мыши по
умолчанию, щелкните по значку стрелки наверху
вертикальной панели инструментов.</p>

<p>Следующие данные показывают слой, названный "My Sakila
Views" с несколькими представлениями:</p>
<a name="wb-layer-image"></a><p><b>Рис. 9.13. Ррасположенный на слое объект
</b></p><img src="images/wb-layer.png" width="800" height="735"
alt="Content is described in the surrounding text."><br>

<p>Чтобы открыть редактора слоя, дважды щелкните по слою или щелкните правой
кнопкой мыши по слою и выберите опцию edit.
Доступные варианты контекстного меню:
<ul><li><span class="guimenuitem">Cut
'<em class="replaceable"><code>layer_name</code></em>'</span></li>

<li><span class="guimenuitem">Copy
'<em class="replaceable"><code>layer_name</code></em>'</span></li>
<li><span class="guimenuitem">Paste
'<em class="replaceable"><code>a_table_name</code></em>'</span></li>

<li><span class="guimenuitem">Edit
'<em class="replaceable"><code>layer_name</code></em>'</span></li>
<li><span class="guimenuitem">Delete
'<em class="replaceable"><code>layer_name</code></em>'</span></p></li></ul>

<p>Слой может также быть отредактирован с помощью
<span class="guilabel">Properties Editor</span> на левой панели,
это предлагает дополнительные опции.</p>

<p>Пункты cut и copy полезны для копирования слоев между различными схемами.
</p>
<p>Так как слои не объекты схемы, никакое диалоговое окно подтверждения не
открывается, когда вы удаляете слой независимо от того, как вы формировали
MySQL Workbench. Удаление слоя <span class="bold"><strong>не</strong></span>
удаляет объекты схемы из каталога.

<h5><a name="wb-adding-objects-layer"></a>9.1.7.1.1.
Добавление объектов к слою</h5>
<p>Чтобы добавить объект к слою, перетащите его непосредственно из палитры
<code class="literal">Catalog</code> в слой.
Если вы поднимаете объект из диаграммы EER, вы должны нажать
<span class="keycap"><strong>Control</strong></span>, когда
вы тянете его на слой, иначе это он будет
<span class="quote"><span class="quote">привязан</span></span> к слою.</p>

<p>Привязка объектов к слою предотвращает их случайное удаление. Вы не можете
удалить их, перетащив, чтобы удалить объект, также необходимо нажать
<span class="keycap"><strong>Control</strong></span>, таща его.</p>

<p>Если вы тянете слой через таблицу, объект таблицы будет автоматически
добавлен к слою. Это также работает с многократными объектами таблицы.</p>
<p>Слои не могут быть вложены. Таким образом, слой не может содержать другой
расположенный на слое объект.

<h4><a name="wb-modifying-layer"></a>9.1.7.2.
Изменение слоя, используя палитру Properties</h4>
<p>Выбор "Edit" позволяет вам редактировать имя слоя и цвет фона слоя, и
"Properties Editor" предлагает дополнительные опции.</p>

<p>Когда вы выбираете слой на листе диаграммы EER, его свойства показаны в
палитре <code class="literal">Properties</code>. Свойства, доступные из
палитры <code class="literal">Properties</code>, относятся к появлению слоя
на листе диаграммы EER.</p>

<p>При некоторых обстоятельствах можно хотеть сделать слой невидимым.
Выберите слой и в палитре <code class="literal">Properties</code>
установите свойство <code class="literal">visible</code> в
<code class="literal">False</code>. Чтобы определить местонахождение
невидимого объекта, откройте палитру <code class="literal">Layers</code>
и выберите объект, дважды щелкая по нему. После того, как объект выбран,
можно сбросить свойство <code class="literal">visible</code> из палитры
<code class="literal">Properties</code>.</p>

<p>Для списка свойств, доступных через палитру
<code class="literal">Properties</code>, см.
<a href="#wb-properties-palette">раздел 9.1.1.12</a>.
В дополнение к свойствам, перечисленным там, у слоя также есть свойство
<code class="literal">description</code>. Используйте его для
документирования назначения слоя.

<h3><a name="wb-notes"></a>9.1.8. Создание примечаний</h3>
<p>Можно добавить примечания к базе данных только из раздела
<code class="literal">Model Notes</code> страницы
<code class="literal">MySQL Model</code>. Примечания, как правило,
используются, чтобы помочь зарегистрировать процесс проектирования.

<h4><a name="wb-notes-physical-schemata"></a>9.1.8.1. Добавление примечаний
</h4>
<p>Двойной щелчок по <code class="literal">Add Note</code> в секции
<code class="literal">Model Notes</code> страницы
<code class="literal">MySQL Model</code> добавляет примечание с именем по
умолчанию <code class="literal">note1</code>. Если примечание с этим именем
уже существует, новое примечание называют <code class="literal">note2</code>.
</p>

<p>Добавление нового примечания автоматически открывает редактор примечания,
см. <a href="#wb-note-editor">раздел 9.1.8.2</a>.</p>
<p>Щелчок правой кнопкой мыши по примечанию открывает всплывающее меню
со следующими пунктами:

<ul><li><span class="guimenuitem">Rename</span></li>
<li><span class="guimenuitem">Cut
'<em class="replaceable"><code>note_name</code></em>'</span></li>

<li><span class="guimenuitem">Copy
'<em class="replaceable"><code>note_name</code></em>'</span></li>
<li><span class="guimenuitem">Delete
'<em class="replaceable"><code>note_name</code></em>'</span></p></li></ul>

<p><span class="guimenuitem">Edit Note...</span> открывает редактор
примечания. Для получения информации об использовании редактора посмотрите
<a href="#wb-note-editor">раздел 9.1.8.2</a>.</p>

<p>Пункты cut и copy полезны для копирования примечаний
между различными схемами.</p>
<p>Примечания могут быть добавлены только на странице
<code class="literal">MySQL Model</code>.

<h4><a name="wb-note-editor"></a>9.1.8.2. Note Editor</h4>
<p>Чтобы вызвать редактор примечания, дважды щелкните по объекту примечания в
секции <code class="literal">Model Note</code> страницы
<code class="literal">MySQL Model</code>. Любое количество примечаний может
быть открыто в то же время. Каждое дополнительное примечание появляется как
вкладка наверху редактора примечаний.</p>
<p>Используйте редактор, чтобы изменить название примечания
или его содержание.

<h3><a name="wb-text-objects"></a>9.1.9. Создание текстовых объектов</h3>
<p>Текстовые объекты применимы только к диаграмме EER. Они могут
использоваться в целях документации, например, чтобы объяснить группировку
объектов схемы. Они также полезны для создания названий для диаграммы EER.

<h4><a name="wb-using-text-object-tool"></a>
9.1.9.1. Добавление текстовых объектов к диаграмме EER</h4>
<p>Чтобы добавить текстовые объекты к диаграмме EER, используйте
инструмент <code class="literal">Text Object</code>
на вертикальной панели инструментов. Удостоверьтесь, что выбрана вкладка
<span class="guilabel">EER Diagram</span>, затем щелкните правой кнопкой мыши
по символу текстового объекта на вертикальной панели инструментов.</p>

<p>Щелкание мышью на этом символе изменяет указатель мыши на указатель
текстового объекта. Можно также изменить указатель мыши на указатель
текстового объекта, нажав клавишу
<span class="keycap"><strong>N</strong></span>.</p>

<p>Выбор инструмента <code class="literal">Text Object</code>
изменяет содержание панели инструментов, которая появляется ниже строки меню.
Когда указатель <code class="literal">Text Object</code> активен, эта панель
инструментов содержит список цветовой схемы. Используйте этот список, чтобы
выбрать цветной акцент для нового текстового объекта. Цвет вашего текстового
объекта может быть изменен позднее с использованием палитры
<code class="literal">Properties</code>.</p>

<p>Создайте текстовый объект, щелкнув где угодно по листу диаграммы EER.
Это создает новый текстовый объект с именем по умолчанию
<code class="literal">text1</code>. Чтобы вернуться к указателю мыши по
умолчанию, щелкните по значку стрелки наверху
вертикальной панели инструментов.</p>

<p>Щелчок правой кнопкой мыши по текстовому объекту открывает всплывающее
меню. Эти опции меню идентичны возможностям для других объектов.
Однако, так как текстовый объект не объект базы данных, нет никакого
диалогового окна подтверждения, когда вы удаляете текстовый объект.

<h4><a name="wb-text-object-editor"></a>9.1.9.2. Text Object Editor</h4>
<p>Чтобы вызвать редактора текстового объекта, дважды щелкните по текстовому
объекту на листе диаграммы EER. Это открывает редактор. Любое количество
текстовых объектов может быть открыто в то же время. Каждый дополнительный
текстовый объект появляется как вкладка наверху текстового редактора.</p>
<p>Используйте редактор, чтобы изменить название текстового объекта
или его содержание.

<h5><a name="wb-modifying-text-object"></a>
9.1.9.2.1. Изменение текстового объекта, используя палитру Properties</h5>
<p>Когда вы выбираете текстовый объект на листе диаграммы EER, его свойства
показаны в палитре <code class="literal">Properties</code>.
Большинство свойств, доступных из палитры
<code class="literal">Properties</code>, относится к появлению объекта на
листе диаграммы EER.</p>

<p>Для списка свойств, доступных через палитру
<code class="literal">Properties</code>, см.
<a href="#wb-properties-palette">раздел 9.1.1.12</a>.</p>

<p>Нет никакого свойства в палитре <code class="literal">Properties</code>
для изменения шрифта, который используется текстовым объектом. Чтобы сделать
это, выберите вкладку <span class="guilabel">Appearance</span> диалога
Workbench Preferences. См.
<a href="conf.htm#wb-preferences-modeling-appearance">
Preferences: Modeling: Appearance</a>.

<h3><a name="wb-images"></a>9.1.10. Создание изображений</h3>
<p>Изображения существуют только на листе диаграммы EER, можно добавить их
только из окна диаграммы EER.

<h4><a name="wb-using-image-tool"></a>9.1.10.1.
Добавление изображений к диаграмме EER</h4>
<p>Чтобы добавить изображения к диаграмме EER, используйте инструмент
<code class="literal">Image</code> на вертикальной панели инструментов.
Удостоверьтесь, что выбрана вкладка <span class="guilabel">EER Diagram
</span>, затем щелкните правой кнопкой мыши по значку изображения на
вертикальной панели инструментов. Значок изображения это символ чуть
выше значка таблицы.</p>

<p>Щелкание мышью на этом символе изменяет указатель мыши на указатель
изображения. Можно также измениться, указатель мыши на указатель изображения,
нажимая клавишу <span class="keycap"><strong>I</strong></span>.</p>

<p>Создайте изображение, щелкнув где угодно по листу диаграммы EER.
Это открывает диалоговое окно открытия файла. Выберите желаемое изображение,
затем закройте диалоговое окно, чтобы создать изображение на листе.
Чтобы вернуться к указателю мыши по умолчанию, щелкните по значку стрелки
наверху вертикальной панели инструментов.</p>

<p>Щелчок правой кнопкой мыши по этому объекту открывает всплывающее меню
со следующими пунктами:
<ul><li><span class="guimenuitem">Cut
<em class="replaceable"><code>'Image'</code></em></span></li>
<li><span class="guimenuitem">Copy
<em class="replaceable"><code>'Image'</code></em></span></li>

<li><span class="guimenuitem">Edit Image...</span></li>
<li><span class="guimenuitem">Edit in New Window...</span></li>
<li><span class="guimenuitem">Delete
<em class="replaceable"><code>'Image'</code></em></span></p></li></ul>

<p>Эти пункты меню функционируют точно таким же образом, как для других
объектов на диаграмме EER. Однако изображения не объекты базы данных, таким
образом, нет никакого диалогового окна подтверждения, когда они удалены.

<h4><a name="wb-image-editor"></a>9.1.10.2. Image Editor</h4>
<p>Чтобы вызвать редактор изображений, дважды щелкните по объекту изображения
на листе диаграммы EER. Это открывает редактор изображений.
Любое количество изображений может быть открыто в то же время.
Каждое дополнительное изображение появляется как вкладка редактора.</p>

<h5><a name="wb-images-image-tab"></a>Вкладка Image</h5>
<p>Используйте вкладку <span class="guilabel">Image</span>
редактора изображений, чтобы выполнить следующие задачи:

<ul><li>Переименуйте изображение, используя текстовое окно
<span class="guilabel">Name</span>.</li>
<li>Просмотрите изображение кнопкой
<span class="guibutton">Browse</span>.</p></li></ul>

<h5><a name="wb-modifying-image"></a>
Изменение изображения, используя палитру Properties</h5>
<p>Когда вы выбираете изображение на листе диаграммы EER, его свойства
показаны в палитре <span class="guilabel">Properties</span>.
Большинство свойств, доступных из палитры
<span class="guilabel">Properties</span>,
относится к появлению изображения на листе диаграммы EER.</p>

<p>Для списка свойств, доступных через палитру
<span class="guilabel">Properties</span>, см.
<a href="#wb-properties-palette">раздел 9.1.1.12</a>.

<h2><a name="wb-design-modeling-additional"></a>9.2.
Дополнительные инструменты моделирования</h2>
<p>Дополнительные средства проектирования моделирования и особенности.

<h3><a name="wb-printing"></a>9.2.1. Печать диаграмм</h3>
<p>Параметры печати, используемые, чтобы создать распечатки ваших диаграмм
EER, находятся меню <span class="guimenu">File</span>.
Чтобы создать <span class="emphasis"><em>документацию</em></span> ваших
моделей, посмотрите <a href="#wb-reporting">раздел 9.1.1.1.5.1</a>.

<h4><a name="wb-printing-options"></a>9.2.1.1. Опции печати</h4>
<p>Пункты меню печати недоступны, если диаграмма EER не активна. Эти пункты:
<ul><li><span class="guimenuitem">Page Setup...</span></p>
<p>Позволяет вам выбрать формат бумаги, ориентацию и края.</li>

<li><span class="guimenuitem">Print</span></p>
<p>Посылает вашу диаграмму EER на принтер. Этот выбор производит
предварительный просмотр перед печатью. От предварительного просмотра можно
приспособить масштаб представления, а также выбрать многостраничное
представление. Щелчок по значку принтера наверху этого окна печатает в
настоящее время выбираемую диаграмму EER. Закройте окно предварительного
просмотра, если необходимо приспособить размещение объектов на
листе диаграммы EER.</li>

<li><span class="guimenuitem">Print to PDF...</span></p>
<p>Создает файл PDF вашей диаграммы EER.</li>
<li><span class="guimenuitem">Print to PS...</span></p>
<p>Создает файл PostScript вашей диаграммы EER.</p></li></ul>

<h3><a name="wb-model-reporting"></a>9.2.2. Сообщение модели DBDoc</h3>
<p>Диалог DBDoc Model Reporting доступен при открытой модели из меню
<span class="guimenu">Model</span>,
<span class="guimenu">DBDoc - Model Reporting</span>.</p>

<p>Эта функциональность доступна только в MySQL
Workbench Commercial Editions.</p>
<p>Использование диалога DBDoc-Model Reporting дает
возможности для создания документации ваших моделей базы данных.
Например, следующие данные показывают диалог с
<code class="literal">HTML Detailed Frames</code>
и стилем шаблонов <code class="literal">Vibrant</code>.</p>

<a name="wb-dbdoc-wizard-main-detailed-frames"></a>
<p><b>Рис. 9.14. Опции DBDoc Model Reporting</b></p>
<img src="images/wb-dbdoc-wizard-main-detailed-frames.png" width="680"
height="620" alt="Content is described in the surrounding text."><br>

<p>Вы можете выбрать из четырех доступных шаблонов отчета:
<ul><li><code class="literal">HTML Basic Frames</code>:
Образцовая документация в формате HTML, который использует фреймы.</li>

<li><code class="literal">HTML Basic Single Page</code>:
Одностраничная документация HTML, не использует фреймы.</li>
<li><code class="literal">HTML Detailed Frames</code>:
Подробная документация HTML, используя фреймы.</li>
<li><code class="literal">Text Basic</code>:
Документация текстового файла.</p></li></ul>

<p>Когда вы щелкаете по шаблону, изображение предварительного просмотра
показывается на правой стороне страницы. Для шаблона
<code class="literal">HTML Basic Frames</code> можно выбрать
<code class="literal">Colorful</code> или
<code class="literal">Restrained Colors</code> из списка
<span class="guilabel">Style</span>. Шаблон
<code class="literal">HTML Basic Single Page</code>
предлагает только стиль <code class="literal">Colorful</code>.
Шаблон <code class="literal">HTML Detailed Frames</code> предлагает
стили <code class="literal">Vibrant</code> и
<code class="literal">Coated</code>. Шаблон
<code class="literal">Text Basic</code> предлагает только стиль
<code class="literal">Fixed Size Font</code>.</p>

<p>Из фрейма <span class="guilabel">Base Options</span>
выбирают название отчета и целевой каталог для файлов отчета.</p>
<p>Следующие переменные могут использоваться, чтобы формировать путь:
<ul><li><code class="literal">~</code>: Домашний каталог пользователя.
Доступен только на версиях Linux и macOS.</li>

<li><code class="literal">%desktopfolder%</code>: Рабочий стол пользователя.
</li>
<li><code class="literal">%documentsfolder%</code>: Папка Documents
пользователя. Следующая таблица показывает типичные значения для платформ.
</p>

<table border="1">
<thead><tr><th scope="col">Платформа</th>
<th scope="col">Типичная папка Documents</th></tr></thead>
<tbody><tr><td scope="row">Windows</td>
<td><code class="filename">C:\Users\<em class="replaceable"><code>
user_name</code></em>\My Documents</code></td></tr>
<tr><td scope="row">Linux</td><td><code class="filename">
~/Documents</code></td></tr>
<tr><td scope="row">macOS</td><td><code class="filename">
Users/<em class="replaceable"><code>user_name</code></em>/Documents</code>
</td></tr></tbody></table></li>

<li><p><code class="literal">%date%</code>: Дата в формате YYYY-MM-DD.</li>
<li><code class="literal">%time%</code>: Время в формате HHMM.</li>
<li><code class="literal">%year%</code>: Год в формате YYYY.</li>
<li><code class="literal">%month%</code>: Месяц в формате MM.
Январь 01, декабрь соответственно 12.</li>
<li><code class="literal">%monthname%</code>: Имя месяца, а не номер.</li>
<li><code class="literal">%day%</code>: Номер дня в формате DD.</p></li></ul>

<p>Варианты содержания могут также быть выбраны:
<ul><li><span class="guilabel">Output Table Columns</span>:
Покажите все колонки.</li>

<li><span class="guilabel">Output Table Indices</span>:
Покажите все индексы.</li>
<li><span class="guilabel">Output Foreign Keys</span>:
Покажите все внешние ключи.</li>

<li><span class="guilabel">Output References from Foreign Keys</span>:
покажите таблицы, которые ссылаются на внешние ключи.</li>
<li><span class="guilabel">Include DDL code for objects</span>:
Производит код DDL.</p></li></ul>

<p>Нажатие <span class="guibutton">Generate</span> создает каталог,
определенный в текстовом окне <span class="guilabel">Output directory</span>.
Если вы приняли решение создать
<code class="literal">HTML Basic Frames</code>, вы найдете следующие
файлы в этом каталоге:

<ul><li><code class="filename">basic.css</code>: Таблица стилей для
страницы <code class="filename">overview.html</code>.</li>
<li><code class="filename">index.html</code>: Главная страница.</li>

<li><code class="filename">overview.html</code>:
Образцовый обзор, навигационные ссылки, показанные в боковой панели.</li>
<li><code class="filename">restrained.css</code>: Файл CSS, используемый,
если выбрана опция стиля <code class="literal">Restrained Colors</code>.</li>

<li><code class="filename">table_details.html</code>: Главный фрейм отчета.
</p></li></ul>
<p>Выбор опции <code class="literal">HTML Basic Single Page</code>
создает таблицу стилей и файл <code class="filename">index.html</code>.</p>

<p>Выбор опции <code class="literal">HTML Detailed Frames</code>
создает следующие файлы:
<ul><li><code class="filename">basic.css</code>: Таблица стилей для страницы
<code class="filename">overview.html</code>. Это используется, если выбран
стиль <code class="literal">vibrant</code>.</li>

<li><code class="filename">coated.css</code>: Файл CSS, используемый, если
выбрана опция стиля <code class="literal">Coated</code>.</li>
<li><code class="filename">index.html</code>: Главная страница.</li>
<li><code class="filename">overview.html</code>:
Информация об обзоре для отчета, такая как название отчета,
название проекта и автор.</li>

<li><code class="filename">overview_list.html</code>:
Резюме схемы в модели наряду со списком таблиц в каждой схеме.</li>
<li><code class="filename">routine_details.html</code>:
Список всех хранимых подпрограмм для схемы.</li>

<li><code class="filename">table_details.html</code>:
Главные детали отчета.</li>
<li><code class="filename">table_details_list.html</code>:
Обзор схемы с деталями колонок, индексов и внешних ключей для каждой схемы.
</li>

<li><code class="filename">table_element_details.html</code>:
Детали для каждого элемента таблицы.</li>
<li><code class="filename">top.html</code>: Главный фрейм отчета.</li>
<li><code class="filename">view_details.html</code>:
Список всех колонок и индексов для схемы.</p></li></ul>

<p>Выбор опции <code class="literal">Text Basic</code> создает каталог,
содержащий один текстовый файл.</p>
<p>Можно щелкнуть <code class="filename">index.html</code>, чтобы
просматривать отчет. Следующие данные показывают пример вывода
<code class="literal">HTML Detailed Frames</code> для схемы
the <code class="literal">world</code>.</p>

<a name="wb-dbdoc-detailed-report-schema"></a>
<p><b>Рис. 9.15. DBDoc Model Report</b></p>
<img src="images/wb-dbdoc-detailed-report-schema.png" width="800"
height="718" alt="Model report showing schema overview, DDL script, tables,
columns, and so on."><br>
<p>Для получения дополнительной информации о создании шаблонов, посмотрите
<a href="#dbdoc-templates">раздел 9.7</a>.

<h3><a name="wb-validation-plugins"></a>9.2.3. Плагины проверки схемы</h3>
<p>MySQL Workbench обеспечивает модули проверки так, чтобы можно было
проверить модели прежде, чем осуществить их. Эта функциональность доступна
только в MySQL Workbench Commercial.</p>

<p>К плагинам проверки получают доступ из меню
<span class="guimenu">Model</span>. Один плагин выполняет общую проверку для
любой системы управления реляционными базами данных, другой определен для
MySQL. Ниже этих пунктов меню много определенных тестов на проверку.
Управление любым из этих тестов открывает окно вывода.
Предупреждающие сообщения показаны на левой стороне этого окна, выполненные
тесты показаны справа.</p>
<p>Следующие разделы обрисовывают в общих чертах задачи,
выполненные модулями проверки.

<h4><a name="wb-general-validation"></a>9.2.3.1. Общая проверка</h4>
<p>Следующий список называет общие типы проверки и дает
примеры определенных нарушений:

<ul><li><span class="bold"><strong>Empty Content Validation</strong></span>
</p>
<ul><li><p>Таблица без колонок.</li>
<li>Представление или подпрограмма без кода SQL.</li>
<li>Группа не содержит подпрограмм.</li>
<li>Таблица, представление или подпрограмма, на которую не ссылается по
крайней мере одна роль.</li>
<li>Пользователь без привилегий.</li>
<li>Объекты, такие как таблицы, которые не появляются по крайней мере на
одной диаграмме EER.</p></li></ul></li>

<li><p><span class="bold"><strong>Table Efficiency Validation</strong></span>
</p>
<ul><li><p>Таблица без первичного ключа.</li>
<li>Первичный ключ, который не использует основанный на целом
числе тип данных.</li>
<li>Внешний ключ, который обращается к колонке с иным типом данных.
</p></li></ul></li>

<li><p><span class="bold"><strong>Duplicated Identifiers Validation
</strong></span></p>
<ul><li><p>Двойные имена объектов.</li>
<li>Двойная роль или имена пользователей.</li>
<li>Двойной индекс или имя подпрограммы.</p></li></ul></li>

<li><p><span class="bold"><strong>Consistency Validation</strong></span></p>
<ul><li><p>Использование той же самой колонки с колонками
отличающихся типов данных.</p></li></ul></li>

<li><p><span class="bold"><strong>Logic Validation</strong></span></p>
<ul><li><p>Внешний ключ, который обращается к колонке кроме первичного
ключа в исходной таблице.</li>

<li>Любой объект, который является объектом, только для чтения или
только для записи по ролевому определению.</li>
<li>Объекты местозаполнителя перенесены от инженерного анализа.
</p></li></ul></li></ul>

<h4><a name="wb-mysql-validation"></a>9.2.3.2.
MySQL-определенная проверка</h4>
<p>Следующий список называет MySQL-определенные типы проверки и дает
примеры определенных нарушений:

<ul><li><span class="bold"><strong>Integrity Violation</strong></span></p>
<ul><li><p>Имя объекта больше, чем максимум разрешено.</li>
<li>Внешний ключ определен для механизма хранения, который не поддерживает
внешние ключи (еще не осуществлено).</li>

<li>Представление или подпрограмма, ссылается на несуществующую таблицу.</li>
<li>Значение по умолчанию, которое не соответствует типу данных колонки.</li>
<li>Недействительная схема выделения разделов.</p></li></ul></li>

<li><p><span class="bold"><strong>Syntax Violation</strong></span></p>
<ul><li><p>Хранимая подпрограмма, триггер или представление с
неправильным синтаксисом SQL.</li>
<li>Зарезервированное слово используется в качестве идентификатора.</li>
<li>Использование недопустимого символа.</p></li></ul></li></ul>

<h2><a name="wb-tutorials"></a>9.3. Моделирование</h2>
<p>Эта глава содержит три коротких обучающих программы, предназначенные,
чтобы ознакомить вас с основами MySQL Workbench.
Эти обучающие программы показывают, как MySQL Workbench
может использоваться и проектировать и документировать базы данных.</p>

<p>Создание базы данных с нуля является центром
<a href="#wb-default-schema">раздела 9.3.4</a>,
исследование возможностей графического дизайна MySQL Workbench затронуто в
<a href="#wb-basic-modeling">разделе 9.3.2</a>. Обе этих обучающих
программы показывают возможности проектирования баз данных MySQL Workbench.
</p>

<p>Импортирование скрипта определения данных SQL является, вероятно, самым
быстрым способом ознакомить себя с MySQL Workbench,
эта обучающая программа использует базу данных
<code class="literal">sakila</code> и подчеркивает использование
MySQL Workbench как инструмент документации. Примеры, взятые из базы данных
<code class="literal">sakila</code>, используется всюду по документации,
таким образом, этот процесс установки рекомендуется.

<h3><a name="wb-getting-started-tutorial-creating-a-model"></a>
9.3.1. Создание модели</h3>
<p>Эта обучающая программа описывает, как создать новую модель базы данных и
как перенести модель к живому серверу MySQL.</p>

<p>Альтернативно, можно создать модель из базы данных при помощи мастера
инженерного анализа. Для получения дополнительной информации посмотрите
<a href="#wb-reverse-engineer-live">раздел 9.4.2.2</a>.</p>

<ol><li><p>Запустите MySQL Workbench. На домашнем экране щелкните по
представлению моделей из боковой панели и нажмите
(<span class="guiicon">+</span>) рядом с
<span class="guilabel">Models</span>. Альтернативно, можно нажать
<span class="guimenu">File</span>, затем <span class="guimenuitem">New
Model</span> из меню.</p>

<a name="wb-getting-started-tutorial-model-home-screen"></a>
<p><b>Рис. 9.16. Домашний экран</b></p>
<img src="images/wb-getting-started-tutorial-model-myfirstconnection-home.png"
width="756" height="463" alt="Content is described in the surrounding text.">

<p>Модель может содержать многочисленные схемы. Обратите внимание на то, что,
когда вы создаете новую модель, она содержит схему по умолчанию
<code class="literal">mydb</code>. Можно поменять имя этой схемы по умолчанию
по мере необходимости или ее удалить.</li>

<li>Нажмите <span class="guibutton">+</span> на правой стороне панели
инструментов <span class="guilabel">Physical Schemas</span>, чтобы добавить
новую схему. Название схемы по умолчанию
<code class="literal">new_schema1</code>, которое можно теперь изменить,
например, на <strong class="userinput"><code>dvd_collection</code></strong>,
изменяя его поле <span class="guilabel">Name</span>.
Подтвердите это изменение в панели
<span class="guilabel">Physical Schemas</span>.
Теперь вы готовы добавить таблицу.</p>

<a name="wb-getting-started-tutorial-new-schema"></a>
<p><b>Рис. 9.17. Новая схема</b></p>
<img src="images/wb-getting-started-tutorial-new-schema.png" width="800"
height="647" alt="Content is described in the surrounding text."><br></li>

<li><p>Дважды щелкните <span class="guilabel">Add Table</span> в секции
<span class="guilabel">Physical Schemas</span>.</li>
<li>Это автоматически загружает редактор таблиц с именем таблицы по умолчанию
<code class="literal">table1</code>. Отредактируйте поле
<span class="guilabel">Table Name</span>, чтобы изменить имя таблицы с
<code class="literal">table1</code> на
<strong class="userinput"><code>movies</code></strong>.</li>

<li>Затем добавьте столбцы к своей таблице. Дважды щелкните по ячейке
<span class="guilabel">Column Name</span>, первое поле будет
<code class="literal">moviesid</code>, так как по умолчанию MySQL Workbench
добавляет <code class="literal">id</code> к имени таблицы для начального
поля. Смените <code class="literal">moviesid</code> на
<strong class="userinput"><code>movie_id</code></strong>, сохраните
<span class="guilabel">Datatype</span> как <code class="literal">INT</code> и
выберите опции <span class="guilabel">PK</span> (PRIMARY KEY),
<span class="guilabel">NN</span> (NOT NULL) и
<span class="guilabel">AI</span> (AUTO_INCREMENT).</li>

<li>Добавьте две дополнительных колонки, описанные в следующей таблице.
Данные, которые появляются после таблицы, показывают все три колонки в
таблице <code class="literal">movies</code>.</p>

<table border="1">
<thead><tr><th scope="col">Имя столбца</th><th scope="col">Тип данных</th>
<th scope="col">Свойства столбца</th></tr></thead>
<tbody><tr><td scope="row">movie_title</td><td>VARCHAR(45)</td>
<td>NN</td></tr>
<tr><td scope="row">release_date</td><td>DATE (YYYY-MM-DD)</td>
<td>None</td></tr></tbody></table>

<a name="wb-getting-started-tutorial-columns"></a>
<p><b>Рис. 9.18. Редактирование столбцов таблицы</b></p>
<img src="images/wb-getting-started-tutorial-columns.png" width="800"
height="560" alt="Content is described in the surrounding text."><br></li>

<li><p>Для визуального представления (диаграмма EER) этой схемы выберите
<span class="guimenu">Model</span> и <span class="guimenuitem">Create Diagram
from Catalog Objects</span>, чтобы создать диаграмму EER для модели.
Следующие данные показывают новую вкладку
<span class="guilabel">EER Diagram</span>, которая показывает представление
диаграммы таблицы фильмов и столбцы.</p>

<a name="wb-getting-started-tutorial-eer-diagram"></a>
<p><b>Рис. 9.19. Диаграмма EER</b></p>
<img src="images/wb-getting-started-tutorial-eer-diagram.png" width="800"
height="556" alt="Content is described in the surrounding text."><br></li>

<li><p>В редакторе таблиц поменяйте имя столбца
<code class="literal">movie_title</code> на
<strong class="userinput"><code>title</code></strong>.
Обратите внимание на то, что диаграмма EER автоматически обновляется, чтобы
отразить это изменение.</p>

<p>Чтобы открыть редактор таблиц, перейдите назад на вкладку
<span class="guilabel">MySQL Model</span> и щелкните правой кнопкой мыши на
таблице <code class="literal">movies</code> или щелкните правой кнопкой мыши
на <code class="literal">movies</code> в диаграмме EER и выберите
<span class="guimenuitem">Edit 'movies'</span>.</li>

<li>Сохраните модель, выбрав <span class="guimenu">File</span> и
<span class="guimenuitem">Save Model</span> из меню или нажмите
<span class="guibutton">Save Model to Current File</span>
на панели инструментов. В данном случае введите
<strong class="userinput"><code>Home_Media</code></strong> и нажмите
<span class="guibutton">Save</span>.</p></li></ol>

<p>Прежде, чем синхронизировать вашу новую модель с живым сервером MySQL,
подтвердите, что вы уже создали подключение MySQL.
Эта обучающая программа предполагает, что вы уже создали связь.
В противном случае посмотрите
<a href="connect.htm#wb-getting-started-tutorial-create-connection">раздел
5.2</a>, чтобы создать подключение MySQL под названием
<span class="guilabel">MyFirstConnection</span>,
хотя альтернативная связь может также работать.</p>

<p>Теперь перенесите вашу модель к живому серверу MySQL следующим образом:
</p>
<ol><li><p>Выберите <span class="guimenu">Database</span>,
<span class="guimenuitem">Forward Engineer</span> из меню, чтобы открыть
мастера Forward Engineer to Database.</li>

<li>Шаг Connection Options выбирает подключение MySQL
и произвольно устанавливает дополнительные опции для выбранного подключения.
Внесите любые необходимые изменения связи и затем нажмите
<span class="guibutton">Next</span>.</p>

<p>Вы можете выбрать иное подключение MySQL здесь, но эта обучающая программа
использует <span class="guilabel">MyFirstConnection</span>.</li>
<li>Шаг Options перечисляет дополнительные расширенные настройки (как
показано ниже). Для этой обучающей программы можно проигнорировать эти
варианты и просто нажать <span class="guilabel">Next</span>.</p>

<a name="wb-getting-started-tutorial-model-options"></a>
<p><b>Рис. 9.20. Шаг Options</b></p>
<img src="images/wb-getting-started-tutorial-model-options.png" width="800"
height="600" alt="Content is described in the surrounding text."><br></li>

<li><p>Выберите объект, который надо экспортировать в живой сервер MySQL.
В этом случае есть только одна таблица
(<code class="literal">dvd_collection.movie</code>). Отметьте опцию
<code class="literal">Export MySQL Table Objects</code> и нажмите
<span class="guibutton">Next</span>.</p>

<a name="wb-getting-started-tutorial-model-select-options"></a>
<p><b>Рис. 9.21. Избранные объекты</b></p>
<img src="images/wb-getting-started-tutorial-model-select-objects.png"
width="800" height="600" alt="Content is described in the surrounding text.">
<br></li>

<li><p>Шаг Review SQL Script показывает скрипт SQL, который будет выполнен на
живом сервере, чтобы создать вашу схему. Рассмотрите скрипт, чтобы
удостовериться, что вы понимаете операции, которые будут выполнены.</p>

<p>Нажмите <span class="guibutton">Next</span>, чтобы выполнить процесс.</p>
<a name="wb-getting-started-tutorial-review-sql-script"></a>
<p><b>Рис. 9.22. Review SQL Script</b></p>
<img src="images/wb-getting-started-tutorial-review-sql-script.png"
width="800" height="600" alt="Content is described in the surrounding text.">
<br></li>

<li><p>Шаг Commit Progress подтверждает, что каждая задача была выполнена.
Нажмите <span class="guibutton">Show Logs</span>, чтобы смотреть журналы.
Если никакие ошибки не присутствуют, нажмите
<span class="guibutton">Close</span> и закройте мастер.</li>

<li>Новая база данных <code class="literal">dvd_collection</code>
теперь присутствует на сервере MySQL. Подтвердите это, открыв подключение
MySQL и просмотрев список схем или выполнив
<code class="literal">SHOW DATABASES</code> из MySQL Command Line
Client (<span class="command"><strong>mysql</strong></span>).</li>

<li>Нажмите <span class="guilabel">Save Model to Current File</span>
на панели инструментов меню, чтобы сохранить модель.</p></li></ol>
<p>Для получения дополнительной информации о моделировании данных см.
<a href="data.htm">главу 9</a>.

<h3><a name="wb-basic-modeling"></a>9.3.2. Основное моделирование</h3>
<p>На экране <code class="literal">MySQL Model</code>
дважды щелкните <span class="guilabel">Add Diagram</span>.
Это действие создает и открывает новый лист
<code class="literal">EER Diagram</code>.</p>

<a name="wb-add-eer-diagram"></a><p><b>Рис. 9.23. Добавление диаграммы EER
</b></p><img src="images/3.png" width="162" height="157"
alt="Content is described in the surrounding text."><br>
<p>Со страницы диаграммы EER можно графически проектировать базу данных.

<h4><a name="wb-basic-add-table"></a>9.3.2.1. Добавление таблицы</h4>
<p>Инструменты на вертикальной панели инструментов слева от вкладки
<span class="guilabel">EER Diagram</span> используются для проектирования
диаграммы EER. Начните составлять таблицу, используя инструмент таблицы.
Инструмент таблицы это прямоугольная сетка посреди
вертикальной панели инструментов.</p>

<p>Нажатие на этот инструмент изменяет указатель мыши на руку с прямоугольной
сеткой. Составьте таблицу на листе, щелкнув где угодно по сетке
anywhere on the <code class="literal">EER Diagram</code>.</p>

<p>Щелкните правой кнопкой мыши по таблице и выберите
<span class="guimenuitem">Edit in New Window</span> из
всплывающего меню. Это открывает редактор таблиц.</p>

<p>По умолчанию имя таблицы <code class="literal">table1</code>. Смените его,
введя <code class="literal">invoice</code> в поле
<span class="guilabel">Name:</span>. Изменения здесь затрагивают название
вкладки в редакторе таблиц и название таблицы на листе.</p>

<p>Нажим <span class="keycap"><strong>Tab</strong></span> или
<span class="keycap"><strong>Enter</strong></span> в то время, как курсор
находится в области имени таблицы, выбирает вкладку
<span class="guilabel">Columns</span> редактора таблиц и создает колонку,
названную по умолчанию <code class="literal">idinvoice</code>.</p>

<p>Нажим <span class="keycap"><strong>Tab</strong></span> или
<span class="keycap"><strong>Enter</strong></span> снова устанавливает
фокус на список <code class="literal">Datatype</code> с выбранным
<code class="literal">INT</code>.
Заметьте, что область была добавлена к таблице на листе EER.</p>

<p>Нажим <span class="keycap"><strong>Tab</strong></span>
снова переводит к добавлению второй колонки. Добавьте так столбцы
<code class="literal">Description</code> и
a <code class="literal">Customer_id</code>.
По окончании закрываете редактор таблиц, нажимая
<span class="guibutton">x</span> в левом верхнем углу редактора таблиц.

<h4><a name="wb-basic-foreign-key"></a>9.3.2.2. Создание внешнего ключа</h4>
<p>Выберите инструмент таблицы снова и поместите другую таблицу на лист.
Назовите ее <code class="literal">invoice_item</code>. Далее нажмите на
<code class="literal">1:n Non-Identifying Relationship</code>.</p>

<p>Сначала щелкните таблицу <code class="literal">invoice_item</code>,
заметьте, что красная граница указывает, что эта таблица выбрана.
Затем щелкните таблицу <code class="literal">invoice</code>.
Это создает внешний ключ в <code class="literal">invoice_item</code>,
таблице на стороне <span class="quote"><span class="quote">many</span></span>
отношений. Отношения между этими двумя таблицами показывают графически в
нотации crow's foot.</p>

<p>Вернитесь к указателю мыши по умолчанию, щелкнув по стрелке наверху
вертикальной панели инструментов. Нажмите таблицу
<code class="literal">invoice_item</code> и выберите вкладку
<span class="guilabel">Foreign keys</span>.</p>

<p>Нажмите на поле <span class="guilabel">Foreign key Name</span>.
Таблица, на которую ссылаются, должна показаться в столбце
<span class="guilabel">Referenced Table</span> и соответствующей колонке в
<span class="guilabel">Referenced Column</span>.</p>

<p>Чтобы удалить отношения между двумя таблицами, щелкните по линии,
присоединяющейся к таблицам, и затем нажмите
<span class="keycap"><strong>Control+Delete</strong></span>.</p>

<p>Сохранит е свои изменения в файле <code class="literal">MySQL Workbench
Models</code> (расширение <code class="filename">mwb</code>) выбором
<span class="guimenuitem">Save</span> из меню <span class="guimenu">File
</span> или нажатием клавиш
<span class="keycap"><strong>Control+S</strong></span>.

<h3><a name="wb-importing-sql-script"></a>9.3.3.
Импортирование определения данных скриптом SQL</h3>
<p>Для этой обучающей программы используйте скрипт базы данных
<code class="literal">sakila</code>, который можно найти, посетив страницу
<a href="../../../https@dev.mysql.com/doc/default.htm" target="_top">
https://dev.mysql.com/doc/</a>, выбрав вкладку
<code class="literal">Other Docs</code> и найдя секцию
<code class="literal">Example Databases</code>.</p>

<p>После загрузки файла, распакуйте его. Откройте MySQL Workbench, выберите
представление модели на домашнем экране щелкните
(<span class="guiicon">&gt;</span>), следующий за
<span class="guilabel">Models</span>, и <span class="guimenuitem">Reverse
Engineer MySQL Create Script</span>. Найдите и импортируйте файл
<code class="filename">sakila-schema.sql</code>.
Это скрипт, который содержит запросы определения данных для базы данных
<code class="literal">sakila</code>. Фильтр файла диалогового окна по
умолчанию <code class="literal">*.sql</code> таким образом, необходимо быть в
состоянии рассмотреть только файлы с расширением
<code class="literal">sql</code>.</p>

<p>Если файл был успешно импортирован, в статусной строке приложения будет
<code class="literal">Import MySQL Create Script done</code>.
Чтобы рассмотреть недавно импортированный скрипт, расширьте секцию
<span class="guilabel">Physical Schemas</span> дважды щелкнув по стрелке
слева от <span class="guilabel">Physical Schemas</span>.
Выберите вкладку <span class="guilabel">sakila</span>.</p>

<p>Можно также удалить вкладку схемы по умолчанию
<code class="literal">mydb</code>. Выберите ее, затем щелкните
<span class="guibutton">-</span> в верхнем правом углу схемы
<span class="guilabel">Physical Schemas</span>.</p>

<p>Чтобы просмотреть все объекты в <code class="literal">sakila</code>,
вы, возможно, должны расширить панель
<span class="guilabel">Physical Schemas</span>.
Переместите указатель мыши куда угодно через серую область, которая
определяет нижний край панели <span class="guilabel">Physical Schemas</span>.
Удержите правую кнопку мыши и переместите мышь, чтобы
приспособить размер окна.</p>

<p>После того, как вы расширили окно, все объекты в
<code class="literal">sakila</code> должны быть видимы. Таблицы показаны
наверху. В этой схеме нет никаких подпрограмм, но можно увидеть часть
<span class="guilabel">Routine Groups</span> и значок
<code class="literal">Add Group</code>.</p>
<p>Для полного описания импортирования скрипта MySQL см.
<a href="#wb-reverse-engineer-create-script">раздел 9.4.2.1</a>.

<h4><a name="wb-creating-eer-diagram"></a>9.3.3.1. Добавление диаграммы EER
</h4>
<p>Чтобы создать диаграмму EER для базы данных
<code class="literal">sakila</code>, сначала добавьте диаграмму EER, дважды
щелкнув <code class="literal">Add Diagram</code> в панели
<span class="guilabel">EER Diagrams</span>, чтобы создать и открыть
редактор <code class="literal">EER Diagram</code>.</p>

<p>Лист <code class="literal">EER Diagram</code> это то место, где объектное
моделирование происходит. Чтобы добавить таблица к листу, выберите вкладку
<span class="guilabel">Catalog</span> в средней панели на правой стороне
приложения, чтобы показать любые схемы, которые появляются во вкладке
<span class="guilabel">MySQL Model</span>. Найдите схему
<code class="literal">sakila</code> и расширьте представление объектов,
щелкая <span class="guibutton">+</span> слева от названия схемы.
Расширьте список таблиц таким же образом.</p>

<p>Можно добавить таблицы к листу EER, таща их от панели
<span class="guilabel">Catalog</span> на лист. Перетащите таблицы
<code class="literal">address</code> и <code class="literal">city</code> на
лист примерно так:</p>

<a name="wb-sakila-tutorial-image"></a>
<p><b>Рис. 9.24. Добавление таблиц к листу</b></p>
<img src="images/wb-sakila-tutorial.png" width="388" height="280"
alt="Content is described in the surrounding text."><br>

<p>MySQL Workbench автоматически обнаруживает, что
<code class="literal">address.city_id</code>
был определен как внешний ключ, ссылающийся на поле
<code class="literal">city.city_id</code>. Перетащите таблицу
<code class="literal">country</code> на лист и немедленно можно увидеть
отношения между таблицами <code class="literal">country</code> и
<code class="literal">city</code>. Чтобы смотреть все отношения в
базе данных <code class="literal">sakila</code> см.
<a href="#wb-sakila-eer-image">рис. 9.29</a>.</p>

<p>Нажмите на вкладку <span class="guilabel">Properties</span>
в нижнем левом углу и затем щелкните по одной из таблиц на листе.
Это действие показывает свойства таблицы в оуне
<code class="literal">Properties</code>. В то время как таблица выбрана,
можно использовать окно <code class="literal">Properties</code>,
чтобы изменить свойства таблицы. Например, ввод
<code class="literal">#FF0000</code> как значение цвета изменит цветной
акцент на красный.</p>

<a name="wb-sakila-tutorial-properties"></a>
<p><b>Рис. 9.25. Просмотр Properties</b></p>
<img src="images/wb-sakila-tutorial-properties.png" width="268" height="364"
alt="Content is described in the surrounding text."><br>

<p>Изменение цвета таблицы является хорошим способом определить таблицу в
панели <code class="literal">Model Navigator</code>.
Эта группа дает вид с высоты птичьего полета на весь лист EER.</p>

<p>Сохраните свои изменения в файл
<code class="literal">MySQL Workbench Models</code>
(расширение <code class="filename">mwb</code>) выбрав
<span class="guimenuitem">Save</span> из меню
<span class="guimenu">File</span> или при помощи клавиш
<span class="keycap"><strong>Control</strong></span> +
<span class="keycap"><strong>S</strong></span>.

<h3><a name="wb-default-schema"></a>9.3.4. Используя схему по умолчанию</h3>
<p>Когда вы сначала открываете MySQL Workbench, схема по умолчанию
<code class="literal">mydb</code> появляется как левая вкладка в секции
<span class="guilabel">Physical Schemas</span> MySQL Workbench.
Можно начать проектировать базу данных при помощи этой схемы по умолчанию.</p>

<a name="wb-default-schema-image"></a>
<p><b>Рис. 9.26. Схема по умолчанию</b></p>
<img src="images/wb-default-schema.png" width="750" height="507"
alt="Content is described in the surrounding text."><br>
<p>Чтобы изменить название схемы по умолчанию, дважды щелкните по вкладке
схемы. Это открывает редактор схемы.</p>

<p>Чтобы переименовать схему, используйте поле
<span class="guilabel">Name</span>. После того, как вы переименовали схему,
значок молнии кажется выровненным по правому краю поля
<span class="guilabel">Name</span>, указывая, что другие изменения находятся
на рассмотрении. Щелкните по полю <span class="guilabel">Comments</span>,
и диалоговое окно открывает запрос, хотите ли вы переименовать все копии
схемы. Нажим <span class="guibutton">Yes</span>
гарантирует, что ваши изменения размножены всюду по приложению.
Добавьте комментарии к базе данных и измените сопоставление, если желаете.
Закройте редактор схемы, нажав <span class="guibutton">x</span>.

<h4><a name="wb-create-new-table"></a>9.3.4.1. Составление новой таблицы</h4>
<p>Составьте новую таблицу двойным щелчком по <span class="guilabel">Add
Table</span> на панели <span class="guilabel">Physical Schemas</span>.</p>

<a name="wb-model-tutorial-new-table"></a>
<p><b>Рис. 9.27. Model: составление новой таблицы</b></p>
<img src="images/wb-model-tutorial-new-table.png" width="800" height="544"
alt="Content is described in the surrounding text."><br>

<p>Первоначально, имя таблицы 'table1' в редакторе таблиц.</p>
<a name="wb-model-tutorial-edit-table-values"></a>
<p><b>Рис. 9.28. Model: редактирование табличных значений</b></p>
<img src="images/wb-model-tutorial-new-table-properties.png" width="800"
height="616" alt="Content is described in the surrounding text.
Available actions include: double-click the schema to edit, add an additional
schema, toggle collation/engine editor, add table columns, and select
additional tabs."><br>

<p>В предыдущем примере колонки были добавлены, используя вкладку
<span class="guilabel">Columns</span>. Нажатие на пустую строку добавит новую
колонку, и нажатие на существующий столбец начинает режим редактирования.
Нажмите клавишу <span class="keycap"><strong>Tab</strong></span>, чтобы
двинуться в следующую колонку и установить тип данных.</p>

<p>Изменение таблицы, добавляя индексы или другие особенности является также
возможным с использованием редактора таблиц, щелкая по каждой
вкладке в редакторе таблиц.

<h4><a name="wb-create-schema-objects"></a>9.3.4.2.
Создание других объектов схемы</h4>
<p>Дополнительные объекты, такие как представления или хранимые подпрограммы,
могут быть добавлены таким же образом как таблицы.</p>

<p>Объекты перечисляются под палитрой <span class="guilabel">Catalog</span>
справа. Чтобы рассмотреть эти объекты схемы, выберите вкладку
<span class="guilabel">Catalog</span> в средней палитре справа.
Рассмотрите все объекты, щелкнув <span class="guibutton">+</span>
слева от названия схемы.</p>

<h3><a name="wb-documenting-sakila"></a>9.3.5.
Документирование базы данных sakila</h3>
<p>Эта глава демонстрирует возможности MySQL Workbench как инструмента
документации при помощи базы данных <code class="literal">sakila</code>,
которая является образцом базы данных, обеспеченным MySQL. Можно найти этот
образец базы данных и другие, посетив страницу
<a href="../../../https@dev.mysql.com/doc/default.htm" target="_top">
https://dev.mysql.com/doc/</a>, выбрав из меню
<span class="guimenu">More</span> и найдя раздел
<code class="literal">Example Databases</code>.</p>

<p>Диаграмма EER предоставляет быстрый обзор и понимание базы данных.
Вместо того, чтобы читать запрос определения таблицы, быстрый взгляд на
диаграмму EER указывает, как связаны таблицы.</p>
<p>Можно также видеть, как связаны таблицы, внешние ключи и
какова природа отношений.</p>

<h4><a name="wb-sakila-eer-png"></a>Файл PNG базы данных sakila</h4>
<p>Следующий рисунок показывает вывод, который был создан, используя меню
<span class="guimenu">File</span>, <span class="guisubmenu">Export</span>,
<span class="guimenuitem">Export as PNG</span>.</p>

<a name="wb-sakila-eer-image"></a>
<p><b>Рис. 9.29. База данных sakila, диаграмма EER</b></p>
<img src="images/wb-sakila-eer.png" width="800" height="774"
alt="Content is described in the surrounding text."><br>

<p>Стиль объектной нотации, используемый на
<a href="#wb-sakila-eer-image">рис. 9.29</a> это
<code class="literal">Workbench (PKs only)</code>.
Этот стиль показывает только первичные ключи и никакие другие столбцы, что
особенно полезно, когда место ограничено. Нотация отношений Crow's Foot.</p>

<p>Как показывают линии связи, каждая таблица связана по крайней
мере с еще одной таблицей в базе данных (за исключением
<code class="literal">film_text</code>). У некоторых таблиц есть два внешних
ключа, которые касаются той же самой таблицы. Например, у таблицы
<code class="literal">film</code> есть два внешних ключа, которые касаются
таблицы <code class="literal">language</code>, а именно
<code class="literal">fk_film_language_original</code> и
<code class="literal">fk_film_language</code>.
Где существует больше, чем одно отношение между двумя таблицами, линии
связи, идут вместе.</p>

<p>Идентификация и неидентификация отношений обозначаются сплошными и
прерывистыми линиями соответственно. Например, внешний ключ
<code class="literal">category_id</code> это часть первичного ключа в
<code class="literal">film_category</code>, так что его отношения к таблице
<code class="literal">category</code> показаны сплошной линией.
С другой стороны, в таблице <code class="literal">city</code> внешний ключ
<code class="literal">country_id</code> не часть первичного ключа, таким
образом, связь использует прерывистую линию.

<h2><a name="wb-design-engineering"></a>9.4. Инженерный анализ</h2>
<p>MySQL Workbench предоставляет возможности физическиго проектирования баз
данных. Визуальная модель данных может быть преобразована в физическую базу
данных по целевому MySQL Server, выполнив мастера прямой разработки.
Весь код SQL автоматически произведен, чтобы помочь устранить нормальный
подверженный ошибкам процесс ручного написания сложного кода SQL.
MySQL Workbench также позволяет вам перепроектировать существующую базу
данных и получить лучшее понимание проектирования. Кроме того, чтобы
выполнить инженерный анализ существующих баз данных, это может также
импортировать скрипты SQL, чтобы построить модели и экспортировать
модели в скрипты DDL.

<h3><a name="wb-forward-engineering"></a>9.4.1. Прямая разработка</h3>
<p>Возможно создать базу данных, используя скрипт SQL или соединяясь с
живой базой данных.

<h4><a name="wb-forward-engineering-sql-scripts"></a>
9.4.1.1. Прямая разработка, используя скрипт SQL</h4>
<p>Прямая разработка позволяет вам создать скрипт своей модели базы данных.
Можно экспортировать скрипт, чтобы изменить существующую базу данных или
создать новую, или скрипт, чтобы создать базу данных подобную созданной,
используя команду <span class="command"><strong>mysqldump
<em class="replaceable"><code>db_name</code></em></strong></span>.</p>
<p>Решение создать базу данных приводит к дополнительным опциям.

<h5><a name="wb-export-script-create-sql"></a>9.4.1.1.1.
Создание схемы</h5>
<p>На вкладке <span class="guilabel">MySQL Model
(<em class="replaceable"><code>model-name</code></em>.mwb)</span> нажмите
click <span class="guimenu">File</span>,
<span class="guimenuitem">Export</span>,
<span class="guimenuitem">Forward Engineer SQL CREATE Script</span> для
запуска мастера Forward Engineer SQL Script.
Следующие данные показывают первую страницу мастера.</p>

<a name="wb-forward-engineer-sql-script-wizard-export-options"></a>
<p><b>Рис. 9.30. Опции SQL Export</b></p>
<img src="images/wb-forward-engineering-sql-script-wizard-export-options.png"
width="713" height="539" alt="Content is described in the surrounding text.">

<p>Диалог SQL Export Options показывает следующие средства:
<ul><li><span class="guilabel">Output SQL Script File:</span></p>
<p>Чтобы определить имя выходного файла, введите его в поле
<span class="guilabel">Output SQL Script File</span> или используйте кнопку
<span class="guibutton">Browse</span>, чтобы выбрать файл. Оставьте это поле
пустым, чтобы смотреть, но не сохранять вывод.</li>

<li><span class="guilabel">Generate DROP Statements Before
Each CREATE Statement</span></p>
<p>Выберите эту опцию, что создать запрос, чтобы удалить
каждый объект перед запросом, который создает его. Это гарантирует, что любой
существующий экземпляр каждого объекта удален, когда вывод выполняется.</li>

<li><span class="guilabel">Generate DROP SCHEMA</span></li>
<li><span class="guilabel">Sort Tables Alphabetically</span></p>
<p>Когда эти опции выключены, таблицы отсортированы согласно
ссылкам внешнего ключа.</li>

<li><span class="guilabel">Skip creation of FOREIGN KEYS</span></li>
<li><span class="guilabel">Skip creation of FK Indexes as well</span></li>
<li><span class="guilabel">Omit Schema Qualifier in Object Names</span></p>
<p>Выберите эту опцию, чтобы произвести неквалифицированные имена
объектов в SQL-операторах.</li>

<li><span class="guilabel">Generate USE statements</span></li>
<li><span class="guilabel">Generate Separate CREATE INDEX Statements</span>
</p>
<p>Выберите эту опцию, чтобы создать отдельные запросы для создания индекса
вместо включения определений индекса в
<code class="literal">CREATE TABLE</code>.</li>

<li><span class="guilabel">Add SHOW WARNINGS after every DDL statement</span>
</p>
<p>Выберите эту опцию, чтобы добавить
<code class="literal">SHOW WARNINGS</code> к выводу.
Это вызывает показ любых предупреждений, произведенных, когда вывод
выполняется, что может быть полезно для отладки.</li>

<li><span class="guilabel">Do Not Create Users. Only Export Privileges</span>
</p>
<p>Выберите эту опцию, чтобы обновить привилегии существующих пользователей,
в противоположность созданию новых пользователей. Экспорт привилегий для
несуществующих пользователей приведет к ошибкам, когда вы выполните
скрипт <code class="literal">CREATE</code>. Экспорт пользователей, которые
уже существуют, также приведет к ошибке.</li>

<li><span class="guilabel">Don't create view placeholder tables</span></li>
<li><span class="guilabel">Generate INSERT Statements for Tables</span></p>
<p>Выберите эту опцию, если вы добавили какие-либо строки к таблице.
Для получения дополнительной информации о вставке строк, посмотрите
<a href="dev.htm#wb-sql-editor-query-panel">раздел 8.1.1</a>.</li>

<li><span class="guilabel">Disable FK checks for inserts</span></li>
<li><span class="guilabel">Create triggers after inserts</span>
</p></li></ul>
<p>Нажим <span class="guibutton">Next</span> откроет страницу
<span class="guilabel">SQL Object Export Filter</span>,
которая позволяет вам выбрать объекты для экспорта.</p>

<a name="wb-forward-engineer-sql-script-wizard-filter"></a>
<p><b>Рис. 9.31. SQL Object Export Filter</b></p>
<img src="images/wb-forward-engineer-sql-script-wizard-filter.png"
width="800" height="600" alt="Export filters for MySQL objects of the
following types: Table, View, Routine, Trigger, and User."><br>

<p>Используйте <span class="guibutton">Show Filter</span>, чтобы точно
настроить (фильтровать) объекты для экспорта. После отбора объектов,
нажмите <span class="guibutton">Hide Filter</span>, чтобы
скрыть панель фильтра.</p>

<p>После отбора объектов экспорта нажмите
<span class="guibutton">Next</span>, чтобы просмотреть произведенный скрипт.
Следующие данные показывают скрипт в качестве примера.</p>

<a name="wb-forward-engineer-sql-script-wizard-review-script"></a>
<p><b>Рис. 9.32. Произведенный скрипт</b></p>
<img src="images/wb-forward-engineer-sql-script-wizard-review-script.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>Можно возвратиться к предыдущей странице, используя кнопку
<span class="guibutton">Back</span>.</p>
<p>Кнопка <span class="guibutton">Finish</span>
сохранит файл скрипта и выйдет. Можно использовать сохраненный скрипт, чтобы
создать базу данных.

<h5><a name="wb-export-script-alter-schema"></a>9.4.1.1.2.
Изменение схемы</h5>
<p>Пункты меню для создания <span class="guilabel">ALTER Script
File</span>: <span class="guimenu">Database</span>,
<span class="guimenuitem">Synchronize With Any Source</span>.
Как правило, этот выбор используется, когда скрипт SQL был импортирован в
MySQL Workbench и изменен, а затем вы хотите создать скрипт, который может
быть выполнен для базы данных, чтобы отразить приспособленную модель.
Для получения инструкций относительно импортирования скрипта DDL посмотрите
<a href="#wb-reverse-engineer-create-script">раздел 9.4.2.1</a>.</p>

<p>Выебрите из меню <span class="guimenu">Database</span>,
<span class="guisubmenu">Synchronize With Any Source</span>, чтобы начать
мастера. Вам покажут первую страницу, показывая введение и затем доступные
параметры для указания источника и мест назначения обновлений.</p>

<a name="wb-forward-engineer-sql-alter-script-wizard-options"></a>
<p><b>Рис. 9.33. Synchronize With Any Source: Options</b></p>
<img src="images/wb-synchronize-any-source-select-sources.png" width="618"
height="515" alt="Content is described in the surrounding text."><br>
<p>Для получения дополнительной информации посмотрите
<a href="#wb-database-synchronization">раздел 9.5.1</a>.

<h4><a name="wb-forward-engineering-live-server"></a>9.4.1.2.
Прямая разработка к живому серверу</h4>
<p>Используйте прямую разработку, чтобы экспортировать ваш дизайн
схемы в сервер MySQL.</p>

<p>Выберите модель, которую вы хотите отправить на сервер, выберите
<span class="guimenu">Database</span>, <span class="guimenuitem">Forward
Engineer</span> из главного меню.</p>

<p>Первый шаг процесса должен соединиться с сервером MySQL, чтобы создать
новую схему базы данных. Как следующие данные показывают, эта страница
позволяет вам использовать ранее сохраненную связь или
войти в параметры связи.</p>

<a name="wb-forward-engineer-to-database-wizard-connect"></a>
<p><b>Рис. 9.34. Установленные параметры для соединения</b></p>
<img src="images/wb-forward-engineering-to-database-wizard-connect.png"
width="800" height="336" alt="Content is described in the surrounding text.">

<p>Нажмите <span class="guibutton">Next</span>
после установки параметров связи. Следующая страница мастера показывает
Catalog Validation. Проверка доступна только в Commercial Edition.</p>

<a name="wb-forward-engineer-to-database-wizard-catalog"></a>
<p><b>Рис. 9.35. Catalog Validation</b></p>
<img src="images/wb-forward-engineer-to-database-wizard-catalog.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>Нажмите <span class="guibutton">Run Validations</span>,
чтобы утвердить каталог.</p>
<p>Нажмите <span class="guibutton">Next</span> для продолжения.</p>

<p>Следующая страница позволяет вам установить опции для создания базы
данных. Эти варианты описаны в
<a href="#wb-export-script-create-sql">разделе 9.4.1.1.1</a>.</p>

<a name="wb-forward-engineer-to-database-wizard-options"></a>
<p><b>Рис. 9.36. Опции создания</b></p>
<img src="images/wb-forward-engineering-to-database-wizard-options.png"
width="655" height="704" alt="Content is described in the surrounding text.">

<p>Выберите необходимые опции и нажмите <span class="guibutton">Next</span>.
</p>
<p>Страница Select Objects позволяет вам выбрать объекты для работы: таблицы,
представления, подпрограммы, триггеры и пользовательские объекты.</p>

<a name="wb-forward-engineer-to-database-wizard-select-objects"></a>
<p><b>Рис. 9.37. Select Objects</b></p>
<img src="images/wb-forward-engineering-to-database-wizard-select-objects.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>Чтобы выбрать подмножество объектов, используйте кнопку
<span class="guibutton">Show Filter</span>/<span class="guibutton">Hide
Filter</span>, затем выберите конкретные объекты. После того, как вы выберете
свои объекты, нажмите <span class="guibutton">Next</span>.</p>

<p>На странице <span class="guilabel">Review Script</span>
можно просмотреть и отредактировать скрипт SQL, который будет выполнен.</p>
<a name="wb-forward-engineer-to-database-wizard-review-script"></a>
<p><b>Рис. 9.38. Review Script</b></p>
<img src="images/wb-forward-engineering-to-database-wizard-review-script.png"
width="720" height="592" alt="Content is described in the surrounding text.">

<p>Нажмите <span class="guibutton">Next</span>, чтобы продолжить,
если вы удовлетворены произведенным скриптом.</p>
<p>Следующая страница мастера показывает результаты
процесса прямой разработки.</p>

<a name="wb-forward-engineer-to-database-wizard-progress"></a>
<p><b>Рис. 9.39. Forward Engineering Progress</b></p>
<img src="images/wb-forward-engineering-to-database-wizard-progress.png"
width="800" height="326" alt="Content is described in the surrounding text.">
<p>Можно подтвердить, что скрипт создал схему, соединившись с целевым
сервером MySQL и скомандовав <code class="literal">SHOW DATABASES</code>.

<h3><a name="wb-reverse-engineering"></a>9.4.2. Инженерный анализ</h3>
<p>С MySQL Workbench можно перепроектировать базу данных, используя создающий
скрипт или соединиться с живым сервером MySQL и импортировать единую базу
данных или много баз данных.

<h4><a name="wb-reverse-engineer-create-script"></a>
9.4.2.1. Инженерный анализ, используя создающий скрипт</h4>
<p>Чтобы перепроектировать базу данных, используя создающий скрипт, сделайте
одно из следующего:

<ul><li>На домашнем экране выберите просмотр модели из боковой панели,
щелкните (<span class="guiicon">&gt;</span>) следующий за
<span class="guilabel">Models</span>, и выберите
<span class="guimenuitem">Reverse Engineer MySQL Create Script</span>.</li>

<li>С выбранной моделью и ее вкладкой выберите из меню
<span class="guimenu">File</span>, <span class="guisubmenu">Import</span>,
<span class="guimenuitem">Reverse Engineer MySQL Create Script</span>.
</p></li></ul>

<p>Объекты могут быть импортированы из файла скрипта SQL.
Импортированием объектов скрипта SQL можно управлять в MySQL Workbench.</p>
<a name="wb-reverse-engineer-create-script-input"></a>
<p><b>Рис. 9.40. Ввод скрипта SQL</b></p>
<img src="images/wb-reverse-engineering-create-script-input.png" width="680"
height="600" alt="Content is described in the surrounding text."><br>

<ul><li><p><span class="guilabel">Select SQL script file</span>:
Откройте файл с типом файла по умолчанию файл скрипта SQL, расширение
<code class="literal">sql</code>.</li>

<li><span class="guilabel">File encoding</span>: По умолчанию UTF8.</li>
<li><span class="guilabel">Place imported objects on a diagram</span>:
Также создайте диаграмму EER в MySQL Workbench.</p>

<p>Импортируя большое количество (более 1000) объектов, можно не создать
диаграмму EER, а вместо этого получить предупреждение с текстом
"Too many objects are selected for auto placement.
Select fewer elements to create the EER diagram." В этом случае выполните
мастера инженерного анализа с отключением этой опции, вручную создайте
диаграмму EER, и затем импортируйте объекты, используя просмотр
каталога диаграммы EER.</p></li></ul>

<p>Если ваш скрипт создает базу данных, MySQL Workbench создает новую
область <span class="guilabel">Physical Schemas</span>
в открытой вкладке <span class="guilabel">MySQL Model</span>.</p>

<p>Нажмите <span class="guibutton">Execute</span>, чтобы перепроектировать
скрипт SQL, проверить его результаты и произвольно поместить объекты в
новую диаграмму EER.</p>

<a name="wb-reverse-engineer-create-script-progress"></a>
<p><b>Рис. 9.41. Скрипт SQL: выполнение</b></p>
<img src="images/wb-reverse-engineering-create-script-progress.png"
width="680" height="344" alt="Content is described in the surrounding text.">

<p>Нажмите <span class="guibutton">Next</span>, чтобы рассмотреть резюме
результатов, затем <span class="guibutton">Finish</span>.</p>
<a name="wb-reverse-engineer-create-script-results"></a>
<p><b>Рис. 9.42. Результаты скрипта</b></p>
<img src="images/wb-reverse-engineering-create-script-results.png"
width="680" height="274" alt="Content is described in the surrounding text.">

<p>-Прежде, чем выйти из MySQL Workbench, сохраните схему. Нажмите
<span class="guimenu">File</span> и <span class="guimenuitem">Save</span>
из меню, чтобы сохранить перепроектированную базу данных как файл
MySQL Workbench с расширением <code class="literal">mwb</code>.</p>

<p>Для обучающей программы по инженерному анализу базы данных
<code class="literal">sakila</code> см.
<a href="#wb-importing-sql-script">раздел 9.3.3</a>.

<h5><a name="idm140523190116256"></a>Создание скрипта DDL</h5>
<p>Можно создать скрипт определения данных (DDL), выполнив
<strong class="userinput"><code>mysqldump <em class="replaceable"><code>
db_name</code></em> <code class="option">--no-data</code> &gt;
<em class="replaceable"><code>script_file.sql</code></em></code></strong>.
Использование опции <code class="option">--no-data</code> гарантирует, что
скрипт содержит только запросы DDL. Однако, если вы работаете со скриптом,
который также содержит запросы DML, вы не должны удалять их,
они будут проигнорированы.</p>

<p>Если вы планируете перепроектировать базу данных в MySQL Workbench
и затем экспортировать изменения, несомненно, сохраните копию оригинального
скрипта DDL. Вам будет нужен оригинальный скрипт, чтобы создать скрипт
<code class="literal">ALTER</code>, см.
<a href="#wb-export-script-alter-schema">раздел 9.4.1.1.2</a>.</p>

<p>Используйте <code class="option">--databases</code> с
<span class="command"><strong>mysqldump</strong></span>,
если вы хотите создать базу данных, а также все ее объекты. Если нет
<code class="literal">CREATE DATABASE <em class="replaceable"><code>
db_name</code></em></code> в вашем файле скрипта, необходимо импортировать
объекты базы данных в существующую схему или, если нет никакой схемы, новая
неназванная схема создается.

<h4><a name="wb-reverse-engineer-live"></a>9.4.2.2.
Инженерный анализ живой базы данных</h4>
<p>Чтобы перепроектировать живую базу данных, нажмите
<span class="guimenu">Database</span> и <span class="guimenuitem">Reverse
Engineer</span> из меню.</p>

<a name="wb-reverse-engineer-database-wizard"></a>
<p><b>Рис. 9.43. Мастер Reverse Engineer Database</b></p>
<img src="images/wb-reverse-engineer-database-wizard.png" width="800"
height="600" alt="Content is described in the surrounding text."><br>

<p>Первый шаг мастера позволяет вам настроить связь с живой базой данных,
которую вы намереваетесь перепроектировать. Можно настроить новую связь или
выбрать ранее созданную сохраненную связь. Типичная информация, запрошенная
для связи, включает имя хоста, имя пользователя и пароль.</p>

<p>После того, как эта информация была введена, или вы выбрали сохраненную
связь, нажмите кнопку <span class="guibutton">Next</span>, чтобы
перейти к следующему шагу.</p>

<a name="wb-reverse-engineer-database-wizard-connect-dbms"></a>
<p><b>Рис. 9.44. Подключение к DBMS</b></p>
<img src="images/wb-reverse-engineer-database-wizard-connect-dbms.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>Рассмотрите показанную информацию, чтобы удостовериться, что связь не
произвела ошибки, затем нажмите <span class="guibutton">Next</span>.</p>
<p>Следующий шаг показывает схемы, доступные на сервере. Выберите каждую
схему, которую вы намереваетесь обработать.</p>

<a name="wb-reverse-engineer-database-wizard-select-schemata"></a>
<p><b>Рис. 9.45. Выбор схемы</b></p>
<img src="images/wb-reverse-engineer-database-wizard-select-schemata.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>После того, как вы выберете желаемые схемы, нажмите кнопку
<span class="guibutton">Next</span>.</p>
<p>Мастер показывает задачи, которые он выполнил
и суммирует результаты операции.</p>

<a name="wb-reverse-engineer-database-wizard-fetch-object-info"></a>
<p><b>Рис. 9.46. Полученные объекты</b></p>
<img src="images/wb-reverse-engineer-database-wizard-fetch-object-info.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>Просмотрите результаты прежде, чем нажать
<span class="guibutton">Next</span>.</p>
<p>Следующий шаг открывает страницу Select Objects to Reverse Engineer.
У нее есть секция для каждого типа объекта, существующего в схеме, которую
можно импортировать. Все типы объектов выбраны по умолчанию.
Опция <span class="guilabel">Place imported objects on a diagram</span>
также выбрана по умолчанию.</p>

<p>Этот шаг особенно интересен, если вы не намереваетесь импортировать все
объекты из существующей базы данных. Это дает вам выбор фильтрации, какие
объекты импортируются. У каждой секции есть кнопка
<span class="guibutton">Show Filter</span>. Нажмите эту кнопку, если вы не
хотите импортировать все объекты определенного типа.
Следующие данные показывают пример секции объекта
таблицы с открытым фильтром.</p>

<a name="wb-reverse-engineer-database-wizard-select-objects"></a>
<p><b>Рис. 9.47. Избранные объекты</b></p>
<img src="images/wb-reverse-engineer-database-wizard-select-objects.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>Опции позволяют вам выбрать определенные таблицы для импорта.
Выбрав желаемые таблицы, можно скрыть фильтр при нажатии
<span class="guibutton">Hide Filter</span>.</p>

<p>Другие секции, такие как <span class="guilabel">MySQL Routine
Objects</span>, имеют подобные фильтры в наличии.</p>
<p>Нажмите <span class="guibutton">Execute</span>.</p>

<p>Мастер импортирует объекты, показывая задачи, которые были выполнены и
была ли операция успешна. Если были ошибки, можно нажать
<span class="guibutton">Show Logs</span>, чтобы видеть природу ошибок.</p>

<a name="wb-reverse-engineer-database-wizard-progress"></a>
<p><b>Рис. 9.48. Прогресс Reverse Engineer</b></p>
<img src="images/wb-reverse-engineer-database-wizard-progress.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>Заключительный шаг мастера предоставляет
резюме перепроектированных объектов.</p>
<a name="wb-reverse-engineer-database-wizard-results"></a>
<p><b>Рис. 9.49. Итоговые результаты</b></p>
<img src="images/wb-reverse-engineer-database-wizard-results.png" width="800"
height="600" alt="Content is described in the surrounding text."><br>
<p>Нажмите <span class="guibutton">Finish</span>.</p>

<p>Прежде, чем закрыть MySQL Workbench, сохраните схему. Нажмите из меню
<span class="guimenu">File</span> и <span class="guimenuitem">Save</span>,
чтобы сохранить перепроектированную базу данных как файл
MySQL Workbench с расширением <code class="literal">mwb</code>.

<h5><a name="wb-errors-reverse-engineering"></a>9.4.2.2.1.
Ошибки во время инженерного анализа</h5>
<p>Во время инженерного анализа приложение проверяет таблицы и
представления на двойные существующие имена и отвергают двойные названия при
необходимости. При попытке импортировать объект, который дублирует название
существующего объекта, вы будете уведомлены с сообщением об ошибке.
Чтобы видеть любые ошибки, которые произошли во время инженерного анализа,
нажмите <span class="guibutton">Show Logs</span>.
Это действие создаст панель, содержащую список сообщений, включая любые
сообщения об ошибках. Нажмите <span class="guibutton">Hide Logs</span>,
чтобы закрыть панель.</p>

<p>Если вы планируете импортировать объект с тем же самым именем как
существующий объект, переименуйте существующий объект
перед инженерным анализом.</p>

<p>Если вы импортируете объекты больше чем из одной схемы, будет вкладка в
области <code class="literal">Physical Schemas</code> страницы
<code class="literal">MySQL Model</code> для каждой схемы.</p>

<p>Вы не можете перепроектировать живую базу данных, у которой есть то же
самое имя, как у существующей схемы. Чтобы снова использовать название схемы,
необходимо сначала переименовать существующую схему.

<h2><a name="wb-design-schema"></a>9.5. Синхронизация схемы и сравнение</h2>
<p>Управление изменениями базы данных это сложный процесс, который включает
поддержку различных версий схем базы данных и ручные изменения существующих
баз данных. Чтобы помочь с этой задачей администрирования, MySQL Workbench
включает синхронизацию схемы и утилиты сравнения. Можно сравнить две живых
базы данных, две модели или модели с живыми базами данных, чтобы визуально
видеть различия и произвольно выполнить синхронизацию.

<h3><a name="wb-database-synchronization"></a>9.5.1.
Синхронизация базы данных</h3>
<p>Синхронизируйте данные между моделями, базами данных и файлами SQL.
Эти три типа могут быть целью (место назначения), источник или обоими.
Можно также выбрать или отсеять отдельные объекты и изменить их направление
во время синхронизации. Например, можно синхронизировать таблицы от модели до
базы данных, другие таблицы от базы данных до модели
и пропустить несколько таблиц во время того же самого процесса синхронизации.
</p>

<p>Знайте, что обратные несовместимые изменения синтаксиса MySQL вводятся со
временем, поэтому важно поставить свойство модели
<span class="guilabel">Default Target MySQL Version</span>
согласно вашим потребностям. Например, экспорт результатов из MySQL 5.7
мог бы привести к недопустимому синтаксису, когда выполнен для MySQL 5.6. См.
<a href="conf.htm#wb-preferences-modeling">раздел 3.2.4</a>.</p>

<p>Выберите <span class="guimenuitem">Synchronize With Any Source</span> из
меню <span class="guimenu">Database</span>. Альтернативно выберите
<span class="guilabel">Synchronize Model</span>, чтобы открыть того же самого
мастера для модели. Модель или диаграмма EER должны быть выбраны для
этих вариантов синхронизации</p>

<a name="wb-database-synchronize-wizard-start"></a>
<p><b>Рис. 9.50. Запуск мастера синхронизации</b></p>
<img src="images/wb-database-synchronize-wizard-start.png" width="800"
height="625" alt="Content is described in the surrounding text."><br>

<p>Поскольку базы данных MySQL соответствуют каталогам в рамках каталога
данных, необходимо рассмотреть чувствительность к регистру для имен базы
данных, таблицы и триггеров, которые следуют правилам чувствительности к
регистру основной файловой системы для операционной системы. Синхронизация
моделей с объектами, которые отличаются регистром, может привести к
MySQL Workbench, производящему команду <code class="literal">DROP</code>
для того объекта, прежде, чем воссоздать его в другом регистре.
Для получения дополнительной информации посмотрите
<a href="../../../dev.mysql.com/doc/refman/8.0/en/identifier-case-sensitivity.html"
target="_top">Identifier Case Sensitivity</a></p>

<p>Обходные приемы включают использование последовательного соглашения, где
большая часть портативного кода использует имена базы данных и таблиц в
нижнем регистре. Можно также удалить из произведенного запроса строку
<code class="literal">DROP SCHEMA IF EXISTS</code>.</p>

<p>MySQL Workbench позволяет контроль над объектами синхронизации и
направлением синхронизации для каждого объекта. Варианты включают:
<ul><li>Определите все или определенные таблицы и объекты.</li>
<li>Синхронизируйте модель и живую базу данных или только обновите
одно или другое.</li>

<li>Произвольно обновление от или до файла скрипта SQL.</li>
<li>Вместо того, чтобы выполнить синхронизацию, можно произвести
<span class="guilabel">ALTER Script File</span>, чтобы позже
выполнить соответствующие обновления.</li>

<li>Точно настройте, как синхронизация будет выполнена, выбирая направление
каждого отдельного объекта или формируя конкретные объекты,
которые будут проигнорированы.</p></li></ul>

<p>Есть два подобных мастера синхронизации базы данных, доступные из меню
<span class="guimenu">Database</span>. Более простой
<span class="guilabel">Synchronize Model</span> и более гибкий
<span class="guilabel">Synchronize with Any Source</span>.
Описания, которые следуют, относятся к обоим, если не указано иное.

<h4><a name="wb-database-synchronization-model"></a>
Синхронизируйте модель (с базой данных)</h4>
<p>Чтобы запустить мастер, откройте модель и выберите
<span class="guimenu">Database</span>, <span class="guimenuitem">Synchronize
Model</span> из главного меню. Следуйте за последовательностью шагов, пока вы
не достигнете <span class="guilabel">Select Changes to Apply</span>.</p>

<a name="wb-database-synchronize-wizard-diff"></a>
<p><b>Рис. 9.51. Модель и различия в базе данных</b></p>
<img src="images/wb-database-synchronize-wizard-diff.png" width="800"
height="600" alt="Content is described in the surrounding text."><br>

<p>В предыдущем примере живая база данных и модель имеют таблицы
<code class="literal">movies</code> <code class="literal">shows</code>.
В MySQL Workbench дополнительная таблица
<code class="literal">educational</code> была создана в модели, но она
испытывает недостаток в эквиваленте в живой базе данных. Далее
<code class="literal">friends</code> существует в живой базе данных, но это
не находится в модели. По умолчанию действия синхронизируют базу данных с
моделью, таким образом, в этом примере таблица
<code class="literal">educational</code> будет добавлена к источнику, и
<code class="literal">friends</code> будет удалена из источника.</p>

<p>Как описано в GUI, дважды щелкая по стрелкам, можно переключаться между
действиями <span class="guibutton">Update Model</span>,
<span class="guibutton">Ignore</span> и <span class="guibutton">Update
Source</span>. Можно также выбрать строку и щелкнуть по одной из этих трех
кнопок действий. Также обратите внимание на то, что нажатие на строку
покажет связанный SQL-оператор.</p>

<a name="wb-database-synchronize-wizard-diff-direction"></a>
<p><b>Рис. 9.52. Управление направлением синхронизации</b></p>
<img src="images/wb-database-synchronize-wizard-diff-direction.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>В этом случае направление синхронизации было изменено так, чтобы вместо
действия по умолчанию <code class="literal">friends</code> будучи исключенным
из живой базы данных, будет включено в модель MySQL Workbench.
Как прежде, <code class="literal">educational</code>
будет добавлена к живой базе данных (источнику).</p>

<p>Эти три действия доступны:
<ul><li><span class="guibutton">Update Model</span>:
Заставляет выбранные изменения быть примененными к модели от
живой базы данных.</li>

<li><span class="guibutton">Ignore</span>: Заставляет изменения быть
проигнорированными. Никакая синхронизация не произойдет для тех изменений.
Это определяется с двойной стрелкой, которая перечеркнута.</li>

<li><span class="guibutton">Update Source</span>:
Заставляет изменения быть примененными только к живой базе данных.
</p></li></ul>

<p>Нажим <span class="guibutton">Table Mapping</span>
предлагает дополнительные варианты отображения.</p>
<a name="wb-database-synchronize-wizard-table-mapping"></a>
<p><b>Рис. 9.53. Отображение таблицы</b></p>
<img src="images/wb-database-synchronize-wizard-table-mapping.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>Нажатие <span class="guibutton">Next</span> показывает SQL-оператор, чтобы
выполнить синхронизацию формируемой модели и живой базы данных.</p>
<a name="wb-database-synchronize-wizard-preview"></a>
<p><b>Рис. 9.54. Предварительный просмотр SQL-оператора синхронизации</b></p>
<img src="images/wb-database-synchronize-wizard-preview.png" width="800"
height="600" alt="Content is described in the surrounding text."><br>

<p>Можно теперь сохранить SQL-оператор в файл или клипборд или его выполнить.
Если вы принимаете решение выполнить изменение в MySQL Workbench,
то вы произвольно можете пропустить "DB changes"
так, чтобы только ваша модель была изменена.

<h4><a name="wb-database-synchronization-any-source"></a>
Синхронизация с любым источником</h4>
<p>Чтобы запустить мастер, откройте модель и выберите
<span class="guimenu">Database</span> и
<span class="guimenuitem">Synchronize With Any Source</span>
из главного меню. Шаги подобны мастеру
<a href="#wb-database-synchronization-model">Synchronize Model</a>,
но с дополнительными опциями создать файлы скрипта SQL, использовать файлы
скрипта SQL или обоими.</p>

<a name="wb-database-synchronization-any-source-select-sources"></a>
<p><b>Рис. 9.55. Synchronize With Any Source: выбор источника</b></p>
<img src="images/wb-synchronize-any-source-select-sources.png" width="618"
height="515" alt="Content is described in the surrounding text."><br>

<p>Заметьте, как источник и типы назначения могут быть изменены.
Шаги зависят от типов источника и назначения,
<span class="guilabel">Synchronize Model</span>
описывает основную функциональность этого мастера.

<h3><a name="wb-database-diff-report"></a>
9.5.2. Сравните и сообщите о различиях в каталогах</h3>
<p>Это средство позволяет вам создать отчет, детализирующий различия между
вашей моделью MySQL Workbench, и живой базой данных или скриптом. Выберите
<span class="guimenu">Database</span>,
<span class="guimenuitem">Compare Schemas</span> из главного меню, чтобы
запустить мастер <span class="guilabel">Compare and Report
Differences in Catalogs</span>.</p>

<p>Первый шаг в мастере позволяет вам определить, которые каталоги сравнить.
Например, вы можете сравнить вашу живую базу данных с вашей текущей
моделью MySQL Workbench.</p>

<a name="wb-database-diff-report-wizard-sources"></a>
<p><b>Рис. 9.56. Исходный выбор каталога</b></p><img src="images/10.png"
width="800" height="600" alt="Content is described in the surrounding text.">

<p>Вы продолжаете двигаться по шагам мастера, предоставляя информацию о
связи, получая доступ к живой базе данных. Мастер представляет отчет,
показывая различия между сравненными каталогами.</p>

<a name="wb-database-diff-report-wizard-report"></a>
<p><b>Рис. 9.57. Отчет о различиях в каталогах</b></p>
<img src="images/9.png" width="800" height="600"
alt="Content is described in the surrounding text.">

<h2><a name="wb-design-table-templates"></a>9.6. Шаблоны таблицы</h2>
<p>Определите шаблоны таблицы с обычно используемыми колонками и параметрами
настройки, чтобы составить новые таблицы от живой связи или
создавая модель EER.</p>

<p>Из редактора SQL выберите <span class="guimenu">Create Table Like</span>
из контекстного меню <span class="guilabel">Tables</span>.</p>
<a name="wb-design-table-templates-sql-editor-new"></a>
<p><b>Рис. 9.58. Новый шаблон таблицы: редактор SQL</b></p>
<img src="images/wb-table-template-sql-editor-new.png" width="799"
height="516" alt="Content is described in the surrounding text."><br>

<p>Или моделируя, нажмите "Open the table template editor" в
<span class="guilabel">Modeling Additions</span>.</p>
<a name="wb-design-table-templates-modeling-new"></a>
<p><b>Рис. 9.59. Новый шаблон таблицы: моделирование</b></p>
<img src="images/wb-table-template-modeling-new.png" width="800" height="490"
alt="Content is described in the surrounding text."><br>

<p>После открытия менеджера <span class="guilabel">Table Templates</span>
внесите корректировки и затем нажмите <span class="guibutton">Apply</span>,
чтобы передать изменения. Следующие данные показывают пример колонки, типа
данных и значений по умолчанию, что можно приспособить
для пользовательского шаблона.</p>

<a name="wb-design-table-templates-manager-users"></a>
<p><b>Рис. 9.60. Table Templates Manager</b></p>
<img src="images/wb-table-template-manager-users.png" width="800"
height="500" alt="Content is described in the surrounding text."><br>

<p>Чтобы открыть существующий шаблон из редактора SQL, из контекстного меню
<span class="guimenu">Create Table Like</span> надо выбрать желаемый шаблон
таблицы. Для моделирования дважды щелкните по шаблону в правой
боковой панели моделирования.

<h2><a name="dbdoc-templates"></a>9.7.
Настройка шаблонов сообщений DBDoc Model</h2>
<p>Эта секция предоставляет обзор создания и изменения шаблонов DBDoc
Model Reporting, как используется MySQL Workbench.</p>

<p>Система MySQL Workbench DBDoc Model Reporting основана на
Google Template System. Это обсуждение не пытается объяснить подробно
Google Template System. Для полезного обзора того, как Google Template System
работает, см. документ Google,
<a href="../../../goog-ctemplate.sourceforge.net/doc/howto.html" target="_top">
How To Use the Google Template System</a>.</p>

<p>Шаблоны, используемые DBDoc Model Reporting, являются текстовыми файлами,
которые содержат <span class="firstterm">маркеры</span>.
Эти текстовые файлы обрабатываются системой шаблона, встроенной в
MySQL Workbench, и маркеры заменены фактическими данными.
Выходные файлы тогда произведены. Именно эти выходные файлы, как правило HTML
или текст, рассматриваются пользователем.</p>

<p>Маркеры могут быть любым из следующих типов:
<ul><li>Шаблон включает</li>
<li>Комментарий</li>
<li>Установить разделитель</li>
<li>Pragma</li>
<li>Переменная</li>
<li>Начало секции и конец секции</p></li></ul>
<p>Последние два обычно используются в шаблонах MySQL Workbench,
эти важные маркеры кратко описаны в следующих разделах.</p>

<ul><li><p><span class="bold"><strong>Переменные</strong></span></p>
<p>Переменные, обозначенные маркерами в файле шаблона, заменяются их
соответствующими данными в произведенном выходном файле.
Отображение между переменными и их соответствующими данными сохранено
MySQL Workbench в <span class="emphasis"><em>словаре данных</em></span>.
В словаре данных имя переменной это
<span class="emphasis"><em>ключ</em></span>, соответствующие данные
переменной это <span class="emphasis"><em>значение</em></span>.
MySQL Workbench создает словари данных и заполняет их данными,
содержавшимися в обработанной модели.</p>

<p>Как пример, следующий фрагмент кода показывает часть файла шаблона:
<pre>
Total number of Schemas: {{SCHEMA_COUNT}}
</pre>

<p>В произведенном выходном файле переменная
<code class="literal">{{SCHEMA_COUNT}}</code>
заменяется количеством схем в модели:
<pre>
Total number of Schemas: 2
</pre>
<p>Переменная может появиться многократно в файле шаблона.</li>

<li><span class="bold"><strong>Секции</strong></span></p>
<p>Секции используются, чтобы выполнить повторение в шаблонах. Когда
MySQL Workbench меняет переменные в секции на данные, это делается
многократно, используя все данные в словаре данных, в котором определяется
переменная. MySQL Workbench создает словари данных согласно модели, в
настоящее время обрабатываемой.</p>

<p>Рассмотрите следующий фрагмент кода:
<pre>
{{#SCHEMATA}}
Schema: {{SCHEMA_NAME}}
{{/SCHEMATA}}
</pre>

<p>В предыдущем отрывке начало секции и конец обозначаются маркерами
<code class="literal">{{#SCHEMATA}}</code> и
<code class="literal">{{/SCHEMATA}}</code>. Когда MySQL Workbench
обрабатывает шаблон, оно отмечает секцию и повторяет это пока данные для
переменной <code class="literal">{{SCHEMA_NAME}}</code>
в соответствующем словаре данных не будут исчерпаны. Например, если
обрабатываемая модель содержит две схемы, вывод для секции мог
бы напоминать следующее:
<pre>
Schema: Airlines
Schema: Airports
</pre></li></ul>

<p><span class="bold"><strong>Словари данных</strong></span></p>
<p>Важно понять отношения между секциями и словарями данных более подробно.
В словаре данных <span class="emphasis"><em>ключ</em></span>
для переменной это имя переменной, маркер.
<span class="emphasis"><em>Значение</em></span> переменной это
данные переменной. Запись для секции в словаре данных отличается.
Для записи секции в словаре данных ключ это имя секции, маркер.
Однако, значение, связанное с ключом, является списком словарей данных.
В MySQL Workbench каждая секция обычно связывается со словарем данных.
Можно думать о секции как об <span class="emphasis"><em>активации</em></span>
ее связанного словаря (или словарей).</p>

<p>Когда шаблон обрабатывается, словари данных загружаются в иерархическом
образце, формируя дерево словарей данных.
Это иллюстрировано следующей таблицей.</p>

<a name="dbdoc-templates-dictionary-tree"></a>
<p><b>Таблица 9.1. Дерево словарей данных</b></p>
<table border="1">
<thead><tr><th scope="col">Словарь данных</th>
<th scope="col">Загружаемые словари данных</th></tr></thead>
<tbody><tr><td scope="row">MAIN</td><td>SCHEMATA</td></tr>
<tr><td scope="row">SCHEMATA</td>
<td>TABLES, COLUMNS (Детализация: true), FOREIGN_KEYS (Детализация: true),
INDICES (Детализация: true)</td></tr>
<tr><td scope="row">TABLES</td>
<td>REL_LISTING, INDICES_LISTING, COLUMNS_LISTING,
TABLE_COMMENT_LISTING, DDL_LISTING</td></tr>
<tr><td scope="row">COLUMNS_LISTING</td>
<td>COLUMNS (Детализация: false)</td></tr>
<tr><td scope="row">REL_LISTING</td><td>REL (Детализация: false)</td></tr>
<tr><td scope="row">INDICES_LISTING</td>
<td>INDICES (Детализация: false)</td></tr></tbody></table>
<br class="table-break">

<p>Корень дерева это <span class="emphasis"><em>главный</em></span>
словарь. Дополнительные словари загружаются от корня, чтобы
сформировать дерево словарей.</p>

<p>Если у шаблона нет секций, любые переменные, используемые в шаблоне,
ищутся в главном словаре. Если переменная не найдена в главном словаре
(который может рассматриваться как связанный с главной секцией), никакие
данные не произведены в выходном файле для этого маркера.</p>

<p><span class="bold"><strong>Оценка переменных</strong></span></p>
<p>Древовидная структура словарей данных важна относительно оценки
переменной. Поскольку переменные определяются в словарях данных, у их
присваиваемых значений есть значение только когда тот конкретный словарь
данных активен, то есть когда секция, связанная с тем словарем данных,
активна. Когда поиск переменной происходит, система проверяет словарь данных,
связанный с текущей секцией. Если значение переменной может быть найдено там,
замена сделана. Однако, если значение переменной не найдено в текущем словаре
данных, родительский словарь данных проверяется на значение переменной и так
далее все дерево, пока главный словарь данных или корень не достигнут.</p>

<p>Предположим, что мы хотим показать названия всех колонок в модели.
Рассмотрите следующий шаблон как попытку достигнуть этого:
<pre>
Report
------
Column Name: {{COLUMN_NAME}}
</pre>

<p>Этот шаблон не производит вывода даже для модели, которая содержит одну
или более колонок. В этом примере единственный активный словарь данных
является главным словарем. Однако, <code class="literal">COLUMN_NAME</code>
сохранена в словаре данных <code class="literal">COLUMNS</code>, который
связан с секцией <code class="literal">COLUMNS</code>.</p>

<p>С этим знанием шаблон может быть улучшен следующим образом:
<pre>
Report
------
{{#COLUMNS}}
Column Name: {{COLUMN_NAME}}
{{/COLUMNS}}
</pre>

<p>Это все еще не производит вывод. Чтобы видеть почему, см.
<a href="#dbdoc-templates-dictionary-tree">раздел 9.1</a>.
У словаря данных <code class="literal">COLUMNS</code>
есть родительский словарь <code class="literal">COLUMNS_LISTING</code>.
<code class="literal">COLUMNS_LISTING</code> имеет родителя
<code class="literal">TABLES</code>, у которого есть родитель
<code class="literal">SCHEMATA</code>, чей родитель это главный словарь.
Помните, что для словаря, который будет вовлечен в поиск переменной, его
связанная секция должна в настоящее время быть активной.</p>

<p>Чтобы достигнуть желаемого вывода, шаблон должен быть чем-то вроде:
<pre>
Report
------
{{#SCHEMATA}}
{{#TABLES}}
{{#COLUMNS_LISTING}}
{{#COLUMNS}}
Column Name: {{COLUMN_NAME}}
{{/COLUMNS}}
{{/COLUMNS_LISTING}}
{{/TABLES}}
{{/SCHEMATA}}
</pre>

<p>Следующий шаблон это то же самое, но с
добавленными пояснительными текстами:
<pre>
Report
------
{{! Main dictionary active}}
{{#SCHEMATA}}{{! SCHEMATA dictionary active}}
{{#TABLES}}{{! TABLES dictionary active}}
{{#COLUMNS_LISTING}} {{! COLUMNS_LISTING dictionary active}}
{{#COLUMNS}}{{! COLUMNS dictionary active}}
Column Name: {{COLUMN_NAME}} {{! COLUMN_NAME variable is looked-up,
and found, in COLUMNS data dictionary}}
{{/COLUMNS}}
{{/COLUMNS_LISTING}}
{{/TABLES}}
{{/SCHEMATA}}
</pre>

<p>Вообразите теперь, когда для каждого имени столбца надо также показать его
соответствующее название схемы, шаблон будет похож на это:
<pre>
Report
------
{{#SCHEMATA}}
{{#TABLES}}
{{#COLUMNS_LISTING}}
{{#COLUMNS}}
Schema Name: {{SCHEMA_NAME}} Column Name: {{COLUMN_NAME}}
{{/COLUMNS}}
{{/COLUMNS_LISTING}}
{{/TABLES}}
{{/SCHEMATA}}
</pre>

<p>Когда поиск переменной выполняется для
<code class="literal">SCHEMA_NAME</code>,
проверяется словарь <code class="literal">COLUMNS</code>.
Поскольку переменная не найдена там, будет проверен родительский словарь
<code class="literal">COLUMNS_LISTING</code> и т.д.
пока переменная в конечном счете не найдена в словаре
<code class="literal">SCHEMATA</code>.</p>

<p>Если есть многочисленные схемы в модели, внешняя секция повторена
соответствующее число раз, и <code class="literal">SCHEMA_NAME</code>
соответственно имеет правильное значение на каждом повторении.</p>

<p>Важно всегда смотреть, какой словарь должен быть активным
(и который родитель) для переменной, которая будет оценена правильно.
У следующего раздела есть таблица, которая помогает вам
определить требования секции.</p>

<h3><a name="dbdoc-templates-markers"></a>9.7.1.
Поддержанные маркеры шаблона</h3>
<p>Следующая таблица показывает поддержанные маркеры. Эти маркеры могут
использоваться в любом шаблоне, включая заказные шаблоны.</p>

<p><span class="bold"><strong>Используя таблицу</strong></span></p>
<p>Показывает, какие переменные определяются в который секции.
Переменная должна использоваться в ее правильной секции, или ее значение
не будет показано. Если <code class="literal">type</code> это переменная,
таблица описывает свой словарь данных и родительский словарь, если
<code class="literal">type</code> это секция. Также помните, что словари
данных раньше используются при формировании иерархического дерева, таким
образом, возможно использовать переменную в группе детей, которая
определяется в родительской секции.</p>

<a name="idm140523189803552"></a><p><b>
Таблица 9.2. Поддержанные маркеры шаблона</b></p>
<table border="1">
<thead><tr><th scope="col">Текст маркера</th><th scope="col">Тип</th>
<th scope="col">Словарь данных или родительский словарь</th>
<th scope="col">Соответствующие данные</th></tr></thead>
<tbody><tr><td scope="row">TITLE</td><td>Переменная</td><td>MAIN</td>
<td>Название отчета</td></tr>
<tr><td scope="row">GENERATED</td><td>Переменная</td><td>MAIN</td>
<td>Дата и время, когда отчет был произведен</td></tr>
<tr><td scope="row">STYLE_NAME</td><td>Переменная</td><td>MAIN</td>
<td>Название стиля, выбранного в MySQL Workbench, как правило, используется,
чтобы загрузить соответствующий файл CSS, в зависимости от названия стиля,
выбранного в MySQL Workbench</td></tr>
<tr><td scope="row">SCHEMA_COUNT</td><td>Переменная</td><td>MAIN</td>
<td>Количество схем в модели</td></tr>
<tr><td scope="row">PROJECT_TITLE</td><td>Переменная</td><td>MAIN</td>
<td>Название проекта, как установлено для модели в
<span class="guimenuitem">Document Properties</span></td></tr>
<tr><td scope="row">PROJECT_NAME</td><td>Переменная</td><td>MAIN</td>
<td>Название проекта, как установлено для модели в
<span class="guimenuitem">Document Properties</span></td></tr>
<tr><td scope="row">PROJECT_AUTHOR</td><td>Переменная</td><td>MAIN</td>
<td>Автор проекта, как установлено для модели в
<span class="guimenuitem">Document Properties</span></td></tr>
<tr><td scope="row">PROJECT_VERSION</td><td>Переменная</td><td>MAIN</td>
<td>Версия проекта, как установлено для модели в
<span class="guimenuitem">Document Properties</span></td></tr>
<tr><td scope="row">PROJECT_DESCRIPTION</td><td>Переменная</td><td>MAIN</td>
<td>Описание проекта, как установлено для модели в
<span class="guimenuitem">Document Properties</span></td></tr>
<tr><td scope="row">PROJECT_CREATED</td><td>Переменная</td><td>MAIN</td>
<td>Автоматически установлено для проекта, но как показано в
<span class="guimenuitem">Document Properties</span></td></tr>
<tr><td scope="row">PROJECT_CHANGED</td><td>Переменная</td><td>MAIN</td>
<td>Автоматически установлено для проекта, но как показано в
<span class="guimenuitem">Document Properties</span></td></tr>
<tr><td scope="row">TOTAL_TABLE_COUNT</td><td>Переменная</td><td>MAIN</td>
<td>Количество таблиц во всех схемах в модели</td></tr>
<tr><td scope="row">TOTAL_COLUMN_COUNT</td><td>Переменная</td><td>MAIN</td>
<td>Количество колонок во всех таблицых во всех схемах в модели</td></tr>
<tr><td scope="row">TOTAL_INDEX_COUNT</td><td>Переменная</td><td>MAIN</td>
<td>Количество индексов в модели</td></tr>
<tr><td scope="row">TOTAL_FK_COUNT</td><td>Переменная</td><td>MAIN</td>
<td>Количество внешних ключей в модели</td></tr>
<tr><td scope="row">SCHEMATA</td><td>Секция</td><td>MAIN</td>
<td>Используется, чтобы отметить начало и конец секции SCHEMATA, словарь
данных SCHEMATA становится активным в этой секции</td></tr>
<tr><td scope="row">SCHEMA_NAME</td><td>Переменная</td><td>SCHEMATA</td>
<td>Название схемы</td></tr>
<tr><td scope="row">SCHEMA_ID</td><td>Переменная</td><td>SCHEMATA</td>
<td>ID схемы</td></tr>
<tr><td scope="row">TABLE_COUNT</td><td>Переменная</td><td>SCHEMATA</td>
<td>Количество таблиц в текущей схеме</td></tr>
<tr><td scope="row">COLUMN_COUNT</td><td>Переменная</td><td>SCHEMATA</td>
<td>Количество колонок в текущей схеме</td></tr>
<tr><td scope="row">INDICES_COUNT</td><td>Переменная</td><td>SCHEMATA</td>
<td>Количество индексов в текущей схеме</td></tr>
<tr><td scope="row">FOREIGN_KEYS_COUNT</td><td>Переменная</td>
<td>SCHEMATA</td><td>Количество внешних ключей в текущей схеме</td></tr>
<tr><td scope="row">TABLES</td><td>Секция</td><td>SCHEMATA</td>
<td>Отмечает начало и конец секции TABLES, словарь данных TABLES становится
активным в этой секции</td></tr>
<tr><td scope="row">TABLE_NAME</td><td>Переменная</td><td>TABLES</td>
<td>Имя таблицы</td></tr>
<tr><td scope="row">TABLE_ID</td><td>Переменная</td><td>TABLES</td>
<td>ID таблицы</td></tr>
<tr><td scope="row">COLUMNS_LISTING</td><td>Секция</td><td>TABLES</td>
<td>Отмечает начало и конец секции COLUMNS_LISTING, словарь данных
COLUMNS_LISTING становится активным в этой секции</td></tr>
<tr><td scope="row">COLUMNS</td><td>Секция</td><td>COLUMNS_LISTING</td>
<td>Отмечает начало и конец секции COLUMNS, словарь данных COLUMNS становится
активным в этой секции</td></tr>
<tr><td scope="row">COLUMN_KEY</td><td>Переменная</td><td>COLUMNS</td>
<td>Является ли колонка первичным ключом</td></tr>
<tr><td scope="row">COLUMN_NAME</td><td>Переменная</td><td>COLUMNS</td>
<td>Имя столбца</td></tr>
<tr><td scope="row">COLUMN_DATATYPE</td><td>Переменная</td><td>COLUMNS</td>
<td>Тип данных столбца</td></tr>
<tr><td scope="row">COLUMN_NOTNULL</td><td>Переменная</td><td>COLUMNS</td>
<td>Разрешает ли колонка значения <code class="literal">NULL</code></td></tr>
<tr><td scope="row">COLUMN_DEFAULTVALUE</td><td>Переменная</td>
<td>COLUMNS</td><td>Значение столбца по умолчанию</td></tr>
<tr><td scope="row">COLUMN_COMMENT</td><td>Переменная</td><td>COLUMNS</td>
<td>Комментарий столбца</td></tr>
<tr><td scope="row">COLUMN_ID</td><td>Переменная</td><td>COLUMNS</td>
<td>ID столбца</td></tr>
<tr><td scope="row">COLUMN_KEY_PART</td><td>Переменная</td>
<td>COLUMNS (если детализировано)</td><td>Тип ключа столбца</td></tr>
<tr><td scope="row">COLUMN_NULLABLE</td><td>Переменная</td>
<td>COLUMNS (если детализировано)</td><td>Может ли столбец содержать
значения <code class="literal">NULL</code></td></tr>
<tr><td scope="row">COLUMN_AUTO_INC</td><td>Переменная</td>
<td>COLUMNS (если детализировано)</td>
<td>Делается ли auto-increment в столбце</td></tr>
<tr><td scope="row">COLUMN_CHARSET</td><td>Переменная</td>
<td>COLUMNS (если детализировано)</td><td>Набор символов столбца</td></tr>
<tr><td scope="row">COLUMN_COLLATION</td><td>Переменная</td>
<td>COLUMNS (если детализировано)</td><td>Сопоставление столбца</td></tr>
<tr><td scope="row">COLUMN_IS_USERTYPE</td><td>Переменная</td>
<td>COLUMNS (если детализировано)</td>
<td>Является ли столбец пользовательским типом</td></tr>
<tr><td scope="row">INDICES_LISTING</td><td>Секция</td><td>TABLES</td>
<td>Отмечает начало и конец секции INDICES_LISTING, словарь данных
INDICES_LISTING становится активным в этой секции</td></tr>
<tr><td scope="row">INDICES</td><td>Секция</td><td>INDICES_LISTING</td>
<td>Отмечает начало и конец секции INDICES, словарь данных INDICES становится
активным в этой секции</td></tr>
<tr><td scope="row">INDEX_NAME</td><td>Переменная</td><td>INDICES</td>
<td>Имя индекса</td></tr>
<tr><td scope="row">INDEX_PRIMARY</td><td>Переменная</td><td>INDICES</td>
<td>Является ли это первичным ключом</td></tr>
<tr><td scope="row">INDEX_UNIQUE</td><td>Переменная</td><td>INDICES</td>
<td>Является ли это уникальным индексом</td></tr>
<tr><td scope="row">INDEX_TYPE</td><td>Переменная</td><td>INDICES</td>
<td>Тип индекса, например, PRIMARY</td></tr>
<tr><td scope="row">INDEX_KIND</td><td>Переменная</td><td>INDICES</td>
<td>Вид индекса</td></tr>
<tr><td scope="row">INDEX_COMMENT</td><td>Переменная</td><td>INDICES</td>
<td>Комментарий индекса</td></tr>
<tr><td scope="row">INDEX_ID</td><td>Переменная</td><td>INDICES</td>
<td>ID индекса</td></tr>
<tr><td scope="row">INDEX_COLUMNS</td><td>Секция</td><td>INDICES</td>
<td>Отмечает начало и конец секции INDEX_COLUMNS, словарь данных
INDEX_COLUMNS становится активным в этой секции</td></tr>
<tr><td scope="row">INDEX_COLUMN_NAME</td><td>Переменная</td>
<td>INDEX_COLUMNS</td><td>Имя столбца индекса</td></tr>
<tr><td scope="row">INDEX_COLUMN_ORDER</td><td>Переменная</td>
<td>INDEX_COLUMNS</td><td>Порядок столбца индекса,
например, ascending, descending</td></tr>
<tr><td scope="row">INDEX_COLUMN_COMMENT</td><td>Переменная</td>
<td>INDEX_COLUMNS</td><td>Комментарий индекса</td></tr>
<tr><td scope="row">INDEX_KEY_BLOCK_SIZE</td><td>Переменная</td>
<td>INDEX_COLUMNS (если детализировано)</td><td>
Ключевой размер блока индекса</td></tr>
<tr><td scope="row">REL_LISTING</td><td>Секция</td><td>TABLES</td>
<td>Отмечает начало и конец секции REL_LISTING, словарь данных REL_LISTING
становится активным в этой секции</td></tr>
<tr><td scope="row">REL</td><td>Секция</td><td>REL_LISTING</td>
<td>Отмечает начало и конец секции REL, словарь данных REL становится
активным в этой секции</td></tr>
<tr><td scope="row">REL_NAME</td><td>Переменная</td>
<td>REL, FOREIGN_KEYS</td><td>Имя отношений</td></tr>
<tr><td scope="row">REL_TYPE</td><td>Переменная</td>
<td>REL, FOREIGN_KEYS</td><td>Тип связей</td></tr>
<tr><td scope="row">REL_PARENTTABLE</td><td>Переменная</td>
<td>REL, FOREIGN_KEYS</td><td>Родительская таблица отношений</td></tr>
<tr><td scope="row">REL_CHILDTABLE</td><td>Переменная</td>
<td>REL, FOREIGN_KEYS</td><td>Дочерняя таблица отношений</td></tr>
<tr><td scope="row">REL_CARD</td><td>Переменная</td>
<td>REL, FOREIGN_KEYS</td><td>Количество элементов отношений</td></tr>
<tr><td scope="row">FOREIGN_KEY_ID</td><td>Переменная</td><td>REL</td>
<td>ID внешнего ключа</td></tr>
<tr><td scope="row">FOREIGN_KEYS</td><td>Секция</td><td>SCHEMATA</td>
<td>Отмечает начало и конец секции FOREIGN_KEYS, словарь данных FOREIGN_KEYS
становится активным в этой секции</td></tr>
<tr><td scope="row">FK_DELETE_RULE</td><td>Переменная</td>
<td>FOREIGN_KEYS</td><td>Правило удаления внешнего ключа</td></tr>
<tr><td scope="row">FK_UPDATE_RULE</td><td>Переменная</td>
<td>FOREIGN_KEYS</td><td>Правило обновления внешнего ключа</td></tr>
<tr><td scope="row">FK_MANDATORY</td><td>Переменная</td><td>FOREIGN_KEYS</td>
<td>Обязателен ли внешний ключ</td></tr>
<tr><td scope="row">TABLE_COMMENT_LISTING</td><td>Секция</td><td>TABLES</td>
<td>Отмечает начало и конец секции TABLE_COMMENT_LISTING, словарь данных
TABLE_COMMENT_LISTING становится активным в этой секции</td></tr>
<tr><td scope="row">TABLE_COMMENT</td><td>Переменная</td>
<td>TABLE_COMMENT_LISTING</td><td>Комментарий таблицы</td></tr>
<tr><td scope="row">DDL_LISTING</td><td>Секция</td><td>TABLES</td>
<td>Отмечает начало и конец секции DDL_LISTING, словарь данных DDL_LISTING
становится активным в этой секции</td></tr>
<tr><td scope="row">DDL_SCRIPT</td><td>Переменная</td><td>DDL_LISTING</td>
<td>Показать скрипт DDL в настоящее время активного окружения,
например SCHEMATA, TABLES</td></tr></tbody></table>

<h3><a name="dbdoc-templates-custom"></a>9.7.2.
Создание своего шаблона</h3>
<p>В самом простом случае шаблон состоит из двух файлов: файл шаблона, у
которого есть расширение <code class="filename">.tpl</code>, и
специальный файл <code class="filename">info.xml</code>. Файл
<code class="filename">info.xml</code> хранит важные метаданные о шаблоне.
Третий файл дополнительный, который является файлом изображения
предварительного просмотра. Этот файл предварительного просмотра
предоставляет изображение миниатюр, иллюстрирующих
появление произведенного отчета.</p>

<p>Один из самых легких способов создать шаблон состоит в том, чтобы сделать
копию любого существующего шаблона.</p>
<p>Например, следующая процедура описывает, как сделать шаблон на основе
шаблона <code class="literal">Text Basic</code>.</p>

<ol><li><p>Перейдите к папке, где шаблоны сохранены. Предполагая, что MySQL
Workbench установлен в местоположение по умолчанию на Windows, это будет
<code class="filename">C:\Program Files\MySQL\MySQL Workbench 5.0
SE\modules\data\wb_model_reporting</code>.</li>

<li>Скопируйте каталог <code class="filename">Text_Basic.tpl</code>.
Копии можно дать любое подходящее имя, например,
<code class="filename">Custom_Basic.tpl</code>.</li>

<li>Отредактируйте файл <code class="filename">info.xml</code>, чтобы
отразить ваш шаблон. Неотредактированный файл в этом случае:
<pre>
&lt;?xml version="1.0"?&gt;
&lt;data&gt;
&lt;value type="object" struct-name="workbench.model.reporting.TemplateInfo"
id="{BD6879ED-814C-4CA3-A869-9864F83B88DF}" struct-checksum="0xb46b524d"&gt;
&lt;value type="string" key="description"&gt;
A basic TEXT report listing schemata and objects.
&lt;/value&gt;
&lt;value type="string" key="name"&gt;HTML Basic Frame Report&lt;/value&gt;
&lt;value type="list" content-type="object"
content-struct-name="workbench.model.reporting.TemplateStyleInfo"
key="styles"&gt;
&lt;value type="object" struct-name="workbench.model.reporting.TemplateStyleInfo"
id="{7550655C-CD4B-4EB1-8FAB-AAEE49B2261E}" struct-checksum="0xab08451b"&gt;
&lt;value type="string" key="description"&gt;
Designed to be viewed with a fixed sized font.
&lt;/value&gt;
&lt;value type="string" key="name"&gt;Fixed Size Font&lt;/value&gt;
&lt;value type="string" key="previewImageFileName"&gt;
preview_basic.png
&lt;/value&gt;
&lt;value type="string" key="styleTagValue"&gt;fixed&lt;/value&gt;
&lt;/value&gt;
&lt;/value&gt;
&lt;value type="string" key="mainFileName"&gt;report.txt&lt;/value&gt;
&lt;/value&gt;
&lt;/data&gt;
</pre>

<p>Файл определяет два объекта: <code class="literal">TemplateInfo</code> и
<code class="literal">TemplateStyleInfo</code>.
Эти объекты содержат информацию о шаблоне, который будет показан на главной
страницы мастера DBDoc Model Reporting.</li>

<li>Измените объект GUIDs, которые используются в файле.
В этом примере надо поменять два:
<pre>
id="{BD6879ED-814C-4CA3-A869-9864F83B88DF}"
...
id="{7550655C-CD4B-4EB1-8FAB-AAEE49B2261E}"
</pre>

<p>Произведите два новых GUIDs. Это сделано, используя подходящий инструмент
командной строки, и есть также бесплатные онлайн инструменты, которые
производят GUIDs. Функция MySQL <code class="literal">UUID()</code>
также производит GUIDs:
<pre>
mysql&gt; <strong class="userinput"><code>SELECT UUID();</code></strong>
+--------------------------------------+
| UUID()                               |
+--------------------------------------+
| 648f4240-7d7a-11e0-870b-89c43de3bd0a |
+--------------------------------------+
</pre>

<p>Как только вы имеете новые GUID, соответственно поправьте файл
<code class="filename">info.xml</code>.</li>
<li>Отредактируйте текстовую информацию для объектов
<code class="literal">TemplateInfo</code> и
<code class="literal">TemplateStyleInfo</code>, чтобы отразить цель шаблона.
</li>

<li>Измененный файл теперь выглядит примерно так:
<pre>
&lt;?xml version="1.0"?&gt;
&lt;data&gt;
&lt;value type="object" struct-name="workbench.model.reporting.TemplateInfo"
id="{cac9ba3f-ee2a-49f0-b5f6-32580fab1640}" struct-checksum="0xb46b524d"&gt;
&lt;value type="string"
key="description"&gt;
Custom basic TEXT report listing schemata and objects.
&lt;/value&gt;
&lt;value type="string" key="name"&gt;Custom Basic text report&lt;/value&gt;
&lt;value type="list" content-type="object"
content-struct-name="workbench.model.reporting.TemplateStyleInfo" key="styles"&gt;
&lt;value type="object"
struct-name="workbench.model.reporting.TemplateStyleInfo"
id="{39e3b767-a832-4016-8753-b4cb93aa2dd6}" struct-checksum="0xab08451b"&gt;
&lt;value type="string" key="description"&gt;
Designed to be viewed with a fixed sized font.
&lt;/value&gt;
&lt;value type="string" key="name"&gt;Fixed Size Font&lt;/value&gt;
&lt;value type="string" key="previewImageFileName"&gt;preview_basic.png&lt;/value&gt;
&lt;value type="string" key="styleTagValue"&gt;fixed&lt;/value&gt;
&lt;/value&gt;
&lt;/value&gt;
&lt;value type="string" key="mainFileName"&gt;custom_report.txt&lt;/value&gt;
&lt;/value&gt;
&lt;/data&gt;
</pre></li>

<li><p>Создайте новый файл шаблона. Это также может лучше всего быть
достигнуто, в зависимости от ваших требований, редактируя существующий
шаблон. В этом примере файл шаблона
<code class="filename">report.txt.tpl</code> такой:
<pre>
+--------------------------------------------+
| MySQL Workbench Report                     |
+--------------------------------------------+
Total number of Schemas: {{SCHEMA_COUNT}}
=============================================
{{#SCHEMATA}}
{{SCHEMA_NR}}. Schema: {{SCHEMA_NAME}}
----------------------------------------------
## Tables ({{TABLE_COUNT}}) ##
{{#TABLES}}{{TABLE_NR_FMT}}. Table: {{TABLE_NAME}}
{{#COLUMNS_LISTING}}## Columns ##
KeyColumnNameDatatypeNot NullDefaultComment
{{#COLUMNS}}{{COLUMN_KEY}}{{COLUMN_NAME}}{{COLUMN_DATATYPE}} б╩
{{COLUMN_NOTNULL}}{{COLUMN_DEFAULTVALUE}}{{COLUMN_COMMENT}}
{{/COLUMNS}}{{/COLUMNS_LISTING}}
{{#INDICES_LISTING}}## Indices ##
IndexNameColumnsPrimaryUniqueTypeKindComment
{{#INDICES}}{{INDEX_NAME}}{{#INDICES_COLUMNS}}{{INDEX_COLUMN_NAME}} б╩
{{INDEX_COLUMN_ORDER}}{{INDEX_COLUMN_COMMENT}}{{/INDICES_COLUMNS}} б╩
{{INDEX_PRIMARY}}{{INDEX_UNIQUE}}{{INDEX_TYPE}}{{INDEX_KIND}}{{INDEX_COMMENT}}
{{/INDICES}}{{/INDICES_LISTING}}
{{#REL_LISTING}}## Relationships ##
RelationshipNameRelationshipTypeParent TableChild Table Cardinality
{{#REL}}{{REL_NAME}}{{REL_TYPE}}{{REL_PARENTTABLE}}{{REL_CHILDTABLE}}{{REL_CARD}}
{{/REL}}{{/REL_LISTING}}
---------------------------------------------
{{/TABLES}}
{{/SCHEMATA}}
=============================================
End of MySQL Workbench Report
</pre>
<p>Этот шаблон показывает детали для всех схем в модели.</li>

<li>Предыдущий файл шаблона может быть отредактирован по своему усмотрению с
новыми маркерами, добавляемыми и существующими маркерами, удаляемыми как
требуется. Для таможенного примера шаблона вы могли бы хотеть создать намного
более простой шаблон, например, такой как следующий:
<pre>
+--------------------------------------------+
| MySQL Workbench Custom Report              |
+--------------------------------------------+
Total number of Schemata: {{SCHEMA_COUNT}}
=============================================
{{#SCHEMATA}}
Schema Name: {{SCHEMA_NAME}}
----------------------------------------------
## Tables ({{TABLE_COUNT}}) ##

{{#TABLES}}
Table Name: {{TABLE_NAME}}
{{/TABLES}}
{{/SCHEMATA}}

Report Generated On: {{GENERATED}}
=============================================
End of MySQL Workbench Custom Report
</pre>

<p>Этот упрощенный отчет просто перечисляет схемы и таблицы в модели.
Дата и время, когда отчет был произведен, также показаны в результате
использования переменной <code class="literal">{{GENERATED}}</code>.</li>

<li>Шаблон теперь может быть проверен. Запустите MySQL Workbench,
загрузите модель, чтобы произвести отчет и выберите из меню
<span class="guimenu">Model</span>, <span class="guimenuitem">DBDOC - Model
Reporting</span>. Выберите новый шаблон из списка доступных шаблонов,
выберите каталог вывода и нажмите <span class="guibutton">Finish</span>,
чтобы произвести отчет. Наконец, перейдите в каталог вывода, чтобы
просмотреть законченный отчет.</p></li></ol>

</index></td><td width="20%">
<script type="text/javascript">
    var begun_auto_colors           = new Array();
    var begun_auto_fonts_size       = new Array();
    var begun_auto_pad              =       97517308;     // идентификатор площадки
    var begun_auto_limit            =              5;     // число объявлений выводимых на площадке
    var begun_auto_width            =            250;     // ширина блока объявлений
    begun_auto_colors[0]            =      '#0000CC';     // цвет ссылки объявлений
    begun_auto_colors[1]            =      '#000000';     // цвет текста объявления
    begun_auto_colors[2]            =      '#00CC00';     // цвет домена объявления
    begun_auto_colors[3]            =      '#FFFFFF';     // цвет фона блока объявлений
    begun_auto_fonts_size[0]        =          '9pt';     // р-мер шрифта ссылки объявлений
    begun_auto_fonts_size[1]        =          '9pt';     // р-мер шрифта текста объявления
    begun_auto_fonts_size[2]        =          '8pt';     // р-мер шрифта домена объявления
    begun_auto_fonts_size[3]        =          '8pt';     // р-мер шрифта заглушки
    var begun_block_type            =     'Vertical';     // тип блока
    var begun_rambler_type          =              1;     // цвет блока поиска Рамблер
    begun_koi8 = 1;
</script>
<script src="../../../autocontext.begun.ru/autocontext.js"
type="text/javascript"></script>
</td></tr></table>

<p><table><tr><td>
<form method="get" name="fform" onSubmit="fsearch(strf.value); return false;">
<input type="hidden" name="clid" value="39177">
<b>Поиск</b><table><tr>
<td><input type="text" name="strf" size="15" style="font-size: 9pt" /></td></tr>
<tr><td><font size="-1"><input type="radio" name="myradio" value="0"
checked id="at_site"/>
<label for="at_site">На сайте</label><br>
<input type="radio" name="myradio" value="1" id="at_ya">
<label for="at_ya">В Яндексе</label></font></td></tr>
<tr><td><input type="submit" value="Найти" style="font-size: 9pt"/></td></tr>
</table></form></td>
<td>&nbsp;</td><td><script language="JavaScript"
src="../../../b190.takru.com/in.php@id=199275">
</script></td></tr></table></p>

<p><center><table><tr><td><font size="+1"><B>Найди своих коллег!</B></font><BR>
<script language="javascript"
src="../../../rldp.lovemesweet.ru/banner/db.js.php@rows=01&cols=05&bg=33FF33&sex=0&afrom=18&ato=99&headgif=&sf=1&nwnd=1&pmin=0&cid=RU&tid=0&smu=0&tcl1=000000&tcl2=FF0000">
</script></td>

<td><iframe src="../../../www.linuxcenter.ru/trans/list.phtml@ref=121965&n=5&price=yes"
frameborder="0" vspace="0" hspace="0" width="300" height="350" marginwidth="0"
marginheight="0" scrolling="no"></iframe></td></tr></table></center></p>

<P><FONT SIZE=-1>Вы можете <A HREF="mailto:alexey.v.pautov@mail.ru">
направить письмо</A> администратору этой странички, Алексею Паутову.</FONT>
<A HREF="mailto:alexey.v.pautov@mail.ru"><IMG SRC="img/email.gif"
ALT="mailto:alexey.v.pautov@mail.ru" BORDER=0 valign="center" HEIGHT=35
WIDTH=105 ALIGN=ABSCENTER></A></P>

<script type="text/javascript" src="../../../bin-layer.ru/popup-686-1.js">
</script>

</body>
</html>
