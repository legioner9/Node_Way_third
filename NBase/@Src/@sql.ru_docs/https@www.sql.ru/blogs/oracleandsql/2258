<?xml version="1.0"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html lang="ru" xmlns="http://www.w3.org/1999/xhtml" xml:lang="ru">
<head>
  <title>Контекст сеанса / Oracle SQL / Sql.ru</title>
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251" />
  <link rel="stylesheet" type="text/css" href="../../css/screen.css@v=1" media="screen" />

    <!--[if lte IE 6]>
            <link rel="stylesheet" type="text/css" href="../../css/ie.css" media="screen" />
            <![endif]-->
  <meta name="Description" content="Контекст сеанса. Блог: Oracle SQL. Блоги на Sql.ru." />
  <script type="text/javascript">jQuery = false;</script>
  
<style type="text/css">

    h2 {
        float:none !important;
    }

    li {
        list-style-type: none;
        margin: 0 0 0px 30px;
        padding: 0;
    }

</style>
<script src="../../../https@ajax.googleapis.com/ajax/libs/jquery/1.4.4/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
     if (typeof jQuery == 'undefined')
     {
      document.write(unescape("%3Cscript src='../../js/jquery-1.4.4.min.js' type='text/javascript'%3E%3C/script%3E"));
     }
</script>
<script type="text/javascript" src="../../js/jquery.tagcloud.js"></script>
<script type="text/javascript">
    $(document).ready(function(){
      $.fn.tagcloud.defaults = {
        size: {start: 14, end: 20, unit: "px"},
        color: {start: '#8eb4e7', end: '#396092'}
      }
    });

     $(document).ready(function(){
       $("#tagcloud a").tagcloud();
     })
</script>
<!--begin case_isnotliked-->
<script type="text/javascript">
    function like(el) {
        $.get("../blogpost.aspx", { userid: "", postid: "", like: true },
           function(){
                $(el).after('<a class="like">Спасибо, ваш голос учтен</a>');
                $(el).remove();
           });
    }
</script>
<!--end case_isnotliked-->

  <script type="text/javascript" src="../../js/utils.js"></script>
  <meta property="og:image" content="https://www.sql.ru/images/logofb.jpg"/>
	                                
 <!-- Google Analytics -->
 <script>
 window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
 ga('create', 'UA-265508-1', 'sql.ru');
 ga('send', 'pageview');
 </script>
 <script async src='../../../https@www.google-analytics.com/analytics.js'></script>
 <!-- End Google Analytics -->
</head>

<body>
  <div id="page-container">
    <div id="header">
      <div class="header-wrap">
        <div id="title">
          <a href="../../default.htm" title="На главную страницу">SQL.ru</a>
        </div>
		<!--begin case_isguest-->
        <div id="login">
          <form action="/forum/login.aspx" method="post">
            <span class="close" onclick="hideLoginWindow(); return false;">x</span>

            <div class="username">
              <label for="login-input">Логин:</label> <input type="text" name="login" id=
              "login-input" />
            </div>

            <div class="password">
              <label for="pass-input">Пароль:</label> <input type="password" name="password" id=
              "pass-input" />
            </div>
			
			<div style="text-align:left;">
				<input type="checkbox" name="cbremember" id="cbremember" checked="checked" />
				<label style="width:auto" for="cbremember">Запомнить меня</label>
			</div>

            <div class="submit">
              <input type="submit" value="Войти" />
            </div>

            <div class="links">
              <a href="../../forum/register.aspx">Регистрация</a> <a href="../../forum/remindpass.aspx">Забыли пароль?</a>
            </div>
          </form>
        </div>
		<span id="login-link" onclick="showLoginWindow(); return false">Вход на сайт</span>
		<!--end case_isguest-->
		
        <form action="/forum/afsearch.aspx" method="get" id="top-search" name="top-search">
          <div>
            <input type="text" name="s" id="search-query" value=" поиск" class="inactive"
            onfocus="tffocus(this)" onblur="tfblur(this)" /> <input type="submit" value="Найти" />
          </div>
        </form>

        <ul id="top-menu">
          <li class=""><a href="../../default.htm">Главная</a></li>

          <li class=""><a href="../../articles">Статьи</a></li>

          <li class=""><a href="../../forum">Форум</a></li>

          <li class="selected"><a href="../../blogs">Блоги</a></li>

          <li class=""><a href="../../books">Книги</a></li>

          <li class=""><a href="../../subscribe">Рассылка</a></li>

          <li class=""><a href="../../forum/job">Работа</a></li>

          <li class=""><a href="../../search">Поиск</a></li>

          <li class=""><a href="../../faq">FAQ</a></li>
        </ul><div id="top-advert"><!--banner.img--></div>
      </div>
    </div>
			<div id="middle" class="column-2">
				<div id="middle-wrap">
                    <div id="side-1" class="side-blocks">
						<div class="wrap">

							<!-- блок "Основные темы" -->
												<div class="side-block art-themes">

                                

                                <h4>Блог</h4>
								<ul>
									<div><a href="../oracleandsql">Oracle SQL</a></div>
                                    <div>ORACLE SQL : необычные приемы, специальные функции , аналитический SQL, работа с xml</div>
								</ul>
                                <br />
                                <h4>Последние записи</h4>
                                <ul>
                                    
                                    <li><a href="2268">Платежи с нарастающим итогом решение задачи</a></li>
                                    
                                    <li><a href="2266">Представляю сообществу  свою книгу oracle sql</a></li>
                                    
                                    <li><a href="2263">уже МИЛЛИОН!!! 1 000 000!</a></li>
                                    
                                    <li><a href="2259">SERIALIZABLE режим</a></li>
                                    
                                    <li><a href="2258">Контекст сеанса</a></li>
                                    
                                    <li><a href="2257">Планировщик JOB заданий. Управление.</a></li>
                                    
                                    <li><a href="2256">Быстрая очистка таблиц и EXECUTE IMMEDIATE.</a></li>
                                    
                                    <li><a href="2255">Внешние таблицы External Table</a></li>
                                    
                                    <li><a href="2216">Sum по disitnct полю , в другой колонке</a></li>
                                    
                                    <li><a href="2213">Ретроспективные запросы и корзина ORACLE</a></li>
                                    
                                </ul>
                                <br />
                                <h4>Теги</h4>
                                <div id="tagcloud">
                                  
                                  <a href="tags/avg" rel="5">avg</a>
                                  
                                  <a href="tags/connect%20by" rel="5">connect by</a>
                                  
                                  <a href="tags/create%20table" rel="8">create table</a>
                                  
                                  <a href="tags/execute%20immediate" rel="4">execute immediate</a>
                                  
                                  <a href="tags/group%20by" rel="4">group by</a>
                                  
                                  <a href="tags/insert%20into" rel="7">insert into</a>
                                  
                                  <a href="tags/oracle" rel="12">oracle</a>
                                  
                                  <a href="tags/order%20by" rel="4">order by</a>
                                  
                                  <a href="tags/over" rel="5">over</a>
                                  
                                  <a href="tags/partition" rel="4">partition</a>
                                  
                                  <a href="tags/pl%20sql" rel="6">pl sql</a>
                                  
                                  <a href="tags/preceding" rel="5">preceding</a>
                                  
                                  <a href="tags/rows%20beetwen" rel="5">rows beetwen</a>
                                  
                                  <a href="tags/select" rel="11">select</a>
                                  
                                  <a href="tags/sql" rel="9">sql</a>
                                  
                                  <a href="tags/update" rel="3">update</a>
                                  
                                  <a href="tags/with" rel="3">with</a>
                                  
                                  <a href="tags/_25e4_25e8_25ed_25e0_25ec_25e8_25f7_25e5_25f1_25ea_25e8_25e9%20sql" rel="3">динамический sql</a>
                                  
                                  <a href="tags/_25f2_25ee_25f0_25e3_25ee_25e2_25e0_25ff%20_25f1_25e8_25f1_25f2_25e5_25ec_25e0" rel="3">торговая система</a>
                                  
                                  <a href="tags/_25f4_25e8_25ed_25e0_25ed_25f1_25ee_25e2_25fb_25e9%20_25f0_25fb_25ed_25ee_25ea" rel="3">финансовый рынок</a>
                                  
                                  
                                </div>
                                <h4>Информация</h4>
                                <ul>
                                    <li><a href="../judge/339/create-new-blog-on-sqlru">Завести свой блог</a></li>
                                    <li></li>
                                    <li></li>
                                </ul>
							</div>
							<!-- конец блока "Основные темы" -->

						</div>
					</div>
					<div id="content-section">
						<div id="content-wrapper">

                            <!--begin posts-->
                            <h1>Контекст сеанса</h1>
							<div class="article full">
                                <div style="float:right">
                                    <div class="statistics">
                                        добавлено: 18&nbsp;фев&nbsp;19<br />
                                        понравилось:0<br />
                                        просмотров: 6701<br />
                                        комментов: 0<br />
                                        <br />
                                        <span>теги: </span>
                                        <ul class="taglist">
                                            
                                                <li><a href="tags/sys_context">sys_context</a></li>
                                            
                                                <li><a href="tags/sql">sql</a></li>
                                            
                                                <li><a href="tags/set_context">set_context</a></li>
                                            
                                                <li><a href="tags/SQL%20Server">SQL Server</a></li>
                                            
                                                <li><a href="tags/oracle">oracle</a></li>
                                            
                                                <li><a href="tags/sql">sql</a></li>
                                            
                                            
                                            </ul>
                                        <br clear="all" />
                                    </div>
                                    <div class="links">
                                        <!-- AddThis Button BEGIN -->
                                        <div class="addthis_toolbox addthis_default_style">
                                            <a href="../../../https@www.addthis.com/bookmark.php@v=250&username=xa-4cb75b821386eec8" class="addthis_button_compact">Добавить в закладки и поделиться</a>
                                        </div>
                                        <script type="text/javascript">
                                        var addthis_config = {
                                            services_compact: 'email, facebook, twitter, vk, livejournal, linkedin, bobrdobr, live,  delicious, digg, google, more'
                                        }
                                        </script>
                                        <script type="text/javascript" src="../../../https@s7.addthis.com/js/250/addthis_widget.js#username=xa-4cb75b821386eec8"></script>
                                        <!-- AddThis Button END --><br />
                                        <a href="#add-comment" class="comment">Прокомментировать</a><br/>
                                        <!--begin case_isnotliked-->
                                        <!--<a href="#i-like-it" class="like" onclick="like(this); return false;">Мне нравится</a><br/>-->
                                        <!--end case_isnotliked-->
                                        <a href="#print" class="print" onclick="window.print(); return false;">Распечатать статью</a><br/>
                                    </div>
                                </div>
								<p class="info">
									Автор: <a href="../../forum/memberinfo.aspx@mid=58558" target="_blank">Myp3_u_K</a>
								</p>
								<div><a href="../../../www.sqladv.ru/default.htm" target="_blank">Чалышев Максим Михайлович</a><br /><a href="../../../sql.orasource.ru/default.htm" target="_blank">SQL. 5 дней которые изменят твою жизнь.</a> <br /><br /><b>Введение</b><br />В каждой сессии есть возможность использовать специальные структуры данных, именуемые контекст.<br />Контексты - это набор данных вида - параметр значение. Контекст предоставляет дополнительные возможности для приложений, использующих СУБД Oracle.<br /><b>Теория и практика</b><br />Контекст - это предопределённый набор параметров и значений создаваемый в рамках определенной сессии. Несколько таких наборов параметр значение, объединяется с помощью структуры называемой контекстом.<br /><br />Задается значение контекста с помощью процедуры DBMS_SESSION.SET_CONTEXT<br /><br />Функция SYS_CONTEXT позволяет получить значение заданного контекста в раках сессии.<br />Для создания контекста специальная команда CREATE CONTEXT. <br />Сначала следует создать специальною процедуру для управления контекстом.<br /><br /><pre class="src lang-plsql">
<span style='color: #0000ff;'>CREATE</span> <span style='color: #0000ff;'>OR</span> <span style='color: #0000ff;'>REPLACE</span> <span style='color: #0000ff;'>PROCEDURE</span> set_mycontext_value ( par <span style='color: #0000ff;'>IN</span> VARCHAR2, val <span style='color: #0000ff;'>IN</span> VARCHAR2 ) 
<span style='color: #0000ff;'>AS</span> <span style='color: #0000ff;'>BEGIN</span>  DBMS_SESSION.SET_CONTEXT ( <span style='color: #ff0000;'>'myctx'</span>, par, val ); <span style='color: #0000ff;'>END</span>;

<span style='color: #0000ff;'>CREATE</span> <span style='color: #0000ff;'>OR</span> <span style='color: #0000ff;'>REPLACE</span> <span style='color: #0000ff;'>CONTEXT</span> myctx <span style='color: #0000ff;'>USING</span> set_mycontext_value;
</pre>
<br /><br /><pre class="src lang-plsql">
<span style='color: #0000ff;'>BEGIN</span> 
 set_mycontext_value (<span style='color: #ff0000;'>'paramuser'</span>, <span style='color: #ff0000;'>'abc'</span>); 
<span style='color: #0000ff;'>END</span>;

<span style='color: #0000ff;'>SELECT</span> <span style='color: #800080;'>SYS_CONTEXT</span> (<span style='color: #ff0000;'>'myctx'</span>, <span style='color: #ff0000;'>'paramuser'</span> ) <span style='color: #0000ff;'>FROM</span> dual;
</pre>
<br /><br />Существует специальный системный контекст CLIENTCONTEXT<br />CLIENTCONTEXT при открытии сеанса задает информацию, дополнительную к заданным сведениям ((текущая схема, пользователь, тип авторизации, домен, хост, наименование DB, имя пользователя информационной системы…), контекста USERENV.<br />Пример<br /><br /><pre class="src lang-plsql">
<span style='color: #0000ff;'>SELECT</span> 
  <span style='color: #800080;'>SYS_CONTEXT</span> ( <span style='color: #ff0000;'>'userenv'</span>, <span style='color: #ff0000;'>'AUTHENTICATION_TYPE'</span> ) authent
, <span style='color: #800080;'>SYS_CONTEXT</span> ( <span style='color: #ff0000;'>'userenv'</span>, <span style='color: #ff0000;'>'CURRENT_SCHEMA'</span> )      curr_schema
, <span style='color: #800080;'>SYS_CONTEXT</span> ( <span style='color: #ff0000;'>'userenv'</span>, <span style='color: #ff0000;'>'CURRENT_USER'</span> )        curr_user
, <span style='color: #800080;'>SYS_CONTEXT</span> ( <span style='color: #ff0000;'>'userenv'</span>, <span style='color: #ff0000;'>'DB_NAME'</span> )             db_name
, <span style='color: #800080;'>SYS_CONTEXT</span> ( <span style='color: #ff0000;'>'userenv'</span>, <span style='color: #ff0000;'>'DB_DOMAIN'</span> )           db_domain
, <span style='color: #800080;'>SYS_CONTEXT</span> ( <span style='color: #ff0000;'>'userenv'</span>, <span style='color: #ff0000;'>'HOST'</span> )                host
, <span style='color: #800080;'>SYS_CONTEXT</span> ( <span style='color: #ff0000;'>'userenv'</span>, <span style='color: #ff0000;'>'IP_ADDRESS'</span> )          ip_address
, <span style='color: #800080;'>SYS_CONTEXT</span> ( <span style='color: #ff0000;'>'userenv'</span>, <span style='color: #ff0000;'>'OS_USER'</span> )             os_user
<span style='color: #0000ff;'>FROM</span> dual;
</pre>
<br />Результат для моего компьютера<br /> <br />Данная информация достаточно часто используется при разработке Oracle приложений<br />Существует еще один специальный контекст -  CLIENTCONTEXT, клиентский контекст<br />Данный контекст не требует специального создания, и позволяет сессии пользователя, создавать собственные атрибуты и значения. Этот контекст позволяет устанавливать значения заранее, при открытии соединения с СУБД приложением.<br />CLIENTCONTEXT можно считывать функцией SYS_CONTEXT, а так же изменять, и создавать новые атрибуты:<br />Пример<br /><br /><pre class="src lang-plsql">
<span style='color: #0000ff;'>begin</span>
  DBMS_SESSION.SET_CONTEXT ( <span style='color: #ff0000;'>'CLIENTCONTEXT'</span>, <span style='color: #ff0000;'>'paramuser'</span>, <span style='color: #ff0000;'>'valuser'</span> );
<span style='color: #0000ff;'>end</span>;

<span style='color: #0000ff;'>SELECT</span> <span style='color: #800080;'>SYS_CONTEXT</span> (<span style='color: #ff0000;'>'CLIENTCONTEXT'</span>, <span style='color: #ff0000;'>'paramuser'</span> ) <span style='color: #0000ff;'>FROM</span> dual;

<span style='color: #008000;font-style:italic;'>--  valuer</span>
<span style='color: #0000ff;'>begin</span>
  DBMS_SESSION.SET_CONTEXT ( <span style='color: #ff0000;'>'CLIENTCONTEXT'</span>, <span style='color: #ff0000;'>'paramuser'</span>, <span style='color: #ff0000;'>'valuser1'</span> );
<span style='color: #0000ff;'>end</span>;

<span style='color: #0000ff;'>SELECT</span> <span style='color: #800080;'>SYS_CONTEXT</span> (<span style='color: #ff0000;'>'CLIENTCONTEXT'</span>, <span style='color: #ff0000;'>'paramuser'</span> ) <span style='color: #0000ff;'>FROM</span> dual;
<span style='color: #008000;font-style:italic;'>-- valuser1</span>
</pre>
<br />Важные замечания<br />В DBMS_SESSION содержит ряд других подпрограмм для работы с контекстами.<br />Для создания контекста необходимы права CREATE ANY CONTEXT, они могут быть выданы администратором системы.<br />Вопросы учеников<br />Можно ли в контекст использовать для других типа данных, а не только для строк?<br />Да, вот пример использования числа<br /><br /><pre class="src lang-plsql">
<span style='color: #0000ff;'>begin</span>
  DBMS_SESSION.SET_CONTEXT( <span style='color: #ff0000;'>'CLIENTCONTEXT'</span>, <span style='color: #ff0000;'>'paramuser'</span>, <span style='color: #00008b;'>343435</span> );
<span style='color: #0000ff;'>end</span>;

<span style='color: #0000ff;'>SELECT</span> <span style='color: #800080;'>SYS_CONTEXT</span> (<span style='color: #ff0000;'>'CLIENTCONTEXT'</span>, <span style='color: #ff0000;'>'paramuser'</span> ) <span style='color: #0000ff;'>FROM</span> dual;
</pre>
<br />Какие еще данные можно извлечь из системного контекста?<br />Вот список информации, которую можно получить из системного контекста<br /><br />ACTION Возвращает позицию в модуле <br />AUDITED_CURSORID Возвращает идентификатор курсора SQL, который вызвал аудит <br />AUTHENTICATED_IDENTITY Возвращает идентификатор, использованный при аутентификации <br />AUTHENTICATION_DATA Данные аутентификации <br />AUTHENTICATION_METHOD Возвращает метод аутентификации<br />AUTHENTICATION_TYPE Описывает, как пользователь прошел проверку подлинности. Может принимать одно из следующих значений: База данных, ОС, Сеть или Прокси<br />BG_JOB_ID Если сеанс был установлен фоновым процессом Oracle, этот параметр вернет идентификатор задания. В противном случае он вернет NULL.<br />CLIENT_IDENTIFIER Возвращает идентификатор клиента (глобальный контекст) <br />CLIENT_INFO Информация о сеансе пользователя <br />CURRENT_BIND Связать переменные для детального аудита <br />CURRENT_SCHEMA Возвращает схему по умолчанию, используемую в текущей схеме<br />CURRENT_SCHEMAID Возвращает идентификатор схемы по умолчанию, используемой в текущей схеме <br />CURRENT_SQL Возвращает SQL, который вызвал событие аудита<br />CURRENT_SQL_LENGTH Возвращает длину текущего оператора SQL, который вызвал событие аудита<br />CURRENT_USER Имя текущего пользователя <br />CURRENT_USERID ИД пользователя текущего пользователя <br />DB_DOMAIN Домен базы данных из параметра инициализации DB_DOMAIN <br />DB_NAME Имя базы данных из параметра инициализации DB_NAME <br />DB_UNIQUE_NAME Имя базы данных из параметра инициализации DB_UNIQUE_NAME <br />ENTRYID Доступный идентификатор записи аудита <br />ENTERPRISE_IDENTITY Возвращает личность пользователя в масштабе предприятия <br />EXTERNAL_NAME Внешний пользователь базы данных<br />FG_JOB_ID Если сеанс был установлен клиентским процессом переднего плана, этот параметр вернет идентификатор задания. В противном случае он вернет NULL. <br />GLOBAL_CONTEXT_MEMORY Номер, используемый в глобальной области системы контекстом глобального доступа <br />GLOBAL_UID Глобальный идентификатор пользователя из Oracle Internet Directory для входа в систему безопасности предприятия. Возвращает NULL для всех остальных имен входа. <br />HOST Имя хост-машины, с которой клиент подключился <br />IDENTIFICATION_TYPE Возвращает способ создания схемы пользователя <br />INSTANCE Идентификационный номер текущего экземпляра <br />INSTANCE_NAME Имя текущего экземпляра<br />IP_ADDRESS IP-адрес компьютера, с которого клиент подключился <br />ISDBA Возвращает TRUE, если у пользователя есть привилегии DBA. В противном случае он вернет FALSE. <br />LANG Сокращение ISO для языка <br />ЯЗЫК Язык, территория и характер сеанса. В следующем формате: language_territory.characterset <br />MODULE Возвращает имя приложения, установленное через пакет DBMS_APPLICATION_INFO или OCI <br />NETWORK_PROTOCOL Используется сетевой протокол <br />NLS_CALENDAR Календарь текущей сессии <br />NLS_CURRENCY Валюта текущего сеанса <br />NLS_DATE_FORMAT Формат даты для текущего сеанса <br />NLS_DATE_LANGUAGE Язык, используемый для дат <br />NLS_SORT BINARY или основа лингвистической сортировки <br />NLS_TERRITORY Территория текущего <br />OS_USER Имя пользователя ОС для пользователя, вошедшего в систему <br />POLICY_INVOKER Призыватель функций политики безопасности на уровне строк <br />PROXY_ENTERPRISE_IDENTITY DN интернет-каталога Oracle, если прокси-пользователь является корпоративным пользователем <br />PROXY_GLOBAL_UID Глобальный идентификатор пользователя из Oracle Internet Directory для корпоративных пользователей-посредников. Возвращает NULL для всех других прокси-пользователей. <br />PROXY_USER Имя пользователя, открывшего текущий сеанс от имени SESSION_USER <br />PROXY_USERID Идентификатор пользователя, открывшего текущий сеанс от имени SESSION_USER <br />SERVER_HOST Имя хоста компьютера, на котором работает экземпляр <br />SERVICE_NAME Имя службы, к которой подключен сеанс <br />SESSION_USER Имя пользователя базы данных пользователя, вошедшего в систему <br />SESSION_USERID Идентификатор базы данных пользователя, вошедшего в систему <br />SESSIONID Идентификатор сеанса <br />SID Номер сеанса<br />STATEMENTID Идентификатор аудиторского заключения<br />TERMINAL Идентификатор ОС текущего сеанса<br /><br /><br />Пример <br /><br /><pre class="src lang-plsql">
<span style='color: #0000ff;'>SELECT</span> <span style='color: #800080;'>SYS_CONTEXT</span>(<span style='color: #ff0000;'>'USERENV'</span>, <span style='color: #ff0000;'>'LANG'</span>) <span style='color: #0000ff;'>AS</span> <span style='color: #0000ff;'>RESULT</span> <span style='color: #0000ff;'>FROM</span> DUAL;
<span style='color: #008000;font-style:italic;'>--RESULT RU</span>
 
<span style='color: #0000ff;'>SELECT</span> <span style='color: #800080;'>SYS_CONTEXT</span>(<span style='color: #ff0000;'>'USERENV'</span>, <span style='color: #ff0000;'>'LANGUAGE'</span>) <span style='color: #0000ff;'>AS</span> <span style='color: #0000ff;'>RESULT</span> <span style='color: #0000ff;'>FROM</span> DUAL;
<span style='color: #008000;font-style:italic;'>--RESULT RUSSIAN_CIS.CL8MSWIN1251</span>
 
<span style='color: #0000ff;'>SELECT</span> <span style='color: #800080;'>SYS_CONTEXT</span>(<span style='color: #ff0000;'>'USERENV'</span>, <span style='color: #ff0000;'>'NLS_CALENDAR'</span>) <span style='color: #0000ff;'>AS</span> <span style='color: #0000ff;'>RESULT</span> <span style='color: #0000ff;'>FROM</span> DUAL;
<span style='color: #008000;font-style:italic;'>--RESULT GREGORIAN</span>
 
<span style='color: #0000ff;'>SELECT</span> <span style='color: #800080;'>SYS_CONTEXT</span>(<span style='color: #ff0000;'>'USERENV'</span>, <span style='color: #ff0000;'>'NLS_DATE_FORMAT'</span>) <span style='color: #0000ff;'>AS</span> <span style='color: #0000ff;'>RESULT</span> <span style='color: #0000ff;'>FROM</span> DUAL;
<span style='color: #008000;font-style:italic;'>--RESULT DD.MM.RR</span>
 
<span style='color: #0000ff;'>SELECT</span> <span style='color: #800080;'>SYS_CONTEXT</span>(<span style='color: #ff0000;'>'USERENV'</span>, <span style='color: #ff0000;'>'NLS_TERRITORY'</span>) <span style='color: #0000ff;'>AS</span> <span style='color: #0000ff;'>RESULT</span> <span style='color: #0000ff;'>FROM</span> DUAL;
<span style='color: #008000;font-style:italic;'>--RESULT CIS</span>
</pre>
</div>
							</div>
							<!--end posts-->
                            
							<!-- комменты -->
                            <div>							<!-- комменты -->
							<div id="comments">
								<p>Комментарии</p>
								<hr/>
								
							</div>
							
  <br />

  <center>
    <table border="0" cellspacing="0" cellpadding="5" width="70%" style="text-align:left" class="messageBox">
      <tr>
        <td class="messageHeader"></td>
      </tr>

      <tr>
        <td class="msgBody"><br />
        Необходимо войти на сайт, чтобы оставлять комментарии<br /></td>
      </tr>
    </table><br />
  </center>


							<!-- конец комментам -->

							<!-- добавление коммента -->
							<div id="add-comment">
							
							</div>
							<!-- конец добавления коммента -->

<!--begin case_is_radmin-->
<script type="text/javascript">
    function deleteComment(id) {
        $.ajax({ type: "GET",
            url: "../../sqlru/utils.aspx",
            cache: false,
            data: "action=deletecomment&id=" + id,
            success: function (data) {
                if (data == '1') {
                    alert("Сообщение успешно удалено.");
                    $("#c" + id).hide("slow");
                } else
                    alert("Ошибка удаления сообщения.");
            },
            error: function () { alert("Непредвиденная ошибка удаления сообщения."); }
        });
    }

    function addComment(form) {
        $.ajax({ type: "POST",
            url: "../../rating/postrate.aspx",
            cache: false,
            data: "ratetext=" + prepareStr($("#add-commment-message").val()) + "&r_otype=" + $("#r_otype").val() + "&r_url=" + $("#r_url").val() + "&r_oid=" + $("#r_oid").val() + "&l_id=" + $("#l_id").val() + "&aj=1",
            success: function (data) {
                if (data) {
                    $("#comments").append(data);
                    $("#add-commment-message").val("");
                }
                else
                    alert("Ошибка добавления сообщения.");
            },
            error: function () { alert("Непредвиденная ошибка добавления сообщения."); }
        });
    }
</script>
<!--end case_is_radmin-->
<br /></div>
						</div>
                        <br clear="all" />
					</div>
					<div id="bottom-fade"><div class="wrap"></div></div>
				</div>
			</div>			<div id="footer" style="padding-bottom:20px">
				<div  style="float:left">2000-2020 © Alex Sibilev, SQL.ru<br/>
					<a style="font: 10px Verdana;color:#88C" href="../../feedback.aspx">Свяжитесь с нами</a></div>
<div style="float:right">Рекомендуем <a href="../../../https@www.datahouse.ru/price/kurskaya_colocation">colocation</a> в DataHouse.RU.</div>
				<div class="counters">
                
				</div>
			</div>
		</div>
		<script>initScripts()</script>
<!-- Yandex.Metrika counter -->
<!--ipt type="text/javascript" > (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)}; m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})   (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym"); ym(9237463, "init", { clickmap:true, trackLinks:true, accurateTrackBounce:true });</scri-->
<noscript><div><img src="../../../https@mc.yandex.ru/watch/9237463" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
<!-- /Yandex.Metrika counter -->

	</body>
</html>