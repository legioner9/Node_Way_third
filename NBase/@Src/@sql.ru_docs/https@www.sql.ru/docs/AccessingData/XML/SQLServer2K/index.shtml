<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<TITLE>Доступ к XML и реляционным данным
</TITLE>
<META CONTENT="text/html; charset=windows-1251" http-equiv=Content-Type>
<META NAME="Description" CONTENT="1. Введение">
<META NAME="Keywords" CONTENT="SQL, Microsoft, Server">
<META HTTP-EQUIV="Set-Cookie" CONTENT="cookie=set; path=/">
<LINK REL=STYLESHEET TYPE="text/css" HREF="../../../../form.css">
</HEAD>
<BODY BGCOLOR="#FFFFFF" leftmargin="3" topmargin="3" marginheight="3" marginwidth="3">
<noindex>
<TABLE BGCOLOR="#000000" WIDTH=100% CELLPADDING=0 CELLSPACING=0 BORDER=0>
<TR><TD>

<TABLE WIDTH=100% CELLPADDING=0 CELLSPACING=1 BORDER=0>
<TR BGCOLOR="#6699CC"><TD><TABLE CELLSPACING=0 CELLPADDING=0 WIDTH=100% BORDER=0 BGCOLOR="#6699CC">
<TR><TD COLSPAN=3><IMG SRC="../../../../images/blank.gif" height=3 width=1 alt=""></TD></TR>
<TR><TD VALIGN=TOP>&nbsp;<FONT FACE="Verdana,Arial" SIZE=5 COLOR=lightyellow>SQL.RU<BR><FONT SIZE=-5>&nbsp;client/server technologies</FONT></FONT></TD>
<TD WIDTH=468 HEIGHT=60 BGCOLOR=#6699CC ALIGN=RIGHT></TD>
<TD WIDTH=2><IMG SRC="../../../../images/blank.gif" height=1 width=2 alt=""></TD></TR>                                                      	
<TR HEIGHT=4><TD COLSPAN=3><IMG SRC="../../../../images/blank.gif" height=5 width=1 alt=""></TD></TR></TABLE>

</TD></TR>

<TR HEIGHT=15><TD bgcolor=#006699><FONT FACE="Verdana,Arial" SIZE=1 COLOR=WHITE><B><A CLASS="menu" 
HREF="../../../../default.htm">&nbsp;<FONT COLOR=white>Главная</FONT>&nbsp;</A>|<A CLASS="menu" 
HREF="../../../../docs">&nbsp;<FONT COLOR=yellow>Документация</FONT>&nbsp;</A>|<A CLASS="menu" 
HREF="../../../../articles">&nbsp;<FONT COLOR=white>Статьи</FONT>&nbsp;</A>|<A CLASS="menu" 
HREF="../../../../books">&nbsp;<FONT COLOR=white>Книги</FONT>&nbsp;</A>|<A CLASS="menu" 
HREF="../../../../forum/actualforum.aspx">&nbsp;<FONT COLOR=white>Форум</FONT>&nbsp;</A>|<A CLASS="menu" 
HREF="../../../../blogs">&nbsp;<FONT COLOR=white>Блоги</FONT>&nbsp;</A>|<A CLASS="menu" 
HREF="../../../../poll">&nbsp;<FONT COLOR=white>Опросы</FONT>&nbsp;</A>|<A CLASS="menu" 
HREF="../../../../forum/actualtopics.aspx@bid=11">&nbsp;<FONT COLOR=white>Гостевая</FONT>&nbsp;</A>|<A CLASS="menu"
HREF="../../../../subscribe">&nbsp;<FONT COLOR=white>Рассылка</FONT>&nbsp;</A>|<A CLASS="menu"
HREF="../../../../job">&nbsp;<FONT COLOR=white>Работа</FONT>&nbsp;</A>|<A CLASS="menu"
HREF="../../../../search">&nbsp;<FONT COLOR=white>Поиск</FONT>&nbsp;</A>|<A CLASS="menu"
HREF="../../../../faq">&nbsp;<FONT COLOR=white>FAQ</FONT>&nbsp;</A>|</B></FONT></TD></TR>
<TR><TD BGCOLOR=#F5F5F5>
</noindex>

<TABLE BORDER="0" WIDTH=100% bgcolor=#DDDDDD><TR VALIGN=top  bgcolor=#DDDDDD>
<TD ALIGN=LEFT><B>
 <A HREF="index.shtml">XML в MS SQL Server 2000 и технологиях доступа к данным</A> | <b>Введение
</B>
</TD>
<TD ALIGN=RIGHT><B>
<A HREF="02.shtml" CLASS="lblue"><b>Дальше &raquo;</B></A>


</TD>
</TR>
</TABLE>
<TABLE border="0" cellpadding="2" cellspacing="2" >
<TR>
<TD>
<div align=justify>
<A NAME="0">Конференция "Корпоративные базы данных 2002"</A><br>
Автор: <b>Алексей Шуленин</b></p>
<p>
<TABLE BORDER=0 STYLE="font : 11px Verdana,Arial">
<TR><TD valign=top>1.</TD><TD><A HREF="#1">Введение</a></TD></TR>
<TR><TD valign=top>2.</TD><TD><A HREF="02.shtml">Сохранить как XML</a></TD></TR>
<TR><TD valign=top>3.</TD><TD><A HREF="03.shtml">Получить как поток XML</a></TD></TR>
<TR><TD valign=top>4.</TD><TD><A HREF="04.shtml">XML на стороне сервера. FOR XML</a></TD></TR>
<TR><TD valign=top>5.</TD><TD><A HREF="05.shtml">SQLXML-классы в .NET</a></TD></TR>
<TR><TD valign=top>6.</TD><TD><A HREF="06.shtml">FOR XML на стороне клиента</a></TD></TR>
<TR><TD valign=top>7.</TD><TD><A HREF="07.shtml">XML-представление наборов данных в ADO .NET</a></TD></TR>
<TR><TD valign=top>8.</TD><TD><A HREF="08.shtml">Прямые XPath-запросы к объектам SQL Server</a></TD></TR>
<TR><TD valign=top>9.</TD><TD><A HREF="09.shtml">Аннотированные схемы</a></TD></TR>
<TR><TD valign=top>10.</TD><TD><A HREF="10.shtml">XML-шаблоны как разновидность хранимых процедур</a></TD></TR>
<TR><TD valign=top>11.</TD><TD><A HREF="11.shtml">UpdateGrams</a></TD></TR>
<TR><TD valign=top>12.</TD><TD><A HREF="12.shtml">XML Bulk Load</a></TD></TR>
<TR><TD valign=top>13.</TD><TD><A HREF="13.shtml">Доступ к SQL Server по HTTP</a></TD></TR>
<TR><TD valign=top>14.</TD><TD><A HREF="14.shtml">SQL Server как Web-сервис</a></TD></TR>
<TR><TD valign=top>15.</TD><TD><A HREF="15.shtml">Заключение</a></TD></TR>
</TABLE></p>


<A NAME="1"><u>Введение</u></A>
<p>
Несколько слов о том, что за текст попался вам на глаза и стоит ли вам его читать, а мне, соответственно, 
браться сейчас писать. Ну поддерживает SQL Server XML, ну так что с того? Его сейчас поддерживают все, 
кому не лень, потому что это круто. А если разобраться по существу, то с какого бока приличному серверу баз 
данных этот XML вообще сдался? Вот с этого философского вопроса, пожалуй, и начнем. 
С моей сугубо прагматичной точки зрения это, конечно, не дань моде. Наши с вами реалии сегодня таковы, 
что большинство корпоративных бизнес-сценариев давно вышли за рамки локальных сетей и предусматривают 
работу с базами данных через Интернет. Кроме того, эта работа ведется чаще всего в гетерогенных средах, где 
перемешаны и Windows, и Linux, и Solaris, и FreeBSD, и много чего еще. Во-первых, представление как запроса, 
так и его результатов в виде XML существенно упрощает передачу данных через межсетевые экраны. Понятно, 
например, что передать recordset как COM-объект через брандмауэр скорее всего не удастся, потому что ни один 
администратор в здравом уме не откроет порты для произвольных RPC-вызовов снаружи. Издавна придумывались 
лазейки и средства: вспомните, например, Remote Data Service (RDS), появившуюся еще в составе ADO 1.5 во 
второй половине 1997 г. (а ее предшественник Advanced Data Connector - ADC - и того раньше). Она 
позволила-таки маршалировать recordset'ы через HTTP и DCOM, хотя и не скажу, что это было тривиально. 
Сериализация объекта в XML решает эту задачу легко. Во-вторых, XML и HTTP, являясь де юре и де факто 
общепринятыми стандартами, упрощают взаимодействие между базами данных различных производителей, 
на какой бы платформе и ОС они ни стояли. Причем, даже не только между базами данных, но и напрямую с 
серверами электронной коммерции и бизнес-интеграции. Например, с Commerce Server, BizTalk Server и др. 
Причем не только с серверами промежуточного слоя, но и вообще между гетерогенными приложениями, 
поскольку SOAP легко решает извечную задачу мостования между СОМ и CORBA. Впрочем, о SQL Server как 
о веб-сервисе мы еще поговорим. В-третьих, преимущество поддержки XML в СУБД состоит в том, что на 
компьютер конечного пользователя или приложения, работающего с базой данных, не требуется устанавливать 
никакой клиентской части, специфичной для данной СУБД, т.к. все, что ему нужно, - это стандартные 
протоколы и форматы Интернета, априори поддерживаемые практически всеми современными платформами. <br>
Итак, работа через Интернет, взаимодействие в гетерогенных средах и поддержка тонких мобильных клиентов - 
вот основные практические плюсы, которые получает СУБД, если умеет общаться на языке XML.<br>
Кроме того, XML представляет собой одно из наиболее заманчивых направлений эволюции СУБД. Допустим 
на минуту, что наряду с реляционным механизмом в SQL Server появился встроенный XMLный движок, так что 
тип данных XML является для него теперь родным. Представим также, что SQL Server является полноценным 
.NET-сервером, т.е. программировать на стороне сервера можно не только на Т-SQL, но и на любом CLR-языке. 
Тогда любой класс .NET Framework можно не только выразить при помощи XML, но и хранить и обрабатывать 
средствами SQL Server. Что означает, ни много, ни мало, что из чистой РСУБД, каковой он является на данный 
момент, SQL Server плавно превращается в объектную. А это означает, в свою очередь, что все  многообразие 
не реляционных структур и хранилищ, представленных нынче в семействе Windows (WebStore, файловая система, 
Active Directory и т.д.) элегантно сводится к единой системе обработки и хранения. Поскольку пока еще рано 
предметно говорить о функциональности MS SQL Server "Yukon", все это, естественно, мои личные фантазии. 
Делать будущее гораздо интереснее, чем о нем гадать. Давайте вернемся к тому, что мы имеем в плане 
поддержки XML на сегодня.<br>
Второй вопрос: о чем конкретно будет говориться в этом материале. Как SQL Server, так и XML - вещи, 
достаточно необъятные. Я поставил себя на место прикладного разработчика, который, наслушавшись про 
XML, решил, наконец, попробовать его в своем клиент-серверном приложении. В принципе, вся необходимая 
информация для этого есть, но она разбросана: Books-On-Line к SQL Server, хелпы к SQLXML 3.0, безбрежная 
MSDN Library, наша и зарубежная программерская периодика, дискуссии на разработческих сайтах и т.д. Я 
просто попытался превратить разрозненные куски в более или менее целостное повествование, выкидывая то, 
что мне никогда не пригождалось на практике, и останавливаясь на тех вещах, которые на самом деле нужны, 
но в документации описаны недостаточно подробно. В процессе копания случалось наступать на грабли, 
которые самому обойти не получалось. Тогда я обращался за помощью к интернациональному сообществу 
разработчиков Microsoft и сейчас хотел бы сказать спасибо товарищам Ramakrishna Pamulapati, Matt Neerincx, 
Kyoko Shikamata и Dion Houston, чьи советы мне здорово помогли. Таким образом, несмотря на то, что 
добавленная мной стоимость ограничивается компиляцией различных источников, сведением мыслей воедино 
и расстановкой акцентов, я считаю написание данного материала оправданным. Надеюсь, что он будет 
способствовать увеличению читательских знаний и умений, а не только энтропии Вселенной. <br>
И еще пара соглашений. Я не собираюсь публиковать этот текст в бумажных средствах массовой информации, 
поэтому не будем заранее планировать объем и пытаться выполнить пятилетку за два дня и угадать мелодию с 
одной ноты. Считаем, что объем ограничен моим и вашим временем и терпением. По этой же причине я сначала 
буду следить за техническим содержанием, а уже потом за чистотой языка и стиля. При самом уважительном 
отношении к русскому языку, я не считаю криминалом использовать сленг и жаргонизмы в профессиональной 
беседе, каковой является наше с вами общение. Они позволяют более точно и быстро донести смысл.</p>

<p>
<A HREF="#0"><i>[Содержание]</i></A></p>
<p>

</DIV>
<TD>
<TR>
</TABLE>
<TABLE BORDER=0 WIDTH=100% bgcolor=#DDDDDD><TR VALIGN=top bgcolor=#DDDDDD>
<TD ALIGN=LEFT><B>
<A HREF="index.shtml">XML в MS SQL Server 2000 и технологиях доступа к данным</A> | <b>Введение
</B>
</TD>
<TD ALIGN=RIGHT><B>
<A HREF="02.shtml" CLASS="lblue"><b>Дальше &raquo;</B></A>
</TD>
</TR>
</TABLE>
</TD></TR>
<TR BGCOLOR=#6699CC><TD><TABLE WIDTH=100% BORDER=0 CELLSPACING=0 CELLPADDING=0><TR><TD BGCOLOR=#6699CC VALIGN=CENTER HEIGHT = 40><FONT SIZE=-10>
<!-- begin of Rambler's Top100 code -->
<img src="../../../../../counter.rambler.ru/top100.cnt@236431" alt="" width="1" height="1" border="0" />
<!--end of Top100 code-->
<TABLE WIDTH=100% CELLPADDING=0 CELLSPACING=0 BORDER=0 CLASS="tableborder"><TR BGCOLOR="#6699CC"><TD>
<!-- begin of Top100 logo -->
<a href="../../../../../top100.rambler.ru/home@id=236431">
<img src="../../../../../top100-images.rambler.ru/top100/banner-88x31-rambler-gray2.gif" alt="Rambler's Top100"
width="88" height="31" border="0" /></a>
<!-- end of Top100 logo -->
</FONT>
<!--Rating@Mail.ru COUNTER--><a target=_top
href="../../../../../top.mail.ru/jump@from=58574"><img
src="../../../../../top.list.ru/counter@id=58574;t=94"
border=0 height=18 width=88
alt="Рейтинг@Mail.ru"></a><!--/COUNTER-->
<!-- Yandex.Metrika counter --><!--ipt type="text/javascript">(function (d, w, c) { (w[c] = w[c] || []).push(function() { try { w.yaCounter9237463 = new Ya.Metrika({id:9237463, trackLinks:true, accurateTrackBounce:true}); } catch(e) { } }); var n = d.getElementsByTagName("script")[0], s = d.createElement("script"), f = function () { n.parentNode.insertBefore(s, n); }; s.type = "text/javascript"; s.async = true; s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js"; if (w.opera == "[object Opera]") { d.addEventListener("DOMContentLoaded", f, false); } else { f(); } })(document, window, "yandex_metrika_callbacks");</scri--><noscript><div><img src="../../../../../https@mc.yandex.ru/watch/9237463" style="position:absolute; left:-9999px;" alt="" /></div></noscript><!-- /Yandex.Metrika counter -->
</TD>
<TD BGCOLOR=#6699CC ALIGN=right><FONT COLOR=white FACE="Tahoma,Arial" SIZE=1>&nbsp;Administrator:&nbsp;<A STYLE="color :white" HREF="../../../../../www.sql.ru/feedback.aspx">Обратная связь</A>&nbsp;<BR>Copyright: <FONT COLOR=white>SQL.Ru  2000-2013&nbsp;</FONT></FONT></TD></TR></TABLE>
</TD></TR></TABLE></TD></TR></TABLE>

</BODY></HTML>
