https://www.intuit.ru/studies/professional_skill_improvements/2023/courses/487/info

# Содержание

1. Архитектура, назначение и функции 4
операционных систем
2. Основные семейства операционных систем 66
3. Стандарты и лицензии на программное
обеспечение 102
4. Интерфейсы операционных систем 116
5. Организация вычислительного процесса 143
6. Управление памятью. Методы, алгоритмы и
средства 215
7. Подсистема ввода-вывода. Файловые системы 264
8. Основные события в истории семейства
UNIX/Linux 337
9. Первенство технологических достижений
двух основных версий UNIX 345

## Архитектура, назначение и функции операционных систем

Понятие операционной системы. Виртуальные машины. Операционнаясистема, среда и операционная оболочка. Эволюция операционныхсистем. Назначение, состав и функции ОС. Архитектура операционной системы. Классификация операционных систем. Эффективность итребования, предъявляемые к ОС. Совместимость и множественныеприкладные среды. Виртуальные машины как современный подход креализации множественных прикладных сред. Эффекты виртуализации

### 1.1. Понятие операционной системы. Виртуальные машины

Компьютерпонимает только свой, машинный язык (назовем его **Я0**)

новые команды в совокупности формируют некоторый язык, которыйназовем **Я1**

Первый способ – замена каждой команды языка Я1 наэквивалентный набор команд в языке Я0. В этом случае компьютервыполняет новую программу, написанную на языке Я0, вместопрограммы, написанной на языке Я1. Эта технология называется **трансляцией**

Второй способ – написание программы на языке Я0, которая беретпрограммы, написанные на языке Я1, в качестве входных данных,рассматривает каждую команду по очереди и сразу выполняет эквивалентный набор команд языка Я0. Эта технология не требуетсоставления новой программы на Я0. Она называется интерпретацией,а программа, которая осуществляет **интерпретацию**, называется интерпретатором

В подобной ситуации проще представить себе существованиегипотетического компьютера или виртуальной машины, для котороймашинным языком является язык Я1, чем думать о трансляции иинтерпретации. Назовем такую виртуальную машину М1, авиртуальную машину с языком Я0 – М0. Для виртуальных машинможно будет писать программы, как будто они (машины) действительносуществуют.

Очевидно, можно пойти дальше – создать еще набор команд, который вбольшей степени ориентирован на человека и в меньшей степени накомпьютер, чем Я1. Этот набор формирует язык Я2 и, соответственно,виртуальную машину М2. Так можно продолжать до тех пор, пока недойдем до подходящего нам языка уровня n.

Большинство современных компьютеров состоит из двух и болееуровней. **Уровень 0** – аппаратное обеспечение машины. Электронныесхемы этого уровня выполняют программы, написанные на языке **уровня 1**. Следующий уровень – микроархитектурный уровень.

На этом уровне можно видеть совокупности 8 или 32 (иногда и больше)регистров, которые формируют локальную память и АЛУ (арифметико-логическое устройство). Регистры вместе с АЛУ формируют трактданных, по которому поступают данные. Основная операция этоготракта заключается в следующем. Выбирается один или два **регистра**,АЛУ производит над ними какую-то **операцию**, а результат помещаетсяв один из этих регистров. На некоторых машинах работа трактаконтролируется особой программой, которая называетсямикропрограммой. В других машинах такой контроль выполняетсяаппаратным обеспечением.

Следующий (**второй**) уровень составляет уровень архитектуры системыкоманд. Команды используют регистры и другие возможностиаппаратуры. Команды формируют уровень ISA (Instruction SetArchitecture), называемый машинным языком. Обычно машинный языксодержит от 50 до 300 команд, служащих преимущественно для перемещения данных по компьютеру, выполнения арифметическихопераций и сравнения величин.

Следующий (**третий**) уровень обычно – гибридный. Большинствокоманд в его языке есть также и на уровне архитектуры системы команд.У этого уровня есть некоторые дополнительные особенности: наборновых команд, другая организация памяти, способность выполнять двеи более программы одновременно и некоторые другие. С течениемвремени набор таких команд существенно расширился. В нем появилисьтак называемые макросы операционной системы или вызовысупервизора, называемые теперь системными вызовами.

Новые средства, появившиеся на **третьем уровне**, выполняютсяинтерпретатором, который работает на втором уровне. Этотинтерпретатор был когда-то назван операционной системой. Командытретьего уровня, идентичные командам второго уровня, выполняютсямикропрограммой или аппаратным обеспечением, но не операционнойсистемой. Иными словами, одна часть команд третьего уровняинтерпретируется операционной системой, а другая часть –микропрограммой. Вот почему этот уровень операционной системысчитается гибридным.

Операционная система была создана для того, чтобы автоматизироватьработу оператора и скрыть от пользователя сложности общения саппаратурой, предоставив ему более удобную систему команд. Нижниетри уровня (с нулевого по второй) конструируются не для того, чтобы сними работал обычный программист. Они изначально предназначеныдля работы интерпретаторов и трансляторов, поддерживающих болеевысокие уровни. Эти трансляторы и интерпретаторы составляютсясистемными программистами, которые специализируются наразработке и построении новых виртуальных машин.

Над операционной системой (ОС) расположены остальные системные
программы. Здесь находятся интерпретатор команд (оболочка),
компиляторы, редакторы и т.д. Подобные программы не являются
частью ОС (иногда оболочку пользователи считают операционной
системой). Под операционной системой обычно понимается то
программное обеспечение, которое запускается в режиме ядра или, как
еще его называют, режиме супервизора. Она защищена от вмешательства пользователя с помощью специальных аппаратных
средств.

**Четвертый** уровень представляет собой символическую qюрму одного
из языков низкого уровня ( обычно **ассемблер**). На этом уровне можно
писать программы в приемлемой для человека qюрме. Эти программы
сначала транслируются на язык уровня 1, 2 или 3, а затем
интерпретируются соответствующей виртуальной или факгически
существующей (физической) мalllliнoй.

Уровни с **пятого** и **выше** предназначены для прикладных
программистов, решающих конкретные задачи на языках высокого
уровня (С, С ++, С#, VВА и др.) . Компиляторы и редакторы этих
уровней запускаются в пользовательском режиме . На еще более высоких
уровнях располагаются прикладные программы пользователей.

Однако концепция, рассматривающзя операционную систему прежде
всего как **удобный интерфейс пользователя**, - это взгляд сверху вниз .
Альтернативный взгляд, снизу вверх, дает представление об
операционной системе как о механизме, присугствующем в компьютере
для **управления всеми компонентами** этой сложнейшей системы. В соотв етствии
заЮiючается в
с этим подходом работа операционной системы
обеспечении организованного и контролируемого
распределения процессоров, памяти, дисков, принтеров, устройств
ввода-вывода, датчиков времени и т.п. между различными
программами, конкурирующими за право их использовать.

### 1.2. Операционная система, среда и операционная оболочка

В конце 50-х годов проштюго века ведуrцие фирмы изготовители
поставляли операционные системы со следующими характеристиками:
* • пакетная обработка одного потока задач;
* • наличие стандартных программ ввода-вывода;
* • возможности автоматического перехода от программы к
программе;
* • средства восстановления после ошибок, обеспечивающие автоматическую "очистку" компьютера в случае аварийного
завершения очередной задачи и позволяющие запускать
следующую задачу при минимальном вмешательстве оператора;
* • языки управления заданиями, предоставляющие пользователям
возможность описывать свои задания и ресурсы, требуемые для
их выполнения.

Расположение операционной системы в иерархической структуре
программного и аппаратного обеспечения компьютера можно
представить, как показано на рис. 1.1.

![](_src/1.png)

* Самый нижний уровень содержит различные устройства компьютера,
состоящие из микросхем, проводников, источников питания,
электронно-лучевых трубок и т.п. Этот уровень можно разделить на
подуровни, например контроллеры устройств, а затем сами устройства.
Возможно деление и на большее число уровней. Выше расположен
микроархитектурный уровень, на котором физические устройства
рассматриваются как отдельные функциональные единицы.
* На микроархитектурном уровне находятся внутренние регистры
центрального процессора (их может быть несколько) и ариqметикологические
устройства со средствами управления ими. На этом уровне
реализуется выполнение машинных команд. В процессе выполнения
команд используются регистры процессора и устройств, а также другие
возможности аппаратуры. Команды, видимые для работающего на
ассемблере программиста, qюрмируют уровень ISA (Instruction Set
Aгcbltecture - архитектура системы команд), часто называемый
машинным языком.
* Операционная система предназначена для того, чтобы скрыть все эти
сложности. Конечный пользователь обычно не интересуется деталями
устройства аппаратного обеспечения компьютера. Компьютер ему
видится как набор приложений. Приложение может быть написано
программистом на каком-либо языке программирования. Для
упрощения этой работы программист использует набор системных
программ, некоторые из которых называются утилитами. С их помощью
реализуются часто используемые функции, которые помогают работать
с файлами, управлять устройствами ввода-вывода и т.п. Программист
применяет эти средства при разработке программ, а приложения во
время выполнения обращаются к утилитам для выполнения
определенных функций. Наиболее важной из системных программ
является операционная система, которая освобождает программиста от
необходимости глубокого знания устройства компьютера и представляет
ему У,Цобный интерфейс для его использования. Операционная система
выступает в роли посредника, облегчая программисту, пользователям и
программным приложениям доступ к различным службам и
возможностям компьютера [lQ].

### 1.3. Эволюция операционных систем

Одной из первых ОС, использующих эти новейlШlе решения, была
операционная система МСР (главная управляющая программа),
созданная фирмой Bшroughs для своих компьютеров В5000 в 1963 году.
В этой ОС были реализованы многие концепции и идеи, став1Ш1е
впоследствии стандартными для многих операционных систем:

* • мультипрограммирование;
* • мультипроцессорная обработка;
* • виртуальная память;
* • возможность отладки программ на исходном языке;
* • написание операционной системы на языке высокого уровня.

Одним из важнейll.IИХ событий в истории операционных систем
считается появление в 1964 году семейства компьютеров под названием
System'360 фирмы IВМ, а позже - System'370 [ll]. Это было первой в
мире реализацией концепции семейства программно и информационно
совместимых компьютеров, ставшей впоследствии стандартной для
всех фирм компьютерной отрасли .

Нужно отметить, что основной формой использования ЭВМ, как в
системах разделения времени, так и в системах пакетной обработки,
стал многотерминальный режим. При этом не только оператор, но и все
пользователи получали возможность формулировать свои задания и
управлять их выполнением со своего терминала. Поскольку
терминальные комплексы скоро стало возможным размещать на
значительных расстояниях от компьютера (благодаря модемным
телефонным соединениям), появились системы удаленного ввода
заданий и телеобработки данных. В ОС добавились модули,
реализующие **протоколы связи** [10, 13].

Важной вехой в истории мини-компьютеров и вообще в истории
операционных систем явилось создание ОС UNIX. Написал эту систему
Кен Томпсон (Ken Thompson), один из специалистов по компьютерам в
BELL Labs, работавший над проектом МИПСS. Собственно, его **UNIX**
 это усеченная однопользовательская версия системы MULПCS.
Первоначальное название этой системы - UNICS (UNiplexed lnformation
and Computing Service - примитивная информационная и компьютерная
служба). Так в шутку была названа эта система, поскольку MULTICS
(MUL1iplexed Information and Computing Service) - мультиплексная
информационная и компьютерная служба. С середины 70-х годов
началось массовое использование ОС UNIX, написанной на 90% на
языке С. lllиpoкoe распространение С-компиляторов сделало UNIX
уникальной переносимой ОС, а поскольку она поставлялась вместе с
исходными кодами, она стала первой открытой операционной
системой. Гибкость, элегантность, мощные функциональные
возможности и открытость позволили ей занять прочные позиции во
всех классах компьютеров - от персональных до супер-ЭВМ.

Дальнейшее развитие сетевых систем со стеком протоколов **TCP/IP**: в
1983 году он был принят МО CIIIA в качестве стандарта и использован
в сети ARPANEТ. В этом же году ARPANET разделилась на MILNET (для
17
Назаров С.В ., Широков А.И. Современные операционные с1ктемы
военного ведомства CIIIA) и новую ARPANET, которую стали называть
Intemet.

Еще одним знаменательным событием для истории операционных
систем было появление в начале 80-х годов персональных
компьютеров . Они послужили мощным толчком для распределения
локальных сетей, в результате поддержка сетевых функций стала для ОС
ПК необходимым условием. Однако и дружественный интер~йс, и
сетевые функции появились у ОС ПК не сразу [13].

Наиболее популярной версией ОС раннего этапа развития
персональных компьютеров была **MS-DOS** компании Мicrosoft -
однопрограммная, однопользовательская ОС с интер~йсом командной
строки. Многие функции, обеспечивающие удобство работы
пользователю, в этой ОС предоставлялись дополнительными
программами - оболочкой N orton Cornmander, РС Too1s и др. Наибольшее
влияние на развитие программного обеспечения ПК оказала
операционная среда Wmdows, первая версия которой появилась в 1985
году. Сетевые функции также реализовались с помощью сетевых
оболочек и появились в MS-DOS версии 3.1. В это же время появились
сетевые продукты Мicrosoft - MS-NET, а позже - LAN Manager, Windows
for Woгkgroup, а затем и Windows NТ.

Другим пугем попиа компания N ovell: ее продукг **NetWare** -
операционная система со встроенными сетевыми функциями. ОС
NetWare распространялась как операционная система для центральн ого
сервера локальной сети и за счет специализации функций файл-сервера
обеспечивала высокую скорость удаленного доступа к файлам и
повышенную безопасность данных. Одн ако эта ОС имела
специф,lческий программный интер~йс (API), что затрудняло
разработку приложений.

В 1987 году появилась первая **многозадачная ОС для ПК - OS/2**,
разработанная Мicrosoft совместно с IВМ. Эта была хорошо
продуманная система с виртуальной памятью, граф,lческим интер~йсом и возможностью выполнять DОS-приложения. Для нее
были созданы и получили распространение сетевые оболочки LAN
Manager (Мicrosoft:) и LAN Seiver (IВМ). Эти оболочки уступали по
производительности файловому серверу N etWare и потребляли больше
аппаратных ресурсов, но имели важные достоинства. Они позволяли
выполнять на сервере любые программы, разработанные для OS/2, MSDOS
и Windows, кроме того, можно было использовать компьютер, на
котором они работали, в качестве рабочей станции. Неудачная
рыночная судьба OS/2 не позволила системам LAN-Manager и LANSeiver
захватить заметную долю рынка, но принципы работы этих
сетевых систем во многом нашли свое воплощение в ОС 90-х годов -
MS Windows NТ.

### 1.4. Назначение состав и функции ОС 20

#### Назначение операционных систем
 можно разделить на четыре основные
составляющие [5, 10, 13.].

##### 1. Организация (обеспечение) удобного интерфейса между
приложениями и пользователями, с одной стороны, и аппаратурой
компьютера - с другой.

   1. **Разработка программ**: 
   ОС представляет программисту
разнообразные инструменты разработки приложений: редакторы,
отладчики и т.п .
    2. **Исполнение программ**. Для запуска программы нужно выполнить
ряд действий: загрузить в основную память программу и данные,инициализировать устройства ввода-вывода и файлы,
подготовить другие ресурсы. ОС выполняет всю эту рутинную
работу вместо пользователя.
    3. **Доступ к устройствам ввода-вывода**. Для управления каждым
устройством используется свой набор команд. ОС предоставляет
пользователю единообразный интерфейс, который скрывает все
эти детали и обеспечивает программисту доступ к устройствам
ввода-вывода с помощью простых команд чтения и записи .
    4. **Контролируемый доступ к файлам**. При работе с файлами
управление со стороны ОС предполагает не только глубокий учет
природы устройства ввода-вывода, но и знание структур данных,
записанных в файлах. Многопользовательские ОС, кроме того,
обеспечивают механизм защиты при обращении к файлам.
    5. **Системный доступ** . ОС управляет доступом к совместно
используемой или общедоступной вычислительной системе в
целом, а также к отдельным системным ресурсам. Она
обеспечивает защиту ресурсов и данных от
несанкционированного использования и разрешает конфликтные
ситуации.
    6. **Обнаружение ошибок и их обработка**. При работе компьютерной
системы могут происходить разнообразные сбои за счет
внутренних и внешних ошибок в аппаратном обеспечении,
различного рода программных ошибок (переполнение, попытка
обращения к ячейке памяти, доступ к которой запрещен и др.). В
каждом случае ОС выполняет действия, минимизирующие
влияние ошибки на работу приложения (от простого сообщения
об ошибке до аварийной остановки программы).
    7. **Учет использования ресурсов**. Хорошая ОС имеет средства учета
использования различных ресурсов и отображения параметров
производительности вычислительной системы. Эта информация
важна для настройки (оптимизации) вычислительной системы с
целью повышения ее производительности.

В результате реальная машина, способная выполнить только небольшой
набор элементарных действий (машинных команд), с помощью
операционной системы превращается в виртуальную машину,
выполняющую широкий набор гораздо более мощных фующий.
Виртуальная машина тоже управляется командами, но уже командами
более высокого уровня, например: удалить файл с определенным
именем, запустить на выполнение прикладную программу, повысить
приоритет задачи, вывести текст файла на печать и т.д. Таким образом,
назначение ОС состоит в предоставлении пользователю
(программисту) некоторой **расширенной виртуальной машины**, которую
легче программировать и с которой легче работать, чем
непосредственно с аппаратурой, составляющей реальный компьютер,
систему или сеть.

##### 2. Организация эффективного использования ресурсов компьютера. ОС
не только представляет пользователям и программистам удобный
интерфейс к аппаратным средствам компьютера, но и является
своеобразным диспетчером ресурсов компьютера.

> В отличие от программы, которая является статическим
объектом, выполняемая программа - это динамический объект, он
называется процессом и является базовым понятием современных ОС.

###### Управление ресурсами 
включает решение ряда общих, не зависящих от
типа ресурса задач:

1. планирование ресурса - определение, какому процессу, когда и в
каком качестве (если ресурс может выделяться частями) следует
выделить данный ресурс;
2. удовлетворение запросов на ресурсы - выделение ресурса
процессам;
3. отслеживание состояния и учет использования ресурса
поддержание оперативной инqюрмации о занятости ресурса и
распределенной его доли;
4. разрешение конфликтов между процессами, претендующими на
один и тот же ресурс.

##### 3. Облегчение процессов эксплуатации аппаратных и программных
средств вычислительной системы. Ряд операционных систем имеет в
своем составе наборы служебных программ, обеспечивающие
резервное копирование, архивацию данных, проверку, очистку и
де@аrментацию дисковых устройств и др.
Кроме того, современные ОС имеют достаточно большой набор
средств и способов диагностики и восстановления работоспособности
системы . Сюда относятся:

* • диагностические программы для выявления ошибок в
конфигурации ОС;
* • средства восстановления последней работоспособной
конфигурации;
* • средства восстановления поврежденных и пропавших системных
файлов и др.

##### 4. Возможность развития. Современные ОС организуются таким
образом, что допускают эwктивную разработку, тестирование и
внедрение новых системных функций, не прерывая процесса
нормального функционирования вычислительной системы.
Больпrn:нство операционных систем постоянно развиваются (нагляден
пример Windows). Происходит это в силу следующих причин.

###### 1. Обновление 
и возникновение новых видов аппаратного
обеспечения. Например, ранние версии ОС UNIX и OS/2 не
использовали механизмы страничной организации памяти (что
это такое, мы рассмотрим позже), потому, что они работали на
мапrn:нах, не обеспеченных соответствующими аппаратными
средствами.
###### 2. Новые сервисы. 
Для удовлетворения пользователей или нужд
системных администраторов ОС должны постоянно
предоставлять новые возможности. Например, может
потребоваться добавить новые инструменты для контроля или
оценки производительности, новые средства ввода-вывода
данных (речевой ввод). Другой пример - поддержка новых
приложений, использующих окна на экране дисплея.
###### 3. Исправления. 
В каждой ОС есть опrn:бки. Время от времени они
обнаруживаются и исправляются. Отсюда постоянные появления
новых версий и редакций ОС. Необходимость регулярных
изменений накладывает определенные требования на
организацию операционных систем. Очевидно, что эти системы
(как, впрочем, и другие сложные программы системы) должны
иметь модульную структуру с четко определенными
межмодульными связями (интерфейсами). Важную роль играет
хорошая и полная документированность системы.

###### Управление процессами.
Подсистема управления процессами
непосредственно влияет на фующионирование вычислительной
системы. Для каждой выполняемой программы ОС организует один
или более процессов. Каждый такой процесс представляется в ОС
информационной структурой (таблицей, дескриптором, контекстом
процессора), содержащей данные о потребностях процесса в ресурсах, а
также о фактически выделенных ему ресурсах (область оперативной
памяти, количество процессорного времени, файлы, устройства вводавывода
и др.). Кроме того, в этой информационной структуре хранятся
данные, характеризующие историю пребывания процесса в системе:
текущее состояние (активное или заблокированное), приоритет,
состояние регистров, программного счетчика и др.

В современных мультипрограммных ОС может существовать
одновременно несколько процессов, порожденных по инициативе
пользователей и их приложений, а также инициированных ОС для
выполнения своих функций (системные процессы). Поскольку
процессы могуг одновременно претендовать на одни и те же ресурсы,
подсистема управления процессами планирует очередность
выполнения процессов, обеспечивает их необходимыми ресурсами,
обеспечивает взаимодействие и синхронизацию процессов.

###### Управление памятью.
Подсистема управления памятью производит
распределение физической памяти между всеми существующими в
системе процессами, загрузку и удаление программных кодов и данных
процессов в отведенные им области памяти, настройку адреснозависимых
частей кодов процесса на физические адреса выделенной
области, а также защиту областей памяти каждого процесса. Стратегия
управления памятью складывается из стратегий выборки , размещения и
замещения блока программы или данных в основной памяти .
Соответственно используются различные алгоритмы, определяющие,
когда загрузить очередной блок в память (по запросу или с
упреждением), в какое место памяти его поместить и какой блок программы или данных удалить из основной памяти, чтобы освободить
место для размещения новых блоков.
Одним из наиболее популярных способов управления памятью в
современных ОС является виртуальная память. Реализация механизма
виртуальной памяти позволяет программисту считать, что в его
распоряжении имеется однородная оперативная память, объем которой
ограничивается только возможностями адресации, предоставляемыми
системой программирования.

###### защита памяти.
Важная функция управления памятью - защита памяти. Нарушения
защиты памяти связаны с обращениями процессов к участкам памяти,
выделенной другим процессам прикладных программ или программ
самой ОС. Средства защиты памяти должны пресекать такие попытки
доступа путем аварийного завершения программы-нарушителя.

###### Управление файлами.
Функции управления файлами сосредоточены в
файловой системе ОС. Операционная система виртуализирует
отдельный набор данных, хранящихся на внеumем накопителе, в виде
файла - простой неструктурированной последовательности байтов ,
имеющих символьное имя. Для удобства работы с данными файлы
группируются в каталоги, которые, в свою очередь, образуют группы -
каталоги более высокого уровня. Файловая система преобразует
символьные имена файлов, с которыми работает пользователь или
программист, в физические адреса данных на дисках, организует
совместный доступ к файлам, защищает их от несанкционированного
доступа.

###### Управление внеumими устройствами.
Функции управления внеumими
устройствами возлагаются на подсистему управления внеumими
устройствами, называемую также подсистемой ввода-вывода. Она
является интер~йсом между ядром компьютера и всеми
подключенными к нему устройствами. Спектр этих устройств очень
обширен (принтеры, сканеры, мониторы, модемы, манипуляторы,
сетевые адаптеры, АЦП разного рода и др.), сотни моделей этих
устройств отличаются набором и последовательностью команд,
используемых для обмена информацией с процессором и другими
деталями.

Программа, управляющая конкретной моделью внеumего устройства и учитывающая все его особенности, называется **драйвером**. Наличие
большого количества подходящих драйверов во многом определяет
успех ОС на рынке. Созданием драйверов занимаются как разработчики
ОС, так и компании, выпускающие внешние устройства. ОС должна
поддерживать четко определенный интерфейс между драйверами и
остальными частями ОС. Тогда разработчики компанийпроизводителей
устройств ввода-вывода могуг поставлять вместе со
своими устройствами драйверы для конкретной операционной
системы.

###### Защита данных и администрирование. 
Безопасность данных
вычислительной системы обеспечивается средствами
отказоустойчивости ОС, направленными на защиту от сбоев и отказов
аппаратуры и ошибок программного обеспечения, а также средствами
защиты от несанкционированного доступа. Для каждого пользователя
системы обязательна процедура логического входа, в процессе которой
ОС убеждается, что в систему входит пользователь, разрешенный
административной службой. Администратор вычислительной системы
определяет и ограничивает возможности пользователей в выполнении
тех или иных действий, т.е. определяет их права по обращению и
использованию ресурсов системы.

###### Пользовательский интерфейс.
ОС обеспечивает w:r;обный интерфейс не
только для прикладных программ, но и для пользователя
(программиста, администратора). В ранних ОС интерфейс сводился к
языку управления заданиями и не требовал терминала. Команды языка
управления заданиями набивались на перфокарты, а результаты
выполнения задания выводились на печатающее устройство.

###### Shell 
Вычислительные системы,
например UNIХ-системы,
управляемые из командной строки,
имеют командный интерпретатор, называемый оболочкой (Shell). Она, собственно, не входит в состав ОС,
но пользуется многими фующиями операционной системы . Когда
какой-либо пользователь входит в систему, запускается оболочка.
Стандартным терминалом для нее является монитор с клавиатурой.
Оболочка начинает работу с печати приглашения (prompt) - знака
доллара (или иного знака), говорящего пользователю, что оболочка
ожидает ввода команды (аналогично управляется MS-DOS). Если
теперь пользователь напечатает какую-либо команду, оболочка создает
системный вызов и ОС выполнит эту команду. После завершения
оболочка опять печатает приглашение и пытается прочесть следующую
входную строку.
Ввод команд может быть упрощен, если операционная система
поддерживает графический пользовательский интерфейс. В этом случае
пользователь выбирает на экране нужный пункт меню или графический
символ (так это происходит, например, в ОС Windows).

### 1.5. Архитектура операционной системы 27

> Под архитектурой операционной системы понимают структурную и
функциональную организацию ОС на основе некоторой совокупности
программных модулей. В состав ОС входят исполняемые и объектные
модули стандартных для данной ОС форматов , программные модули
специального формата (например, загрузчик ОС, драйверы вводавывода),
конф,tгурационные файлы, файлы документации, модули
справочной системы и т.д.

Большинство современных ОС представляют собой хорошо
структурированные мо,цульные системы, способные к развитию,
расширению и переносу на новые платформы. Какой-либо единой
унифщированной архитектуры ОС не существует, но известны
универсальные подходы к структурированию ОС. Принципиально
важными универсальными подходами к разработке архитектуры ОС
являются[~, 10, 13, 17]:

#### универсальными подходами к разработке архитектуры ОС

* • модульная организация;
* • функциональная избыточность;
* • функциональная избирательность;
* • параметрическая универсальность;
* • концепция многоуровневой иерархической вычислительной
системы, по которой ОС представляется многослойной
структурой;
* • разделение модулей на две группы по функциям: ядро - мо,цули,
выполняющие основные функции ОС, и модули, выполняющие
вспомогательные функции ОС;
* • разделение модулей ОС на две группы по размещению в памяти
вычислительной системы: резидентные, постоянно находящиеся в
оперативной памяти, и транзитные, загружаемые в оперативную
память только на время выполнения своих функций;
* • реализация двух режимов работы вычислительной системы:
привилегированного режима (режима ядра - Kemel пюdе), или
режима супервизора (supervisor пюdе), и пользовательского
режима (user пюdе), или режима задачи (task пюdе);
* • ограничение функций ядра (а следовательно, и количества
модулей ядра) до минимального количества необходимых самых
важных функций.

#### монолитные системы

Для построения монолитной системы необходимо скомпилировать все
отдельные процедуры, а затем связать их вместе в единый объектный
файл с помощью компоновщика (примерами могут служить ранние
версии ядра UNIX или Novell NetWare). Каждая процедура видит любую
другую процедуру (в отличие от структуры, содержащей модули, в
которой большая часть информации является локальной для модуля, и
процедуры модуля можно вызвать только через специально
определенные точки входа) .

![](_src/2.png)

Такая организация ОС предполагает следующую структуру [13]:
* • главная программа, которая вызывает требуемые сервисные
процедуры;
* • набор сервисных процедур, реализующих системные вызовы;
* • набор утилит, обслуживающих сервисные процедуры.

#### Классической считается
архитектура ОС, основанная на концепции
иерархической многоуровневой машины, привилегированном ядре и
пользовательском режиме работы транзитных модулей. Модули ядра
выполняют базовые функции ОС: управление процессами, памятью,
устройствами ввода-вывода и т.п . Ядро составляет сердцевину ОС, без
которой она является полностью неработоспособной и не может
выполнить ни одну из своих функций. В ядре решаются
внутрисистемные задачи организации вычислительного процесса,
недоступные для приложения.

![](_src/3.png)

#### прикладную программную среду

Особый класс функций ядра служит для поддержки приложений,
создавая для них так называемую прикладную программную среду.
Приложения могут обращаться к ядру с запросами - системными
вызовами - для выполнения тех или иных действий, например,
открытие и чтение файла, получение системного времени, вывода
инф:>рмации на дисплей и т.д. Функции ядра, которые могут
вызываться приложениями, образуют интерфейс прикладного
программирования - API (Application Programning Interface).
#### Kernel mode
Для обеспечения высокой скорости работы ОС модули ядра (п о крайней
мере, большая их часть) являются резидентными и работают в
привилегированном режиме (Kernel nюde). Этот режим, 
* во-первых,
должен обезопасить работу самой ОС от вмешательства приложений, и, 
* во-вторых, должен обеспечить возможность работы модулей ядра с
полным набором машинных инструкций, позволяющих собственно
ядру выполнять управление ресурсами компьютера, в частности,
переключение процессора с задачи на задачу, управлением
устройствами ввода-вывода, распределением и защитой памяти и др.

#### Вспомогательные модули
обычно подразделяются на группы:
* • угилиты программы, выполняющие отдельные задачи
управления и сопровождения вычислительной системы;
* • системные обрабатывающие программы текстовые и
графические редакторы (Pamt, Imaging в Windows 2000),
компиляторы и др.;
* • программы предоставления пользователю дополнительных услуг
( специальный вариант пользовательского интерфейса,
калькулятор, игры, средства мультимедиа Windows 2000);
* • библиотеки процедур различного назначения, упрощения
разработки приложений, например, библиотека функций вводавывода,
библиотека математических функций и т.п.

#### User mode

Эти модули ОС оформляются как обычные приложения, обращаются к
функциям ядра посредством системных вызовов и выполняются в
пользовательском режиме (нser пюdе). В этом режиме запрещается
выполнение некоторых команд, которые связаны с функциями ядра ОС
(управление ресурсами, распределение и защита памяти и т.п.).

#### В концепции многоуровневой (многослойной) иерархической машины
структура ОС также представляется рядом слоев. При такой
организации каждый слой обслуживает вышележащий слой, выполняя
для него некоторый набор функций, которые образуют межслойный
интерфейс . На основе этих функций следующий верхний по иерархии
слой строит свои функции - более сложные и более мощные и т.д. Такая
организация системы существенно упрощает ее разработку, т.к.
позволяет сначала "сверху вниз" определить функции слоев и межслойные интер~йсы, а при детальной реализации, двигаясь "снизу
вверх", - наращивать мощность функции слоев. Кроме того, модули
каждого слоя можно изменять без необходимости изменений в других
слоях (но не меняя межслойных интер~йсов!).

Многослойная структура ядра ОС может быть представлена, например,
вариантом, показанным на рис. 1.4.

![](_src/4.png)

##### 1. Средства аппаратной поддержки ОС.
Значительная часть функций
ОС может выполняться аппаратными средствами [1.Q]. Чисто
программные ОС сейчас не существуют. Как правило, в
современных системах всегда есть средства аппаратной
поддержки ОС, которые прямо участвуют в организации
вычислительных процессов. К ним относятся: система
прерываний, средства поддержки привилегированного режима,
средства поддержки виртуальной памяти, системный таймер средства переключения контексrов процессов (инф:>рмация о
состоянии процесса в момент его приостановки), средства
защиты памяти и др.
##### 2. Машинно-зависимые модули ОС.
Этот слой образует модули, в
которых отражается специфика аппаратной платф:>рмы
компьютера. Назначение этого слоя "экранирование"
вышележащих слоев ОС от особенносrей аппаратуры (например,
Windows 2000 - это слой НАL (Hardwaгe Abstгaction Lауег), уровень
аппаратных абстракций).
##### 3. Базовые механизмы ядра .
Этот слой модулей выполняет наиболее
примитивные операции ядра: программное переключение
контекстов процессов, диспетчерскую прерываний, перемещение
страниц между основной памятью и диском и т.п. Модули этого
слоя не принимают решений о распределении ресурсов, а только
обрабатывают решения, принятые модулями вышележащих
уровней. Поэтому их часто называют исполнительными
механизмами для модулей верхних слоев ОС.
##### 4. Менеджеры ресурсов .
Модули этого слоя выполняют
стратегические задачи по управлению ресурсами вычислительной
системы. Это менеджеры (диспетчеры) процессов ввода-вывода,
оперативной памяти и файловой системы. Каждый менеджер
ведет учет свободных и используемых ресурсов и планирует их
распределение в соответствии запросами приложений.
##### 5. Интерфейс системных вызовов . 
Это верхний слой ядра ОС,
взаимодействующий с приложениями и системными утилитами,
он образует прикладной программный интерфейс ОС. Функции
API, обслуживающие системные вызовы, предоставляют доступ к
ресурсам системы в у,цобной компактной ф:>рме, без указания
деталей их физического расположения.
##### привилегированный режим
Повышение устойчивости ОС обеспечивается переходом ядра в
привилегированный режим. При этом происходит некоторое
замедление выполнения системных вызовов. Системный вызов
привилегированного ядра инициирует переключение процессора из
пользовательского режима в привилегированный, а при возврате к
приложению - обратное переключение. За счет этого возникает
дополнительная задержка в обработке системного вызова (рис. 1.5).
Однако такое решение стало классическим и используется во многих ОС
(UNIX, VAX, VМS, IВМ OS/390, OS/2 и др.).

![](_src/5.png)

##### не лишена своих проблем

Многослойная классическая многоуровневая архитекгура ОС не лишена
своих проблем. Дело в том, что значительные изменения одного из
уровней могуr иметь трудно предвидимое влияние на смежные уровни.
Кроме того, многочисленные взаимодействия меж,цу соседними
уровнями усложняют обеспечение безопасности. Поэтому, как
альтернатива классическому варианту архитекгуры ОС, часто
используется микроядерная архитекгура ОС.


#### микроядерная архитекгура ОС

Суть этой архитекгуры состоит в следующем. В привилегированном
режиме остается работать только очень небольшая часть ОС,
называемая микроядром. Микроядро защищено от остальных частей ОС
и приложений. В его состав входят машинно-зависимые модули, а также
модули, выполняющие базовые механизмы обычного ядра. Все
остальные более высокоуровневые функции ядра оформляются как
модули, работающие в пользовательском режиме. Так, менеджеры
ресурсов, являющиеся неотъемлемой частью обычного ядра, становятся
"периферийными" модулями, работающими в пользовательском режиме.
Таким образом, в архитекгуре с микроядром традиционное
расположение уровней по вертикали заменяется горизонтальным. Это
можно представить, как показано на рис. 1.6.

Внешние по отношению к микроядру компоненты ОС реализуются как
обслуживающие процессы. Между собой они взаимодействуют как
равноправные партнеры с помощью обмена сообщениями, которые
передаются через микроядро. Поскольку назначением этих компонентов
ОС является обслуживание запросов приложений пользователей,
уrилит и системных обрабатывающих программ, менеджеры ресурсов,
вынесенные в пользовательский режим, называются серверами ОС, т.е.
модулями, основным назначением которых является обслуживание
запросов локальных приложений и других модулей ОС.

![](_src/6.png)
 
![](_src/7.png)

##### 4t

Схема смены режимов при выполнении системного вызова в ОС с
микроядерной архитектурой выглядит, как показано на рис. 1.8. Из
рисунка ясно, что выполнение системного вызова сопровождается
четырьмя переЮiючениями режимов (4 t), в то время как в Юiассической
архитектуре - двумя. Следовательно, производительность ОС с
микроядерной архитектурой при прочих равных условиях будет ниже,
чем у ОС с Юiассическим ядром.

![](_src/8.png)

##### достоинства микроядерной архитектуры

В то же время признаны следующие достоинства микроядерной
архитектуры [17]:
* • единообразные интерфейсы;
* • простота расп.mряемости;
* • высокая гибкость;
* • возможность переносимости;
* • высокая надежность;
* • поддержка распределенных систем;
* • поддержка объектно-ориентированных ОС.

Для возможности представления о размерах микроядер операционных
систем в ряде источников [lZ] приводятся такие данные:
* • типичное микроядро первого поколения - 300 Кбайт кода и 140
интерфейсов системных вызовов;
* • микроядро ОС L4 (второе поколение) - 12 Кбайт кода и 7
интерфейсов системных вызовов.

В современных операционных системах различают следующие виды
ядер.
##### 1. Наноядро (НЯ). Крайне упрощённое и минимальное ядро,
выполняет лишь одну задачу обработку аппаратных
прерываний, генерируемых устройствами компьютера. После
обработки посылает информацию о результатах обработки
вышележащему программному обеспечению. НЯ используются
для виртуализации аппаратного обеспечения реальных
компьютеров или для реализации механизма гипервизора.

##### 2. Микроядро (МЯ) 
предоставляет только элементарные функции
управления процессами и минимальный набор абстракций для
работы с оборудованием. Большая часть работы осуществляется с
помощью специальных пользовательских процессов, называемых
сервисами. В микроядерной операционной системе можно, не
прерывая ее работы, загружать и выгружать новые драйверы,
файловые системы и т. д. Микроядерными являются ядра ОС
Mirux и GNU Hurd и ядро систем семейства BSD. Классическим
примером микроядерной системы является Symblan OS. Это
пример распространенной и отработанной микроядерной (а
начиная с версии Symblan OS v8.1, и наноядерной) операционной
системы.

##### 3. Экзоядро (ЭЯ)
предоставляет лишь набор сервисов для
взаимодействия между приложениями, а таюке необходимый
минимум функций, связанных с защитой: выделение и
высвобождение ресурсов, контроль прав доступа и т. д. ЭЯ не
занимается предоставлением абстракций для физических ресурсов
- эти функции выносятся в библиотеку пользовательского уровня
(так называемую liЬOS). В отличие от микроядра ОС,
базирующиеся на ЭЯ, обеспечивают большую эффективность за
счет отсутствия необходимости в переключении между
процессами при каждом обращении к оборудованию.

##### 4. Монолитное ядро (МнЯ)
предоставляет пшрокий набор
абстракций оборудования. Все части ядра работают в одном
адресном пространстве. МнЯ требуют перекомпиляции при
изменении состава оборудования. Компоненты операционной
системы являются не самостоятельными модулями, а составными
частями одной программы. МнЯ более производительно, чем
микроядро, поскольку работает как один большой процесс. МнЯ
является больпшнство Umх-систем и Linux. Монолитность ядер
усложняет отладку, понимание кода ядра, добавление новых
функций и возможностей , удаление ненужного, унаследованного
от предыдущих версий кода. "Разбухание" кода монолитных ядер
таюке повышает требования к объёму оперативной памяти.

##### 5. Модульное ядро (Мод. Я)
- современная, усовершенствованная
модификация архитектуры МЯ. В отличие от "классических" МнЯ,
модульные ядра не требуют полной перекомпиляции ядра при
изменении состава аппаратного обеспечения компьютера. Вместо
этого они предоставляют тот или иной механизм подгрузки
с1ктемы
модулей, поддерживающих то или иное аппаратное обеспечение
(например, драйверов). Подгрузка модулей может быть как
динамической, так и статической (при перезагрузке ОС после
переконфигурирования системы). Мод. Я удобнее для разработки,
чем традиционные монолитные ядра. Они предоставляют
программный интерфейс (API) для связывания модулей с ядром,
для обеспечения динамической подгрузки и выгрузки модулей. Не
все части ядра могуr быть сделаны модулями. Некоторые части
ядра всегда обязаны присуrствовать в оперативной памяти и
должны быть жёстко ''вllillты" в ядро.

##### 6. Гибридное ядро (ГЯ)
модифицированные микроядра,
позволяющие для ускорения работы запускать "несущественные"
части в пространстве ядра. Имеют "гибридные" достоинства и
недостатки. Примером смешанного подхода может служить['pl]
возможность запуска операционной системы с монолитным
ядром под управлением микроядра. Так устроены 4.4BSD и
MkLinux, основанные на микроядре Mach. Микроядро
обеспечивает управление виртуальной памятью и работу
низкоуровневых драйверов. Все остальные функции , в том числе
взаимодействие с прикладными программами, осуществляются
монолитным ядром. Данный подход сформировался в результате
попыток использовать преимущества микроядерной архитектуры,
сохраняя по возможности хорошо отлаженный код монолитного
ядра.

##### 7.Windows NТ
Наиболее тесно элементы микроядерной архитектуры и элементы
монолитного ядра переплетены в ядре Windows NТ. Хотя Windows
NT часто называют микроядерной операционной системой , это
не совсем так. Микроядро NT слишком велико (более 1 Мбайт),
чтобы носить приставку ''микро". Компоненты ядра Windows NT
располагаются в вытесняемой памяти и взаимодействуют друг с
другом пуrем передачи сообщений, как и положено в
микроядерных операционных системах. В то же время все
компоненты ядра работают в одном адресном пространстве и
активно используют общие структуры данных, что свойственно
операционным системам с монолитным ядром .

### 1.6. Классификация операционных систем 42

Все многообразие существующих (и ныне не использующихся) ОС
можно классифицировать по множеству различных признаков .
Остановимся на основных классификационных признаках.

#### 1. По назначению ОС 
делятся на универсальные и
специализированные. Специализированные ОС, как правило,
работают с фиксированным набором программ (функциональных
задач). Применение таких систем обусловлено невозможностью
использования универсальной ОС по соображениям
эффективности, надежности, защищенности и т.п., а также
вследствие специфики решаемых задач [10].
Универсальные ОС рассчитаны на решение любых задач
пользователей, но, как правило, форма эксплуатации
вычислительной системы может предъявлять особые требования
к ОС, т.е. к элементам ее специализации.
#### 2. По способу загрузки
можно выделить загружаемые ОС
(большинство) и системы, постоянно находящиеся в памяти
вычислительной системы. Последние, как правило,
специализированные и используются для управления работой
специализированных устройств (например, в БЦВМ
баллистической ракеты или спутника, научных приборах,
автоматических устройствах различного назначения и др.).
#### 3. По особенностям алгоритмов управления ресурсами.
Главным
ресурсом системы является процессор, поэтому дадим
классификацию по алгоритмам управления процессором, хотя
можно, конечно, классифицировать ОС по алгоритмам
управления памятью, устройствами ввода-вывода и.т.д.
##### Поддержка многозадачности (многопрограммности). 
По
числу одновременно выполняемых задач ОС делятся на 2
класса: однопрограммные (однозадачные) - например, MSDOS,
MSX, и многопрограммные (многозадачные) -
например, ОС ЕС ЭВМ, OS/360, OS/2, UNIX, Windows
разных версий.

##### Поддержка многопользовательского режима.
По числу
одновременно работающих пользователей ОС делятся: на
однопользовательские (MS-DOS, Wmdows Зх, ранние версии
OS/2) и многопользовательские (UNIX, Wmdows
NT/2000/2003/XPMsta).
Главное отличие многопользовательских систем от
однопользовательских наличие средств защиты
информации каждого пользователя от
несанкционированного доступа других пользователей.
Следует заметить, что может быть однопользовательская
мупьтипрограммная система.

#####  Виды многопрограммной работы. 
Специфику ОС во многом
определяет способ распределения времени между
несколькими одновременно существующими в системе
процессами (или потоками). По этому признаку можно
выделить 2 группы алгоритмов: 
###### не вытесняющ~я многопрограммность 
(WmdowsЗ.x, NetWare) и 
###### вытесняющ~я
многопрограммность 
(Wmdows 2000/2003/ХР, OS/2, Unix).
В первом случае активный процесс выполняется до тех пор,
пока он сам не отдает управление операционной системе.
Во втором случае решение о переключении процессов
принимает операционная система. Возможен и такой режим
многопрограммности, когда ОС разделяет процессорное
время между отдельными ветвями (потоками, волокнами)
одного процесса.

##### Многопроцессорная обработка. 
Важное свойство ОС -
отсутствие или наличие средств поддержки
многопроцессорной обработки. По этому признаку можно выделить ОС без поддержки мультипроцессирования
(Windows З.х, Wmdows 95) и с поддержкой
мультипроцессирования (Solaris, OS/2, UNIX, Windows
NT/2000/2003/XP).

Многопроцессорные ОС классифицируются по способу
организации вычислительного процесса на 
###### асимметричные ОС
(выполняются на одном процессоре, распределяя
прикладные задачи по остальным процессорам) и
###### симметричные ОС
(децентрализованная система).

#### 4. По области использования и форме эксплуатации. Обычно здесь
выделяют три типа в соответствии с использованными при их
разработке критериями эwктивности:
##### системы пакетной обработки (OS/360, ОС ЕС);
Первые предназначались для решения задач в основном
вычислительного характера, не требующих быстрого получения
результатов. Критерий создания таких ОС - максимальная
пропуская способность при хорошей загрузке всех ресурсов
компьютера. В таких системах пользователь отстранен от
компьютера.
##### системы разделения времени (UNIX, VМS);
Системы разделения времени обеспечивают У,Цобство и
эwктивность работы пользователя, который имеет терминал и
может вести диалог со своей программой.
##### системы реального времени (QNX, RT/11).
Системы реального времени предназначены для управления
техническими объектами ( станок, спутник, технологический
процесс, например доменный и т. п.), где существует предельное
время на выполнение программ, управляющих объектом.

#### 5. По аппаратной платформе 
(типу вычислительной техники), для
которой они предназначаются, операционные системы делят на
следующие группы.
#####  Операционные системы для смарт-карт.
Некоторые из них
могут управлять только одной операцией, например,
электронным платежом. Некоторые смарт- карты являются
JАVА-ориентированным и содержат интерпретатор
виртуальной мапшны JAVA. Апплеты JAVA загружаются на
карту и выполняются JVМ-интерпретатором. Некоторые из
таких карт могуг одновременно управлять несколькими
апплетами JAVA, что приводит к многозадачности и
необходимости планирования.
##### Встроенные операционные системы .
Управляют
карманными компьютерами (liahn OS, Windows СЕ -
Consumer Electronics - бытовая техника), мобильными
телефонами, телевизорами, микроволновыми печами и т.п .
##### Операционные системы для персональных компьютеров,
например, Wmdows 9.х, Windows ХР, Linux, Мае OSX и др .

##### Операционные системы мини-ЭВМ,
например, RГ-11 для
PDP-11 - 
###### ОС реального времени, RSX-11 М для PDP-11 -
###### ОС разделения времени, UNIX для PDP-7.
##### Операционные системы мэйнфреймов (больпшх мапшн),
например, OS/390, происходящая от OS/360 (IBM). Обычно
ОС мэйнфреймов предполагает одновременно три вида
обслуживания: 
###### пакетную обработку, 
###### обработку транзакций
(например, работа с БД, бронирование авиабилетов,
процесс работы в банках) и
###### разделение времени.

##### Серверные операционные системы,
например, UNIX,
Wmdows 2000, Linux. Область применения ЛВС,
региональные сети, Intranet, Internet.

##### Кластерные операционные системы.
Кластер 
###### слабо связанная совокупность
нескольких вычислительных
систем, работающих совместно для выполнения общих
приложений и 
###### представляющихся пользователю единой
системной, например, Wmdows 2000 CltJSter Seгver, Windows
2008 Server, SШ1 Cluster (базовая ОС - Solaris).

### 1.7. Эффективность и требования, предъявляемые к ос 45

К операционным системам современных компьютеров предъявляется
ряд требований. Главным требованием является выполнение основных
функций эqхрективного управления ресурсами и обеспечения удобного
интер~йса для пользователя и прикладных программ. Современная
ОС должна поддерживать мультипрограммную обработку, виртуальную
память, свопинг, развитый интерфейс пользователя (многооконный
графический, аудио -, менюориентированный и т.д. ), высокую степень
защиты, удобство работы, а таюке выполнять многие другие
необходимые функции и услуги. Кроме этих требований
функциональной полноты, к ОС предъявляется ряд важных
эксплуатационных требований.

#### 1. Э№ктивность. 
Под эwктивностью вообще любой технической
(да и не только технической) системы понимается степень
соответствия системы своему назначению, которая оценивается
некоторым множеством показателей эwктивности [10].
Поскольку ОС представляет собой сложную программную
систему, она использует для собственных нужд значительную
часть ресурсов компьютера. Часто эф!Jективность ОС оценивают
ее 
##### производительностью (пропускной способностью)
##### количеством задач пользователей,
выполняемых за некоторый
промежуток времени ,
##### временем реакции на запрос
пользователя и
др.
На все эти показатели эwктивности ОС влияет много
различных факторов, среди которых основными являются
архитектура ОС, многообразие ее функций, качество
программного кода, аппаратная платформа (компьютер) и др.

#### 2. Надежность и отказоустойчивость.
Операционная система должна
быть, по меньшей мере, так же надежна, как компьютер, на
котором она работает. Система должна быть защищена как от
внутренних, так и от внешних сбоев и отказов. В случае ошибки в
программе или аппаратуре система должна обнаружить ошибку и
попытаться исправить положение или, по крайней мере,
постараться свести к минимуму ущерб, нанесенный этой ошибкой
пользователям.
Надежность и отказоустойчивость ОС, прежде всего,
определяются архитектурными решениями , положенными в ее
основу, а таюке отлаженностью программного кода (основные
отказы и сбои ОС в основном обусловлены программными
ошибками в ее модулях). Кроме того, важно, чтобы компьютер
имел резервные дисковые массивы, источники бесперебойного
питания и др., а таюке программную поддержку этих средств.

#### 3. Безопасность (защищенность). 
Ни один пользователь не хочет,
чтобы другие пользователи ему мешали . ОС должна защищзть
пользователей и от воздействия 
##### чужих ошибок,
и от 
##### попыток злонамеренного вмеrштельства
(несанкционированного доступа).
С этой целью в ОС как минимум должны быть средства
ауrентификации 
###### определения легальности пользователей,
авторизации предоставления легальным пользователям
установленных им прав доступа к ресурсам, и 
###### аУдита - фиксации всех потенциально опасных для системы событий.
Свойства безопасности особенно важны для сетевых ОС. В таких
ОС к задаче контроля доступа добавляется задача защиты данных,
передаваемых по сети.
#### 3. Предсказуемость. 
Требования, которые пользователь может предъявить к системе, в большинстве случаев непредсказуемы. В то же время пользователь предпочитает, чтобы обслуживание не очень сильно менялось в течение предположительного времени. В частности, запуская свою программу в системе, пользователь должен иметь основанное на опыте работы с этой программной приблизительное представление, когда ему ожидать выдачи результатов.

#### 5. Расширяемость. 
В отличие от аппаратных средств компьютера полезная жизнь операционных систем измеряется десятками лет. Примером может служить ОС UNIX, да и MS-DOS. Операционные системы изменяются со временем, как правило, за счет приобретения новых свойств, например, поддержки новых типов внешних устройств или новых сетевых технологий.
##### расширяемой
Если программный код модулей ОС написан таким образом, что дополнения и изменения могут вноситься без нарушения целостности системы, то такую ОС называют расширяемой. Операционная система может быть расширяемой, если при ее создании руководствовались принципами модульности, функциональной избыточности, функциональной избирательности и параметрической универсальности.

#### 6. Переносимость.
В идеальном случае код ОС должен легко переноситься с процессора одного типа на процессор другого типа и с аппаратной платформы (которые различаются не только типом процессора, но и способом организации всей аппаратуры компьютера) одного типа на аппаратную платформу другого типа. Переносимые ОС имеют несколько вариантов реализации для разных платформ, такое свойство ОС называется также
##### многоплатформенностью.
Достигается это свойство за счет того, что основная часть ОС пишется на языке высокого уровня (например С, C++ и др.) и может быть легко перенесена на другой компьютер 
###### (машинно-независимая часть),
а некоторая меньшая часть ОС 
###### (программы ядра) 
является машинно-зависимой и разрабатывается на машинном языке другого компьютера.

#### 7. Совместимость. 
Существует несколько "долгоживущих" популярных ОС (разновидности UNIX, MS-DOS, Windows3.x, Windows NT, OS/2), для которых наработана широкая номенклатура приложений. Для пользователя, переходящего с одной ОС на другую, очень привлекательна возможность – выполнить свои приложения в новой операционной системе. Если ОС 
##### имеет средства для выполнения прикладных программ,
написанных для других операционных систем, то она совместима с этими системами. Следует различать 
###### совместимость на уровне двоичных кодов 
и 
###### совместимость на уровне исходных текстов. 
Кроме того, понятие совместимости включает также 
###### поддержку пользовательских интерфейсов других ОС.

#### 8. Удобство.
Средства ОС должны быть простыми и гибкими, а логика ее работы ясна пользователю. Современные ОС ориентированы на обеспечение пользователю максимально возможного удобства при работе с ними. Необходимым условием этого стало наличие у ОС графического пользовательского интерфейса и всевозможных мастеров – программ, автоматизирующих активизацию функций ОС, подключение периферийных устройств, установку, настройку и эксплуатацию самой ОС.

#### 9. Масштабируемость. 
Если ОС позволяет управлять компьютером с различным числом процессоров, обеспечивая 
##### линейное (или почти такое) возрастание 
производительности при увеличении числа процессоров, то такая ОС является масштабируемой. В масштабируемой ОС реализуется симметричная многопроцессорная обработка. С масштабируемостью связано
##### понятие кластеризации 
– объединения в систему двух (и более) многопроцессорных компьютеров. Правда, кластеризация направлена не столько на масштабируемость, сколько на обеспечение высокой готовности системы.

Производители могут предлагать свои ОС в различных, различающихся ценой и производительностью, конфигурациях. Например, Microsoft продает [10]:

* Windows 2003 Server (до 4-х процессоров) – для малого и среднего бизнеса;
* Windows 2003 Advanced Server (до 8 процессоров, 2-узловой кластер) – для средних и крупных предприятий;
* Windows 2003 DataCenter Server (16-32 процессора, 4-узловой кластер) – для особо крупных предприятий.


### 1.8. Совместимость и множественные прикладные среды 49

В то время как многие архитектурные особенности ОС непосредственно касаются только системных программистов, концепция множественных прикладных (операционных) средств непосредственно связана с нуждами конечных пользователей – возможностью операционной системы выполнять приложения, написанные для других операционных систем. Такое свойство операционной системы называется совместимостью.

Вид возможной совместимости зависит от многих факторов. Самый главный из них – архитектура процессора. Если процессор применяет тот же набор команд (возможно, с добавлениями, как в случае IBM PC: стандартный набор + мультимедиа + графика + потоковые) и тот же диапазон адресов, то двоичная совместимость может быть достигнута достаточно просто. Для этого необходимо соблюдение следующих условий:

* API, который использует приложение, должен поддерживаться данной ОС;
* внутренняя структура исполняемого файла приложения должна соответствовать структуре исполняемых файлов данной ОС.

Если процессоры имеют разную архитектуру, то, кроме перечисленных условий, необходимо организовать эмуляцию двоичного кода. Например, широко используется эмуляция команд процессора Intel на процессоре Motorola 680x0 компьютера Macintosh. Программный эмулятор в этом случае последовательно выбирает двоичную инструкцию процессора Intel и выполняет эквивалентную подпрограмму, написанную в инструкциях процессора Motorola. Так как у процессора Motorola нет в точности таких же регистров, флагов, внутреннего АЛУ и др., как в процессорах Intel, он должен также имитировать (эмулировать) все эти элементы с использованием своих регистров или памяти.

#### реализации множественных прикладных сред

Существуют различные варианты построения множественных прикладных сред, отличающиеся как особенностями архитектурных решений, так и функциональными возможностями, обеспечивающими разную степень переносимости приложений. Один из наиболее очевидных вариантов реализации множественных прикладных сред основывается на стандартной многоуровневой структуре ОС.

##### ОС OS

На рис. 1.9 ОС OS1 поддерживает кроме своих "родных" приложений приложения операционных систем OS2 и OS3. Для этого в её составе имеются специальные приложения, прикладные программные среды, которые транслируют интерфейсы "чужих" операционных систем API OS2 и API OS3 в интерфейс своей "родной" ОС – API OS1. Так, например, в случае если бы в качестве OS2 выступала ОС UNIX, а в качестве OS1 – OS/2, для выполнения системного вызова создания процесса fork () в UNIX-приложении программная среда должна обращаться к ядру операционной системы OS/2 с системным вызовом DOS ExecPgm ().

![](_src/01_09.jpg)

#### на микроядерном подходе

Еще один способ построения множественных прикладных сред основан на микроядерном подходе. При этом очень важно отметить базовое, общее для всех прикладных сред отличие механизмов операционной системы от специфических для каждой из прикладных сред высокоуровневых функций, решающих стратегические задачи. В соответствии с микроядерной архитектурой все функции ОС реализуются микроядром и серверами пользовательского режима. Важно, что прикладная среда оформляется в виде отдельного сервера пользовательского режима и не включает базовых механизмов.

Приложения, используя API , обращаются с системными вызовами к соответствующей прикладной среде через микроядро. Прикладная среда обрабатывает запрос, выполняет его (возможно, обращаясь для этого за помощью к базовым функциям микроядра) и отсылает приложению результат. В ходе выполнения запроса прикладной среде приходится, в свою очередь, обращаться к базовым механизмам ОС, реализуемым микроядром и другими серверами ОС.

Такому подходу к конструированию множественных прикладных сред присущи все достоинства и недостатки микро ядерной архитектуры, в частности:

* очень просто можно добавлять и исключать прикладные среды, что является следствием хорошей расширяемости микро ядерных ОС;
* при отказе одной из прикладных сред остальные сохраняют работоспособность, что способствует надежности и стабильности системы в целом;
* низкая производительность микроядерных ОС сказывается на скорости работы прикладных средств, а значит, и на скорости работы приложений.

### 1.9. Виртуальные машины как современный подход к реализации множественных прикладных сред 54

#### Понятие "монитор виртуальных машин" (МВМ) 
возникло в конце 60-х годов как программный уровень абстракции, разделявший аппаратную платформу на несколько виртуальных машин. Каждая из этих виртуальных машин (ВМ) была настолько похожа на базовую физическую машину, что существующее программное обеспечение могло выполняться на ней в неизменном виде. В то время вычислительные задачи общего характера решались на дорогих мэйнфреймах (типа IBM/360), и пользователи высоко оценили способность МВМ распределять дефицитные ресурсы среди нескольких приложений.

#### Виртуализация 
– развивающаяся технология. В общих словах, виртуализация позволяет отделить ПО от нижележащей аппаратной инфраструктуры. Фактически она разрывает связь между определенным набором программ и конкретным компьютером. Монитор виртуальных машин отделяет программное обеспечение от оборудования и формирует промежуточный уровень между ПО, выполняемым виртуальными машинами, и аппаратными средствами. Этот уровень позволяет МВМ полностью контролировать использование аппаратных ресурсов гостевыми операционными системами (GuestOS), которые выполняются на ВМ.

МВМ создает 
#### унифицированное представление базовых аппаратных средств,
благодаря чему физические машины различных поставщиков с разными подсистемами ввода-вывода выглядят одинаково и ВМ выполняются на любом доступном оборудовании. Не заботясь об отдельных машинах с их тесными взаимосвязями между аппаратными средствами и программным обеспечением, администраторы могут рассматривать оборудование просто как пул ресурсов для оказания любых услуг по требованию.

#### Благодаря полной инкапсуляции
состояния ПО на ВМ монитор МВМ может отобразить ВМ на любые доступные аппаратные ресурсы и даже перенести с одной физической машины на другую. Задача балансировки нагрузки в группе машин становится тривиальной, и появляются надежные способы борьбы с отказами оборудования и наращивания системы. Если нужно отключить отказавший компьютер или ввести в строй новый, МВМ способен соответствующим образом перераспределить виртуальные машины. Виртуальную машину легко тиражировать, что позволяет администраторам по мере необходимости оперативно предоставлять новые услуги.

Инкапсуляция также означает, что 
#### администратор 
может в любой момент 
##### приостановить 
##### или возобновить 
работу ВМ, а также 
##### сохранить 
текущее состояние виртуальной машины либо 
##### вернуть 
ее к предыдущему состоянию. Располагая возможностью универсальной отмены, удается легко справиться с авариями и ошибками конфигурации. Инкапсуляция является основой обобщенной модели мобильности, поскольку 
##### приостановленную ВМ можно копировать 
по сети, сохранять и транспортировать на сменных носителях.

#### МВМ играет роль посредника 
во всех взаимодействиях между ВМ и базовым оборудованием, поддерживая выполнение множества виртуальных машин на единой аппаратной платформе и обеспечивая их надежную 
##### изоляцию.
МВМ позволяет собрать 
##### группу ВМ 
с низкими потребностями в ресурсах на отдельном компьютере, снизив затраты на аппаратные средства и потребность в производственных площадях.

https://www.intuit.ru/studies/professional_skill_improvements/2023/courses/487/lecture/11048?page=6




### 1.10. Эффекты виртуализации 60

## Основные семейства операционных систем 66

### 2.1. История семеиства операционных систем UNIX/Linux 66

### 2.2. Генеалогия семейства операционных систем и некоторые известные версии UNIX 74

### 2.3. Операционные системы фирмы Мicrosoft 94

### 2.4. Отличия семейства UNIX/Linux от операционных систем Windows и MS DOS 99

## Стандарты и лицензии на программное обеспечение 102

### 3.1. Стандарты семейства UNIX 102

### 3.2. Лицензии на программное обеспечение и документацию 110

## Интерфейсы  операционных систем 116

### 4.1. Основные понятия, связанные с интерфейсом операционных систем 116

### 4.2. Графический интерфейс пользователя в семействе UNIX/Linux 129

#### 4.2.1. К истории Х Window system 129

#### 4.2.2. Основные понятия системы Х Window 134

#### 4.2.3. Х Window в Linux 137

#### 4.2.4. Интегрированная графическая среда KDE 139

#### 4.2.5. Интегрированная графическая среда GNOME 141

### 5.1. Концепция процессов и потоков. Задание, процессы, потоки (нити), волокна 143

### 5.2. Мультипрограммирование. Формы многопрограммной работы 147

### 5.3. Управление процессами и потоками 152

### 5.4. Создание проце ссов и потоков. Модели процессов и потоков 158

### 5.5. Планирование заданий, процессов и потоков 168

### 5.6. Взаимодействие и синхронизация процессов и потоков 177

### 5.7. Методы взаимоисключений 186

### 5.8. Семафоры и мониторы 192

### 5.9. Взаимоблокировки (тупики) 198

### 5.10. Синхронизирующие объекты ОС 203

### 5.11. Аппараrно-программные средства поддержки мультипрограммирования  207

### 5.12. Системные вызовы 211

## Управление памятью. Методы, а.Ш'оритмы и средства 215

### 6.1. Организация памяти современного компьютера 215

### 6.2. Функции ОС по управлению памятью 220

### 6.3. Распределение памяти 223

### 6.4. Страничная организация виртуальной памяти 231

### 6.5. Оптимизация функционирования страничной виртуальной памяти 239

### 6.6. Сегментная организация виртуальной памяти 252

###  6.7. Сегментно-страничная виртуальная память 257

## Подсистема ввода-вывода. Файловые системы 264

### 7.1. Устройства ввода-вывода 264

### 7.2. Назначение, задачи и технологии подсистемы ввода-вывода 266

### 7.3. Согласование скоростей обмена и кэширования данных 272

### 7.4. Разделение устройств и данных между процессами 275

### 7.5. Обеспечение логического интерфейса между устройствами и системой 276

### 7.6. Поддержка широкого спектра драйверов 276

### 7. 7. Динамическая загрузка и выгрузка драйверов 279

### 7.8. Поддержка синхронных и асинхронных операций ввода-вывода 280

### 7.9. Многослойная (иерархическая) модель подсистемы ввода-вывода 281

### 7.10. Драйверы 284

### 7.11. Файловые системы. Основные понятия 287

### 7.12. Архитектура файловой системы 291

### 7.13. Организация файлов и доступ к ним 293

### 7.14. Каталоговые системы 302

### 7.15. Физическая организация файловой системы 305

### 7.16. Физическая организация и адресация файла 310

### 7.17. Физическая организация FАТ-системы 316

### 7.18. Файловые операции 323

### 7.19. Контроль до ступа к файлам 330

## Основные события в истории семейства UNIX/Linux 337

## Первенство технологических достижений двух основных версий UNIX 345






